{
    "name": "CombatTracker",
    "script": "CombatTracker.js",
    "version": "0.2.5",
    "previousversions": ["0.1.10", "0.1.11", "0.2.0","0.2.3", "0.2.4"],
    "description": "## CombatTracker\n\n* Skype: RobinKuiper.eu\n* Discord: Atheos#1095\n* Roll20: https://app.roll20.net/users/1226016/robin\n* Roll20 Thread: https://app.roll20.net/forum/post/6349145/script-combattracker\n* Github: https://github.com/RobinKuiper/Roll20APIScripts\n* Reddit: https://www.reddit.com/user/robinkuiper/\n* Patreon: https://patreon.com/robinkuiper\n* Paypal.me: https://www.paypal.me/robinkuiper\n\n---\n\n![Turn](https://i.imgur.com/rqfiZZD.png \"Turn\")\n\nCombatTracker will be a great help in battles. Easily keep tracks of who's turn it is, use a turn timer, let players progress to the next turn by themselves, adding/removing conditions, etc.\nIt has a lot of customizable configuration options.\n\n### StatusInfo\nIf you use my [StatusInfo](https://github.com/RobinKuiper/Roll20APIScripts/tree/master/StatusInfo) script, it will also add the markers set there automatically to the selected token(s), and it will add a condition to this script if you manually (or through TokenMod/StatusInfo) set a marker that has a condition in StatusInfo.\n\n![Token](https://i.imgur.com/Pbca4fn.png \"Token\")\n\n### Commands\n![Menu](https://i.imgur.com/I1VJz91.png \"Menu\")\n\n* **!ct** - Shows the CombatTracker menu.\n* **!ct config** - Shows the config menu.\n* **!ct favorites** - Shows the favorites menu.\n* **!ct conditions** - Shows a list of known conditions from StatusInfo and favorites.\n* **!ct show** - Shows a list of conditions on selected tokens.\n* **!ct start** - Starts the combat, if you have tokens selected it will try to roll initiative for them and add them to the tracker.\n* **!ct stop** - Stops the combat (closes the turntracker, removes the marker, clears the turnorder list, etc.).\n* **!ct next** - Goes to the next turn (a player can also use this if it is his turn).\n* **!ct prev** - Goes to the previous turn (gm only).\n* **!ct add [condition name] [?duration] [?direction] [?message]** - Adds a condition to the selected token(s) (duration is optionally (how much rounds.)).\n    * **[?duration]** - Optional duration, set `0` for no duration.\n    * **[?direction]** - The direction per turn, eg. `-1`, `-3`, `+1`, `+3`.\n    * **[?message]** - A message that will be visible.\n* **!ct remove [condition name]** - Removes a condition from the selected token(s).\n* **!ct reset conditions** - Resets all conditions.\n* **!ct st** - Stops the timer for this turn.\n* **!ct pt** - Pause timer toggle for this turn.\n\n### Conditions\n\n![Show](https://i.imgur.com/DaPFDhK.png \"Show\")\n\n#### Commands\n* **!ct conditions** - Shows a list of known conditions from StatusInfo and favorites.\n* **!ct show** - Shows a list of conditions on selected tokens.\n* **!ct add [condition name] [?duration] [?direction] [?message]** - Adds a condition to the selected token(s) (duration is optionally (how much rounds.)).\n    * **[?duration]** - Optional duration, set `0` for no duration.\n    * **[?direction]** - The direction per turn, eg. `-1`, `-3`, `+1`, `+3`.\n    * **[?message]** - A message that will be visible.\n* **!ct remove [condition name]** - Removes a condition from the selected token(s).\n* **!ct reset conditions** - Resets all conditions.\n\n![Known Conditions](https://i.imgur.com/2lJxMOi.png \"Known Conditions\")\n\n### Favorites\n![Favorites](https://i.imgur.com/nQqPpNJ.png \"Favorites\")\n\nHere you can create, add and edit favorite conditions. By clicking on the name it will be added to the selected token(s).\n* **Name** - The name of the condition.\n* **Duration** - How long the condition lasts (0 for no duration).\n* **Direction** - The direction the duration will go to, eg. `-1`, `-3`, `+1`, `+3`.\n* **Message** - A small message that will be visible when it's the characters turn.\n\n![Edit Condition1](https://i.imgur.com/4qX4U3P.png \"Edit Condition1\")\n![Edit Condition2](https://i.imgur.com/u2HYbtz.png \"Edit Condition2\")\n\n### Config\n![Config](https://i.imgur.com/YCDPz24.png \"Config\")\n\n* **Command** - The command used for this script, eg. !ct.\n* **Ini. Attribute** - The initiative bonus attribute used in the character sheet that you are using, defaults to `initiative_bonus` used in the 5e OGL sheet.\n* **Marker Img.** - Image (url) you want to use as a marker.\n* **Stop on Close** - Stop the combat on turnorder close (removes the marker, clears the turnorder list, etc.).\n* **Auto Roll Ini.** - If you want to autoroll (and add) the selected tokens' initiative when you start combat.\n* **Auto Pull Map** - If you want to pull the page to the token (same as `shift + hold left click`).\n\n## Timer Config\n![Timer Config](https://i.imgur.com/QZRKy6a.png \"Timer Config\")\n\n* **Turn Timer** - If you want to use the timer.\n* **Time** - The time per turn (in seconds).\n* **Show in Chat** - Announce remaining time in chat at intervals.\n* **Show on Token** - Show a timer above the current token.\n* **Token Font** - The font used for the token timer.\n* **Font Size** - The font size used for the token timer.\n\n## Announcement Config\n![Announcement Config](https://i.imgur.com/DIL89VN.png \"Announcement Config\")\n\n* **Announce Turn** - Announces who's turn it is in chat.\n* **Announce Round** - Announces the round in chat.\n* **Announce Conditions** - If you don't announce the turn, you can choose to only announce conditions in chat.\n* **Shorten Long Name** - If you want to shorten a long name in chat.\n* **Use FX** - If you want to use some special effect with the turn change.\n    * **FX Type** - The name-color of the FX you want to use, for custom FX use the id.\n\n\nRoll20 Thread: https://app.roll20.net/forum/post/6349145/script-combattracker\n\n---\n\n#### Changelog\n**v0.2.0**\n* Optionally auto Pull\n* Optionally use FX on turn change.\n* Fixed condition round counter.\n* Logical shit & bugfixes.\n\n**v0.1.13**\n* Bugfixes\n\n**v0.1.12**\n* Show a list of conditions on selected tokens, `!ct show`.\n* Show a list of known conditions (from StatusInfo and favorites), `!ct conditions`.\n\n**v0.1.11**\n* !ct menu expanded.\n* Players can see Round number now.\n* Save and use favorite conditions.\n* Possibility to add a custom message to a condition.\n* Possibility to add a direction to the duration of a condition, eg. `+1`, `+3`, `-1`, `-3`.\n* Possibility to pause the timer, `!ct pt` will toggle the pause. There also is a button in the menu, `!ct menu` or `!ct`.\n* Possibility to shorten a long name in the chat announcements.\n* Possibility to go to the previous turn.\n* Fixed initiative attribute config option.\n\n**v0.1.10**\n* Fixed a bug were conditions with StatusInfo support didn't get the duration provided (needs StatusInfo update to).\n* Fixed a bug were selecting tokens by dragging caused an error.\n* Some small fixes.\n\n**v0.1.9 - 02-05-2018**\n* Good connection with [StatusInfo](https://github.com/RobinKuiper/Roll20APIScripts/tree/master/StatusInfo)\n* Add/remove conditions.\n* Whisper hidden turns to gm.\n* Better initiative calculations.\n* Changed config menu.\n* Changed some styling.\n* Bugfixes\n\n**v0.1.4 - 27-04-2018**\n* Fixed a bug were manually going further in the turnorder list didn't work.\n* Added the option to stop combat on turnorder list close.",
    "authors": "Robin Kuiper",
    "roll20userid": "1226016",
    "patreon": "https://www.patreon.com/robinkuiper",
    "useroptions": [],
    "dependencies": [],
    "modifies": {
        "state.COMBATTRACKER": "read,write"
    },
    "conflicts": []
}
