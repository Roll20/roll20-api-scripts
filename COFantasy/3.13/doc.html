<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Documentation du script COFantasy sous Roll20">
    <meta name="author" content="Ulti & Kamille">
    <title>Scripts pour Chroniques Oubli\xE9es Fantasy sous Roll20</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>

  </head>
  <body data-target="#list" data-spy="scroll" data-offset="10">
    <style>
body{position: relative;}
img{margin: 0 auto; display: block; border-radius: 3px; -webkit-box-shadow: 0px 3px 8px 1px rgba(61, 61, 61,0.40); -moz-box-shadow: 0px 3px 8px 1px rgba(61, 61, 61,0.40); box-shadow: 0px 3px 8px 1px rgba(61, 61, 61,0.4);}
.card, img:hover{-webkit-box-shadow: 0px 3px 8px 1px rgba(61, 61, 61,0.60); -moz-box-shadow: 0px 3px 8px 1px rgba(61, 61, 61,0.60); box-shadow: 0px 3px 8px 1px rgba(61, 61, 61,0.60);}
.card {margin-bottom: 20px;}
.card > img {-webkit-box-shadow: none; -moz-box-shadow: none; box-shadow: none;}
.card.added > img {-webkit-filter: grayscale(100%); -moz-filter: grayscale(100%); -o-filter: grayscale(100%); -ms-filter: grayscale(100%); filter: grayscale(100%); }
.card .card-title {height: 52px; overflow: hidden}
figcaption {font-size: 0.7em; text-align: center; margin-top: -0.7rem; margin-bottom: 0.7rem;}
div.decalage {margin-left: 10px;}
h3.text-info {margin-top: 30px;}
h4.text-secondary {margin-top: 30px;}
.content li {margin-top: 10px}
div.decalage > h3.text-info:first-child, div.decalage > h4.text-secondary:first-child, .content li:first-child {margin-top: 0px;}
div.alert > p:last-child {margin-bottom: 0}
#json_data textarea {margin-bottom: 10px;}
#json_data button {margin-bottom: 10px; margin-right: 5px; float: right;}
#json_data button::after {clear: both;}
table {border-collapse: collapse;}
th, td {padding: 5px;}
tr {line-height: 25px;}
    </style>
    <script>
      $('document').ready(function() {      
        $(document).on('click', '[data-href]', function(){
          window.open($(this).data('href'));
        });

        $('a[href^="http://"], a[href^="https://"]').attr('target','_blank');

        $('div.sticky-top ul.collapse').on('show.bs.collapse', function () {
          $('div.sticky-top ul.collapse').collapse('hide');
        });
      });
    </script>
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-3 col-sm-4 d-none d-sm-block d-md-block d-lg-block d-xl-block">
          <div class="sticky-top">
            <h1>Sommaire</h1>
            <ol>
              <li data-toggle="collapse" data-target="#how_to_use"><a href="#comment_utiliser_script">Comment utiliser Le script</a></li>
              <ul id="how_to_use" class="collapse">
                <li><a class="text-info" href="#token_personnages">Tokens et personnages</a></li>
                <li><a class="text-info" href="#macros_abilities">Macros et Abilities</a></li>
                <li><a class="text-info" href="#predicats">Pr\xE9dicats</a></li>
                <li><a class="text-info" href="#methode_selection_groupes">M\xE9thodes de s\xE9lection de groupes</a></li>
                <li><a class="text-info" href="#options_mana">Options de Mana</a></li>
                <li><a class="text-info" href="#regles_optionnelles">R\xE8gles optionnelles utilis\xE9es</a></li>
              </ul>
              <li data-toggle="collapse" data-target="#main_action"><a href="#action_principales">Actions principales</a></li>
              <ul id="main_action" class="collapse">
                <li><a class="text-info" href="#le_combat">Le combat</a></li>
                <li><a class="text-info" href="#soins">Soins</a></li>
                <li><a class="text-info" href="#repos">Repos</a></li>
                <li><a class="text-info" href="#statut_etats">Statut et \xE9tats</a></li>
                <li><a class="text-info" href="#sorts">Sorts</a></li>
                <li><a class="text-info" href="#consommables">Consommables</a></li>
                <li><a class="text-info" href="#deplacements">D\xE9placements</a></li>
                <li><a class="text-info" href="#lumiere">Lumi\xE8re</a></li>
                <li><a class="text-info" href="#jet_caracteristiques">Jet de caract\xE9ristiques</a></li>
                <li><a class="text-info" href="#anonymat">Anonymat et fausses identit\xE9s</a></li>
                <li><a class="text-info" href="#autre">Autres aspects du jeu</a></li>
              </ul>
              <li data-toggle="collapse" data-target="#abilities"><a href="#CapacitesClasse">Capacit\xE9s par Classe</a></li>
              <ul id="abilities" class="collapse">
                <li><a class="text-info" href="#Arquebusier">Arquebusier</a></li>
                <li><a class="text-info" href="#Barbare">Barbare</a></li>
                <li><a class="text-info" href="#Barde">Barde</a></li>
                <li><a class="text-info" href="#Chevalier">Chevalier</a></li>
                <li><a class="text-info" href="#Druide">Druide</a></li>
                <li><a class="text-info" href="#Ensorceleur">Ensorceleur</a></li>
                <li><a class="text-info" href="#Forgesort">Forgesort</a></li>
                <li><a class="text-info" href="#Guerrier">Guerrier</a></li>
                <li><a class="text-info" href="#Invocateur">Invocateur</a></li>
                <li><a class="text-info" href="#Magicien">Magicien</a></li>
                <li><a class="text-info" href="#Moine">Moine</a></li>
                <li><a class="text-info" href="#Necromancien">N\xE9cromancien</a></li>
                <li><a class="text-info" href="#Pretre">Pr\xEAtre</a></li>
                <li><a class="text-info" href="#Psionique">Psionique</a></li>
                <li><a class="text-info" href="#R\xF4deur">R\xF4deur</a></li>
                <li><a class="text-info" href="#Samoura\xEF">Samoura\xEF</a></li>
                <li><a class="text-info" href="#Voleur">Voleur</a></li>
              </ul>
              <li data-toggle="collapse" data-target="#autres_capacites"><a href="#Autres_capacit\xE9s">Autres capacit\xE9s</a></li>
              <ul id="autres_capacites" class="collapse">
                <li><a class="text-info" href="#Capacites_raciales">Voies et capacit\xE9s raciales</a></li>
                <li><a class="text-info" href="#Prestige">Voies de prestige et capacit\xE9s \xE9piques</a></li>
                <li><a class="text-info" href="#Cr\xE9atures">Voies de cr\xE9ature</a></li>
                <li><a class="text-info" href="#Sorts">Autres sorts</a></li>
                <li><a class="text-info" href="#Capacites_diverses">Capacit\xE9s diverses</a></li>
              </ul>
              <li data-toggle="collapse" data-target="#terres_d_arran"><a href="#Terres_d_Arran">Terres d'Arran</a></li>
              <ul id="terres_d_arran" class="collapse">
                <li><a class="text-info" href="#Peuples_d_Arran">Les peuples</a></li>
                <li><a class="text-info" href="#Voies_de_la_famille_des_combattants">Les combattants</a></li>
                <li><a class="text-info" href="#Voies_de_la_famille_des_aventuriers">Les aventuriers</a></li>
                <li><a class="text-info" href="#Voies_de_la_famille_des_mystiques">Les mystiques</a></li>
                <li><a class="text-info" href="#Voies_de_prestige_Arran">Voies de prestige</a></li>
              </ul>
              <li data-toggle="collapse" data-target="#markers_personnalises"><a href="#Markers_personnalis\xE9s">Markers personnalis\xE9s</a></li>
              <ul id="markers_personnalises" class="collapse">
                <li><a class="text-info" href="#Markers_presentation">Pr\xE9sentation</a></li>
                <li><a class="text-info" href="#Markers_COF">Markers COF</a></li>
                <li><a class="text-info" href="#Markers_Import">Importation dans Roll20</a></li>
                <li><a class="text-info" href="#Markers_Check">Activation et V\xE9rification</a></li>
              </ul>
              <li data-toggle="collapse" data-target="#console"><a href="#Console">Console API</a></li>
              <ul id="console" class="collapse">
                <li><a class="text-info" href="#Generalites_Console">G\xE9n\xE9ralit\xE9s sur la Console API</a></li>
                <li><a class="text-info" href="#Erreurs_Console">Principaux messages d'erreur</a></li>
                <li><a class="text-info" href="#Infos_Console">Principaux messages d'information</a></li>
                <li><a class="text-info" href="#Reset_state">Purger les variables d'\xE9tat du jeu</a></li>
              </ul>
              <li><a href="#pathfinder">Conversion depuis Pathfinder</a></li>
            </ol>
          </div>
        </div>
        <div class="col-md-9 col-sm-8 content">
          <h1>Documentation pour la version 3.13 de COFantasy</h1>
          <h2 class="text-primary" id="comment_utiliser_script">1. Comment utiliser Le script</h2>
          <div class="decalage">
            <h3 class="text-info" id="token_personnages">1.1 Tokens et personnages</h3>
            <div class="decalage">
              <p>Ces scripts ont \xE9t\xE9 \xE9crits pour fonctionner avec les fiches de personnages d\xE9velopp\xE9es par <a href="https://github.com/Roll20/roll20-character-sheets/tree/master/ChroniquesOubliees">Natha</a>.</p>
              <p><img class="img-fluid" src="https://i.imgur.com/rF0Qxht.png" data-href="https://i.imgur.com/rF0Qxht.png"></p>
              <figcaption>A choisir pendant la cr\xE9ation de la partie sur Roll20.</figcaption>
            </div>
            <p>Chaque token avec lequel vous souhaitez interagir doit repr\xE9senter un personnage.</p>
            <p>La barre 1 repr\xE9sente toujours les points de vie du token.<br />
            La barre 2 est soit la mana, pour les personnages qui ont des points de mana, soit les d\xE9g\xE2ts temporaires pour les personnages qui n\x2019ont pas de points de mana<br />
            La barre 3 est utilis\xE9e pour donner un modificateur temporaire \xE0 l\x2019attaque du token.
            </p>
            <p>Les statuts des tokens sont en partie utilis\xE9s pour repr\xE9senter des \xE9tats. Voir plus loin pour la <a href="#etats">liste des statuts</a> utilis\xE9s par les scripts.<br />
            Pour tenir compte d'autre \xE9tats non visibles sur les tokens, les scripts utilisent des attributs suppl\xE9mentaires (hors fiche). Parfois, le MJ devra cr\xE9er et remplir lui-m\xEAme certains attributs, d'autres fois cela sera g\xE9r\xE9 par les scripts.
            </p>
            <p>Il est important de noter la diff\xE9rence entre les tokens li\xE9s \xE0 un personnage (la barre 1 est li\xE9e aux points de vie du personnage, tout changement sur la fiche se r\xE9percute sur le token), et les tokens non li\xE9s (dans ce cas, la fiche de personnage est g\xE9n\xE9rique, et chaque token est une instance diff\xE9rente, avec des PV ind\xE9pendants).</p>
            <p>Pour g\xE9rer les \xE9tats sp\xE9cifiques \xE0 un token non li\xE9, les scripts utilisent des conventions de nom d'attribut utilisant le nom du token. Pour que cela fonctionne correctement, <b>il est important que deux tokens ind\xE9pendants ne portent pas le m\xEAme nom</b>, m\xEAme si ils repr\xE9sentent le m\xEAme personnage. Pour cette raison, le script va automatiquement renommer les tokens ind\xE9pendants, en leur associant un num\xE9ro. Il est toujours possible de remodifier le nom apr\xE8s la cr\xE9ation du token, mais dans ce cas, c'est vous qui g\xE9rez...</p>
            <p>Certains messages tiennent compte du genre (masculin ou f\xE9minin) des personnages. Ils utilisent le champ <code>Sexe</code> de la fiche de personnage. Un personnage est reconnu comme f\xE9minin si ce champ commence par la lettre <code>F</code>.
            </p>
            <h3 class="text-info" id="macros_abilities">1.2 Macros et Abilities</h3>
            <div class="decalage">
              <p>Comme tous les scripts, ces scripts sont utilisables tels quels dans le chat, mais ils sont pens\xE9s pour \xEAtre utilis\xE9s par des macros qui permettent un autre niveau d'automatisation parfois difficile d'acc\xE8s au sein des scripts. le script g\xE9n\xE8re d'ailleurs la plupart des macros utiles \xE0 la premi\xE8re utilisation, et il met automatiquement les macros \xE0 jour \xE0 chaque changement de version. Il est possible de demander des les re-cr\xE9er en tapant la commande <code>!cof-set-macros</code> dans le chat.</p>
              <p>
              Le script ne peut pas mettre les macros dans la barre de raccourci. Je recommande que chaque joueur se cr\xE9e sa macro <code>Centrer</code>, contenant le code <code>!cof-centrer-sur-token <i>nom_de_leur_token_principal</i></code>, qui leur permettra en un click de centrer la vue de la carte sur leur token. Pour le MJ, le script sugg\xE8re de mettre un certain nombre des macros qu'il cr\xE9e, au moment de la premi\xE8re utilisation.</p>
              <p>Une partie des capacit\xE9s et attaques des personnages devraient \xEAtre utilis\xE9es au sein d'abilities de personnages, accessibles comme "Token action". Si ces abilities utilisent des macros, ne pas oublier de rendre ces macros accessibles aux joueurs.</p>
            </div>
            <h3 class="text-info" id="predicats">1.3 Pr\xE9dicats</h3>
            <div class="decalage">
              <p>Une fa\xE7on courante d'informer le script qu'un personnage dispose d'une capacit\xE9 particuli\xE8re (que ce soit d\xFB \xE0 son entra\xEEnement ou \xE0 un objet port\xE9) consiste \xE0 utiliser des pr\xE9dicats. Il s'agit de mots cl\xE9s \xE0 rentrer dans la zone de texte <code>Pr\xE9dicats</code>, visible depuis l'onglet <code>Script</code> de la fiche. Ces mots cl\xE9s peuvent \xEAtre s\xE9par\xE9s de blancs ou de retours \xE0 la ligne.</p>
              <p>On peut associer une valeur \xE0 un pr\xE9dicat (le plus souvent un nombre, mais en fait n'importe quel mot qui ne contienne ni virgule, ni blanc, ni <code>:</code>). Pour cela, faire suivre le pr\xE9dicat de <code>:</code> puis de la valeur.</p>
              <p>Dans chaque ligne de la zone de pr\xE9dicats, tout ce qui vient apr\xE8s <code>//</code> est consid\xE9r\xE9 comme du commentaire et ignor\xE9 (exception: les valeurs complexes, si le <code>//</code> vient apr\xE8s <code>::</code>, voir plus bas).</p>
              <p><img class="img-fluid" src="images/predicats_barbare.jpg"></p>
              <figcaption>Exemple de pr\xE9dicats.</figcaption>
              <p>Certains pr\xE9dicats ont des valeurs complexes, qui peuvent contenir des blancs, des virgules, des guillements, ou m\xEAme des <code>:</code> ou <code>//</code>. Afin de pouvoir utliser ces valeurs, vous pouvez faire suivre le nom du pr\xE9dicat de <code>::</code>. Tout ce qui viendra apr\xE8s jusqu'\xE0 la fin de la ligne sera consid\xE9r\xE9 comme \xE9tant la valeur associ\xE9e \xE0 ce pr\xE9dicat. Un exemple typique d'utilisation : quand la valeur est un nom de personnage.</p>
              <p>Il est aussi possible d'associer des pr\xE9dicats \xE0 des attaques. Ces pr\xE9dicats sont pris en compte quand ses attaques sont des armes, et ce que ces armes sont tenues en main. Cela permet de coder une grande vari\xE9t\xE9 d'effets magiques des armes. Attention, cela ne fonctionne pas pour les mooks avec les pr\xE9dicats <code>animeAPartirDExistant</code>, <code>intercepter</code>, <code>lienEpique</code>, <code>attaqueEnTraitre</code>, <code>sansPeur</code>, <code>immuniteSaignement</code>, et <code>controleSanguin</code>.</p>
              <p><img class="img-fluid" src="images/mordante.jpg"></p>
              <figcaption>Une \xE9p\xE9e +1 aff\xFBt\xE9e avec le pr\xE9dicat enchainement (actif pour toute attaque, tant que cette \xE9p\xE9e est en main).</figcaption>
            </div>
            <h3 class="text-info" id="methode_selection_groupes">1.4 M\xE9thodes de s\xE9lection de groupes</h3>
            <div class="decalage">
              <p>Comme les joueurs ne peuvent pas s\xE9lectionner un nombre arbitraire d'ennemis, 7 m\xE9thodes sont disponibles&nbsp;:</p>
              <ul>
                <li>Le MJ lance la macro en s\xE9lectionnant les cibles</li>
                <li id="allie">option <code>--allies</code> : cela fait chercher tous les <i>handout</i> dont le nom est Equipe suivi d'un nom, et tels que le <i>handout</i> contienne une liste de noms (un par ligne), parmis lesquels, celui du personnage qui agit. Le personnage qui agit est celui qui est s\xE9lectionn\xE9. Les cibles sont tous les alli\xE9s du personnage s\xE9lectionn\xE9, mais pas le personnage lui-m\xEAme. Attention, les noms de personnages ne doivent pas contenir de balise XML (texte encadr\xE9 par des &lt; et &gt;). Optionellement, on peut pr\xE9ciser une distance maximale entre le personnage s\xE9lectionn\xE9 et ses allies.</li>
                <li>option <code>--alliesEnVue</code> : comme <code>--allies</code>, mais ne garde que les alli\xE9s en vue (en fonction des murs sur le layer lumi\xE8re).</li>
                <li>option <code>--equipe <i>nom</i></code> : agit sur tous les personnages mentionn\xE9s dans le <i>handout</i> s'appelant Equipe <i>nom</i>.</li>
                <li>option <code>--self</code> : pour rajouter le personnage s\xE9lectionn\xE9. Utile si on veut le personnage et ses alli\xE9s, par exemple.</li>
                <li>option <code>--target</code> : pour ajouter une seule cible, avec une id de token. Le personnage qui agit est celui qui est s\xE9lectionn\xE9.</li>
                <li>option <code>--disque</code> : le premier argument, optionnel, est l'id ou le nom d'un token qui repr\xE9sente un personnage, le deuxi\xE8me argument un rayon. Cela s\xE9lectionne tous les tokens \xE0 une distance de moins que le rayon du premier argument (ou du personnage \xE0 l'origine de l'effet, si le premier argument est absent). Si un troisi\xE8me argument est donn\xE9, il est interpr\xE9t\xE9 comme la port\xE9e maximum entre le centre du disque et le token du personnage \xE0 l'origine de l'effet. Si le premier argument repr\xE9sente un personnage avec un max de PV \xE0 0, il est compris comme un personnage fictif cr\xE9\xE9 juste pour d\xE9finir le disque, et il sera supprim\xE9 apr\xE8s la s\xE9lection. \xC0 noter que le script cr\xE9e par d\xE9faut un tel personnage, utilisable par tous, et appel\xE9 Cible.</li>
                <li>option <code>--disquePasseMur</code> : comme <code>--disque</code>, mais l'effet traverse les murs.</li>
                <li>option <code>--enVue</code> : s\xE9lectionne tous les tokens en vue du personnage qui lance l'effet. Accepte aussi un argument d'id de token, dans ce cas on garde les token en vue de celui avec cette id.</li>
                <li>option <code>--saufAllies</code> permet d'exclure les alli\xE9s de la s\xE9lection (voir plus haut pour la d\xE9finition des alli\xE9s).</li>
              </ul>
              <p id="exemple_equipe"><img class="img-fluid" src="https://i.imgur.com/WHfwsKo.png" data-href="https://i.imgur.com/WHfwsKo.png"></p>
              <figcaption>Exemple d'<i>handout</i> avec diff\xE9rentes \xE9quipes.</figcaption>
            </div>
            <h3 class="text-info" id="options_mana">1.5 Options de mana</h3>
            <div class="decalage">
              <p>COF sous ses diff\xE9rentes formes est une bo\xEEte \xE0 outils et nombreuses sont les variantes de syst\xE8me de magie qui peuvent \xEAtre utilis\xE9es. Le script propose un support pour les plus populaires d'entre elles. Voici quelques consignes pour les impl\xE9menter.</p>
              <h4>Sp\xE9cifier un co\xFBt en mana</h4>
              <ul>
                <li>Les points de mana sont d\xE9pens\xE9s en ajoutant l'option <code>--mana X</code> \xE0 une action ou dans les options d'une attaque. Toutes les capacit\xE9s impl\xE9ment\xE9es dans la documentation donnent par d\xE9faut le co\xFBt en mana selon les r\xE8gles de base.</li>
                <li>M\xEAme un sort qui ne co\xFBte pas de mana devrait utiliser <code>--mana 0</code>. Cela permet au script de dissiper automatiquement un effet g\xE9n\xE9r\xE9 par un lanceur de sort mis hors de combat.</li>
                <li>Une option d'affichage disponible via <code>!cof-options</code> permet de demander au script d'afficher explicitement dans le chat toute d\xE9pense de PM effectu\xE9e par un personnage.</li>
              </ul>
              <h4>Syst\xE8me de base (COF p. 79)</h4>
              <p>Le support des effets suppl\xE9mentaires \xE0 disposition du lanceur de sort sont g\xE9r\xE9es via l'utilisation d'options sur les commandes utilis\xE9es.</p>
              <ul>
                <li><b>Magie rapide :</b> pas de support particulier</li>
                <li><b>Magie puissante (d\xE9s) :</b> utiliser l'option <code>--puissant</code> dans vos abilities ou attaques</li>
                <li><b>Magie puissante (port\xE9e) :</b> utiliser l'option <code>--puissant portee</code> dans vos abilities ou attaques</li>
                <li><b>Magie puissante (dur\xE9e) :</b> utiliser l'option <code>--puissant duree</code> dans vos abilities ou attaques</li>
              </ul>
              <p>On peut facilement combiner ces options avec un input de choix roll20 qui permettra au joueur de choisir le type d'incantation lorsqu'il lance le sort, tout en sp\xE9cifiant la d\xE9pense de Mana.</p>
              <p><code>--mana <i>X</i> ?{Incantation ?|Rapide,&amp;#32;|Puissante (L),--puissant|Port\xE9e \xE9tendue (L),--puissant portee|Dur\xE9e \xE9tendue (L),--puissant duree}</code></p>
              <h4>Mana Totale (COF p. 180)</h4>
              <p>La premi\xE8re chose \xE0 faire est d'activer l'option Mana totale via <code>!cof-options</code>. Pour le reste, vous pouvez r\xE9utiliser le principe du syst\xE8me de base ci-dessus.</p>
              <h5>Co\xFBt al\xE9atoire</h5>
              <p>Vous pouvez utiliser des lancers de d\xE9s dans vos options <code>--mana</code>. Par exemple pour un sort de rang 1, on peut renseigner <code>--mana [[1d3]]</code>. L'option d'affichage de la d\xE9pense de mana prend ici tout son sens, activable via <code>!cof-options</code>.</p>
              <h5>Contrecoup</h5>
              <p>Vous pouvez activer la r\xE8gle sp\xE9cifique de Contrecoup via <code>!cof-options</code>.</p>
              <h4>Temp\xEAte de Mana (COF Compagnon p. 105)</h4>
              <p>Le script impl\xE9mente un support complet des r\xE8gles de Temp\xEAte de Mana. Pour ce faire, il faut ajouter les options <code>--tempeteDeMana --rang <i>X</i></code> sur les sorts combinables avec Temp\xEAte de Mana. L'option <code>rang</code> permet d'indiquer le rang du sort afin que le script puisse calculer le maximum de PM qu'on peut d\xE9penser lors du lancement du sort. Pour mettre \xE7a de mani\xE8re g\xE9n\xE9rique sur une action ou une attaque et permettre au joueur de choisir de faire appel \xE0 Temp\xEAte de Mana ou pas, on peut utiliser :</p>
              <p><code>--mana <i>X</i> --rang <i>Y</i> ?{Temp\xEAte de Mana ?|Non,&amp;#32;|Oui,--tempeteDeMana}</code></p>
              <p>Temp\xEAte de Mana est compatible avec Mana Totale et Br\xFBlure de Magie.</p>
              <h5>Option altruiste</h5>
              <p>Si vous d\xE9sirez jouer avec l'option de Magie altruiste, il suffit de changer l'option en <code>--tempeteDeMana altruiste</code> sur les sorts o\xF9 c'est utile.</p>
              <h4>Terres d'Arran (COTA p. 112)</h4>
              <p>Premi\xE8re chose \xE0 faire, activer l'option Br\xFBlure de Magie via <code>!cof-options</code>. <i>Note : si vous utilisez l'option de Br\xFBlure de Magie avec l'option Mana Totale, vous pouvez utiliser un <a href=#predicats>pr\xE9dicat</a> <code>coefPVMana</code> qui va diviser le nombre de PVs d\xE9pens\xE9 par point de mana.</i></p>
              <p>Vous pouvez ensuite r\xE9utiliser le m\xEAme principe que le syst\xE8me de base en combinant d\xE9pense de Mana et effets suppl\xE9mentaires. Voici un exemple pour une Boule de Feu (Voie de l'\xE9l\xE9mentaliste, rang 4) :</p>
              <p><code>--mana 2 ?{Incantation ?|Normale,--mana 2|\xC9conome (L),&amp;#32;|Puissante (L),--mana 2 --puissant|Port\xE9e \xE9tendue (L),--mana 2 --puissant portee}</code> (notez que les co\xFBt total pour une incantation normale sera de 4 points de mana)</p>
            </div>
            <h3 class="text-info" id="regles_optionnelles">1.6 R\xE8gles optionnelles utilis\xE9es</h3>
            <div class="decalage">
              <p>Le script supporte l'utilisation de la r\xE8gle des points de chance et des points de r\xE9cup\xE9ration.</p>
              <p>J'ai aussi choisi, comme propos\xE9 par Kegron, de diminuer la DEF de tous les protagonistes apr\xE8s un certain nombre de tours de combat (-2 tous les 5 tours, peut \xEAtre d\xE9sactiv\xE9 pendant un combat par la commande <code>!cof-usure-off</code>, ou bien dans les options de jeu).</p>
              <p>Le script utilise aussi par d\xE9faut une r\xE8gle de <strong>blessure grave</strong> : chaque fois qu'un personnage tombe \xE0 0 PV, il encaisse une perte d'un point de r\xE9cup\xE9ration. S'il \xE9tait \xE0 0 points de r\xE9cup\xE9ration, il devient gravement bless\xE9, ce qui le rend <i>affaibli</i>. Si le personnage \xE9tait d\xE9j\xE0 gravement bless\xE9, il meurt. Pour r\xE9cup\xE9rer d'une blessure grave, le personnage doit se reposer une nuit, et r\xE9ussir un test de CON difficult\xE9 8 (avec le d12). Il est impossible de r\xE9g\xE9n\xE9rer les points de r\xE9cup\xE9ration quand on est gravement bless\xE9.</p>
              <p>Le script utilise \xE9galement une r\xE8gle de <strong>dommages importants</strong> : chaque fois qu'un PJ re\xE7oit plus de dommages en une fois que la somme de sa valeur de constitution et de son niveau, il perd 1PR et la r\xE8gle de blessure grave s'applique. S'il \xE9tait d\xE9j\xE0 bless\xE9 mais qu'il lui reste des PV, il tombe inconscient. Les deux r\xE8gles sont d\xE9sactivables s\xE9par\xE9ment via <code>!cof-options</code>, dans la section dommages.</p>
              <p>Le script propose \xE9galement quelques autres options qui sont activables et/ou modifiables via la commande <code>!cof-options</code>. Quelques exemples :</p>
              <ul>
                <li>Initiative variable (individuelle / de groupe)</li>
                <li>Versions alternatives de capacit\xE9s (interchangeable, forme d'arbre, rune de protection)</li>
                <li>Critiques \xE9tendus</li>
                <li>Dommages minimums</li>
                <li>Attaques de groupe</li>
              </ul>
            </div>
          </div>
          <h2 class="text-primary" id="action_principales">2. Actions principales</h2>
          <p>Pour la plupart des actions ci-dessous, il est g\xE9n\xE9ralement utile de cr\xE9er des macros facilitant leur utilisation. Pour mettre en place un jeu de macros par d\xE9faut, vous pouvez taper <code>!cof-set-macros</code> dans le chat. Si vous souhaitez red\xE9finir des macros existantes, vous pouvez taper <code>!cof-set-macros --force</code>.</p>
          <div class="decalage">
            <h3 class="text-info" id="le_combat">2.1 Le combat</h3>
            <div class="decalage">
              <h4 class="text-secondary">Initiative : <code>!cof-init</code></h4>
              <div class="decalage">
                <p>Les tokens s\xE9lectionn\xE9s sont ajout\xE9 au tracker de tour. Si celui-ci n'existe pas, un nouveau est cr\xE9\xE9, avec compteur de tour \xE0 1, et on rentre en combat. Les tokens ayant un <a href=#predicats>pr\xE9dicat</a> <code>aucuneActionCombat</code> ne sont jamais ajout\xE9s au turn tracker.</p>
                <p>Une option du script (ajustable en utilisant <code>!cof-options</code>) permet d'utiliser la r\xE8gle de l'initiative variable (ajout d'un d6 explosif \xE0 l'initiative). Il est alors possible de faire lancer les d\xE9s d'initiative par les joueurs.</p>
                <p>Les r\xE8gles de tri suivent ce qui est donn\xE9 p 70 : priorit\xE9 aux PJs. Pour l'instant, on distingue un PJ d'un PNJ au d\xE9 de vie : si le personnage d'a pas de d\xE9 de vie, c'est un PNJ. Ensuite, entre PJs, priorit\xE9 \xE0 la plus haute sagesse. Pour les PNJ, c'est al\xE9atoire.</p>
                <p>\xC0 chaque instant, le token dont c'est le tour d'agir est signal\xE9 par une aura qui bouge lentement. L'image de cette aura peut \xEAtre modifi\xE9e dans les options (<code>!cof-options images</code>), et il est possible de sp\xE9cifier une aura pour chaque token, en ajoutant une ligne dans le champ <code>GM Notes</code> du token (en bas de la partie basique de l'\xE9dition du token). Cette ligne doit commencer par <code>init_aura:</code>, et contenir une <a href=https://wiki.roll20.net/API:Objects#imgsrc_and_avatar_property_restrictions>url valide pour un token</a>. N'oubliez pas de sauvegarder le token comme token par d\xE9faut our un personnage si vous voulez que ce personnage ait toujours cette aura.</p>
                <p>Il est possible de laisser les joueurs passer leur tour, en utilisant la commande <code>!cof-tour-suivant</code>. Une utilisation possible est de le mettre en macro dans les actions du tour (voir <a href="#actions_du_tour">Actions du tour</a> ci-dessous).</p>
                <div class="alert alert-primary">
                  <h5>Astuces :</h5>
                  <ul>
                    <li><p><code>!cof-attendre ?{Nouvelle initiative}</code> : Permet d'attendre avant d'agir en r\xE9duisant temporairement son initiative.</p></li>
                    <li> Il est possible de se passer de l'aura qui bouge, et d'utiliser \xE0 la place une ic\xF4ne de drapeau ou avec la syntaxe
                      <code>!cof-init --aura</code> une aura autour du Token de couleur verte (ou rouge si le personnage n'est pas contr\xF4l\xE9 par un joueur ou dans une <a href="#exemple_equipe">\xE9quipe</a> contenant un personnage contr\xF4l\xE9 par un joueur). Pour cela, d\xE9sactiver l'initiative dynamique dans les options d'affichage (<code>!cof-options affichage</code>).
                    </li>
                    </li>
                  </ul>
                </div>
              </div>
              <h4 class="text-secondary" id="actions_du_tour" >Liste d'actions pour le personnage dont c'est le tour</h4>
              <div class="decalage">
                <p>Le script affiche, pour le personnage dont c'est le tour, une liste d'actions. Cette liste est chuchot\xE9e au joueur qui contr\xF4le le personnage, ou si aucun joueur le contr\xF4lant n'est connect\xE9, au MJ. Elle se compose par d\xE9faut des attaques du personnage et des actions d'attendre, se d\xE9fendre et faire une manoeuvre. 
                Pour voir ce message en dehors du changement d'initiative, ou pour le MJ, on peut utiliser <code>!cof-liste-actions</code> en s\xE9lectionnant le token (un bon candidat pour une macro de type token action, d'ailleurs g\xE9n\xE9r\xE9 par la commande <code>!cof-set-macros</code>).
                Pour contr\xF4ler ce qui est affich\xE9 dans cette liste, vous pouvez principalement utiliser la liste des attaques du personnage et surtout la partie <code>script</code> de la fiche.</p>
                <h5> Les attaques affich\xE9es </h5>
                <p>Il est possible de ne pas afficher une attaque en d\xE9cochant la case sous le d\xE9 dans les options d'attaque. Les attaques sont affich\xE9es dans l'ordre des labels d'attaques. les attaques avec des conditions impossibles (du genre limite par jour \xE9puis\xE9e, etc.) ne sont pas affich\xE9es.</p>
                <p>\xC0 cela se rajoute \xE9ventuellement l'attaque avec l'arme en main. \xC0 c\xF4t\xE9 de cette attaque, le script propose un bouton pour rengainer l'arme ou en d\xE9gainer une autre (parmis les armes de la fiche coch\xE9es). On peut modifier cette liste des armes \xE0 d\xE9gainer en utilisant des pr\xE9dicats <code>actionDegainer<i>n</i></code>, de valeur le label de l'arme \xE0 afficher en position <i>n</i> dans la liste (seulement pour les premi\xE8res armes, il n'est pas possible de ne sp\xE9cifier que la 2<sup>nde</sup> arme ou la 1<sup>\xE8re</sup> et le 3<sup>\xE8me</sup>). On peut ainsi faire afficher 2 armes \xE0 d\xE9gainer en m\xEAme temps en s\xE9parant les labels d'un <code>-</code> (par exemple pour faire d\xE9gainer l'arme 1 en main droite et l'arme 4 en main gauche, en premi\xE8re position dans la liste, on \xE9crira <code>actionDegainer1:1-4</code>). \xC0 noter que si aucune arme n'est en main, et qu'aucune attaque naturelle n'est coch\xE9e, le script va tout de m\xEAme afficher une des attaques naturelles non coch\xE9es \xE0 la place de l'arme en main. Cela permet d'avoir une attaque que l'on n'affiche que quand on n'a pas d'arme en main.</p>
                <p>Notez qu'il est possible d'avoir une arme par d\xE9faut en main, en ajoutant un pr\xE9dicat <code>armeParDefaut</code>, de valeur le label de l'attaque correspondante. C'est parfois bien pratique pour ne pas avoir \xE0 d\xE9gainer les armes de chacun des orques en embuscade, par exemple.</p>
                <h5>Choisir les actions \xE0 afficher</h5>
                <p>Pour changer les attaques affich\xE9es par d\xE9faut, rajouter des actions \xE0 la liste d'actions du tour, ou utiliser de nouvelles listes, il faut aller dans l'onglet <code>Script</code> de la fiche de personnage.</p>
                <p><img class="img-fluid" src="images/liste_actions_magicien.jpg"></p>
                <figcaption>Exemple d'une liste d'actions pour un magicien</figcaption>
                <p>Pour rajouter des actions \xE0 montrer, il faut ajouter des lignes en-dessous de <code>Montrer l'arme en main et d\xE9gainer</code>. La case coch\xE9e devant chaque action peut \xEAtre d\xE9coch\xE9e pour ne pas afficher l'action.  Les actions seront affich\xE9e dans l'ordre des num\xE9ros d'action. Attention, si deux actions ont le m\xEAme num\xE9ro, une des deux ne sera pas affich\xE9e. Le titre de l'action peut soit \xEAtre directement une commande (commen\xE7ant par <code>%</code>, <code>#</code> ou <code>!</code>), et dans ce cas l'action affich\xE9e sera d\xE9termin\xE9e par le script, soit du texte qui sera affich\xE9 tel quel. Dans ce cas, il sera souvent n\xE9cessaire de pr\xE9ciser le code de l'action : cliquer sur la roue au bout \xE0 droite de la ligne de l'action pour faire appara\xEEtre les lignes de condition et de code. La ligne de conditions n'est pas encore utilis\xE9e par le script.</p>
                <p>Il existe un certain nombre de commandes sp\xE9ciales, qui peuvent \xEAtre rentr\xE9e dans le titre ou le code : 
                <ul>
                  <li><code>!attaques</code> fera afficher toutes les attaques coch\xE9es de la fiche</li>
                  <li><code>!arme-en-main</code> affichera l'attaque correspondant \xE0 l'arme en main, ou si aucune arme n'est en main, une attaque naturelle non coch\xE9e, et si il n'y en a pas non plus, une attaque \xE0 mains nues. Vous pouvez faire suivre cette commandes d'options d'attaque, comme <code>--m2d20</code>.</li>
                  <li><code>!options</code> passera en option \xE0 toutes les actions suivantes tout ce que vous \xE9crirez dans la m\xEAme ligne (par exemple <code>!options --traquenard</code> passe l'option <code>--traquenard</code> \xE0 toutes les actions suivantes).</li>
                </ul>
                </p>

                <h5>Autres listes d'action</h5>
                <p>Il est possible d'ouvrir d'autre listes d'actions, \xE0 partir des commandes ou m\xEAme d'une liste d'actions. La fiche propose 4 emplacements pour ces listes d'action, mais si cela ne suffit pas, vous pouvez utiliser des abilities dont le nom commence et termine par <code>#</code>. Pour faire r\xE9f\xE9rence \xE0 une liste dans une action, inscrivez simplement le nom de la liste dans le titre de l'action et s\xE9lectionnez <code>Liste d'actions</code> dans le menu d\xE9roulant \xE0 c\xF4t\xE9. Les listes d'action sur la fiche fonctionnent de la m\xEAme fa\xE7on que la liste des actions du tour, sauf qu'il n'y a pas d'affichage par d\xE9faut des attaques ou de l'arme en main (pour cela, une simple ligne avec en titre <code>#Attaque -1</code> permet d'y rem\xE9dier), et que la liste peut avoir une liste d'options globales (cliquer sur la roue \xE0 droite du nom de la liste).</p>
                <p>Pour les listes d'actions suppl\xE9mentaires, dans les abilities, il faut respecter la syntaxe suivante :
                <ul>
                  <li>une action par ligne</li>
                  <li>chaque ligne est donc soit un commentaire, soit une macro (qui commence par <code>#</code>), soit une ability (qui commence par <code>%</code>), soit une commande qui commence par <code>!</code></li>
                  <li>l'action affich\xE9e sera le nom de la macro ou de l'ability (sauf pour les attaques, pour lesquelles le nom de l'arme sera affich\xE9e)</li>
                  <li>les commandes disponibles sont <code>!options</code> et <code>!attaques</code>.</li>
                  <li>pour les listes d'actions, il suffit de mettre <code>%#</code> suivi du nom de la liste et termin\xE9 par <code>#</code>.</li>
                </ul>
                <p>Il est aussi possible de faire afficher une liste quelconque avec une commande, avec <code>!cof-liste-actions <i>nom</i></code> (o\xF9 le nom est celui de la liste, ou bien de l'ability sans les <code>#</code>). Par exemple, si on ne souhaite pas afficher la liste compl\xE8te des sorts d'un personnage \xE0 son tour, on peut faire une liste <code>Sorts</code>, puis faire une macro qui lance <code>!cof-liste-actions Sorts</code> pour que le joueur puisse afficher la liste quand il le souhaite.</p>
              </div>
              <h4 class="text-secondary">Attaquer une (ou plusieurs) cible : <code>!cof-attack @{selected|token_id} @{target|token_id} <i>n</i></code></h4>
              <div class="decalage">
                <p>o\xF9 <i>n</i> est un argument optionnel qui peut soit correspondre au label de l'attaque sur la fiche du personnage (ce label est automatiquement g\xE9n\xE9r\xE9 par la fiche et affich\xE9 juste devant le nom), soit \xEAtre le nom de l'attaque. Si cet argument est <code>-1</code>, le script cherchera si le personnage a une arme en main et utilisera cette arme. Si c'est <code>-2</code>, il va chercher l'arme en main gauche. Si cet argument est absent ou qu'il ne correspond pas \xE0 un label de la fiche du personnage, l'attaque aura les valeurs par d\xE9faut d'une attaque au contact infligeant 1d4 DM. Pour plus de facilit\xE9, vous pouvez utiliser la macro <code>Attaque</code> qui fait <code>!cof-attack @{selected|token_id} @{target|token_id}</code></p>
                <div class="alert alert-success" role="alert">
                  <p>Exemple avec label :</p>
                  <div class="decalage">
                    <code>!cof-attack @{selected|token_id} @{target|token_id} 1</code>
                  </div>
                </div>
                <p>L'attaque tient alors compte de toutes les informations de l'attaque, y compris chances de critique, port\xE9e, type d'attaque, type de d\xE9g\xE2s et autres options sp\xE9cifi\xE9es sur la fiche. Par d\xE9faut, l'attaque montre le label, le nom de l'attaque, le calcul du bonus d'attaque, le calcul des d\xE9g\xE2ts, la port\xE9e et un champ <code>SP\xC9CIAL</code> (ou encore appel\xE9 <code>divers</code>). En cliquant sur la roue au bout \xE0 droite de cette ligne, on affiche une deuxi\xE8me ligne, avec un case \xE0 d\xE9cocher pour ne pas faire appara\xEEtre l'attaque \xE0 chaque tour, un choix de type d'attaque, des modificateurs, un choix de type de deg\xE2ts et un champ d'options. Les modificateurs sont constitu\xE9s d'options sans argument, s\xE9par\xE9e par une espace. Les options sont reprises telles quels comme un argument \xE0 l'attaque (voir plus bas pour le liste de ces options). Attention, pour l'instant ne traite correctment les jets (parties entre crochets) et les demandes au joueur (de type <code>?{question?}</code>) que si on passe par une liste d'actions (donc pas directement en faisant <code>#Attaque 1</code> dans le chat). Une troisi\xE8me ligne peut aussi s'afficher, pour g\xE9rer le nombre d'armes de jet, ou pour les armes port\xE9es, pour indiquer des <a href=#predicats>pr\xE9dicats</a> actifs seulement quand on porte l'arme. Il est possible de sp\xE9cifier une arme batarde (pouvant se porter \xE0 une ou deux mains) en renseignant un pr\xE9dicat <code>batarde</code> de valeur le d\xE9 de DM \xE0 utiliser quand on porte l'arme \xE0 deux mains.</p>
                <img class="img-fluid" src="images/armes.jpg">
                <figcaption>Exemple d'attaques.</figcaption>
                <p> En l'absence de label, on peut sp\xE9cifier ces informations sous forme d'options d'attaque</p>
                <div class="alert alert-success" role="alert">
                  <p>Exemple pour le sort "<i>Fl\xE8che enflamm\xE9e</i>" :</p>
                  <div class="decalage"><code>!cof-attack @{selected|token_id} @{target|token_id} Fl\xE8che Enflamm\xE9e --toucher [[@{selected|ATKMAG}]] --dm 1d6 + [[@{selected|INT}]] --portee 30 --fx beam-fire --feu --sortilege --enflamme</code></div>
                </div>
                <p>Malus ou bonus temporaire \xE0 une attaque : utiliser la barre 3.</p>
                <p>Toutes les attaques ayant une port\xE9e non nulles sont consid\xE9r\xE9es par le script comme des attaques \xE0 distance.</p>
                <p>Le test d'attaque \xE0 distance tient compte de la port\xE9e (malus de -1 \xE0 -5 si distance entre port\xE9e et deux fois cette valeur), ainsi que des tokens sur le trajet de l'attaque. Une attaque de trop loin ne porte jamais.</p>
                <p>Utiliser une attaque fait rentrer l'attaquant en combat (et le rajoute au turn tracker).</p>
                <p>Il existe une version sp\xE9cialis\xE9e permettant de faire des d\xE9g\xE2ts dans un disque centr\xE9 sur un token, <code>!cof-explosion</code>, dont le premier argument doit \xEAtre le label d'une attaque.</p>
              </div>
              <h4 class="text-secondary">Options pour l'attaque&nbsp;:</h4>
              <div class="decalage">
                Toutes les options sans arguments peuvent \xEAtre directement utilis\xE9es comme modificateurs dans le liste des modifcateurs d'une attaque.
                <ul>
                  <li><code>--nom <i>txt</i></code> : nom de l'attaque \xE0 afficher. Remplace le nom dans la ligne d'attaque si on a donn\xE9 un label en argument. Le nom ne doit pas comporte de blanc usivi de 2 tirets (<code> --</code>).</li>
                  <li><code>--toucher <i>n</i></code> : bonus de base de l'attaque. Remplace les valeurs dans la ligne d'attaque si on a donn\xE9 un label en argument. Pour r\xE9f\xE9rence, sur les fiches de PJ, l'attaque au contact est <code>[[@{selected|ATKCAC}]]</code>, l'attaque \xE0 distance <code>[[@{selected|ATKTIR}]]</code>, et l'attaque magique <code>[[@{selected|ATKMAG}]]</code>.</li>
                  <li><code>--crit <i>n</i></code> : valeur \xE0 partir de laquelle le jet de d\xE9 est un critique. Remplace les valeurs dans la ligne d'attaque si on a donn\xE9 un label en argument.</li>
                  <li><code>--dm <i>expr</i></code> : D\xE9g\xE2ts de base de l'attaque. Remplace les valeurs dans la ligne d'attaque si on a donn\xE9 un label en argument. <i>expr</i> peut \xEAtre un entier ou bien une expression du type <code><i>a</i>d<i>b</i>+<i>c</i></code>. La partie constante de cette expression est optionnelle et peut \xEAtre n\xE9gative.</li>
                  <li><code>--portee <i>n</i></code> : la port\xE9e de l'attaque exprim\xE9e en m\xE8tres. Remplace les valeurs dans la ligne d'attaque si on a donn\xE9 un label en argument.</li>
                  <li><code>--special <i>txt</i></code> : remplace le champ sp\xE9cial de l'attaque sur la fiche.</li>
                  <li><code>--tempDmg</code> : l'attaque fait des d\xE9g\xE2ts temporaires (tient compte de la force de l'adversaire, utilise la barre 2 pour les dmg temp, sauf si le token a des PM, auquel cas on utilisera un attribut temporaire).</li>
                  <li><code>--pasDeDmg</code> : l'attaque ne fait pas de DM.</li>
                  <li><code>--poudre</code> : l'arme est une arme \xE0 poudre, utilisation d'un d\xE9 de poudre. Une arme est aussi consid\xE9r\xE9e comme une arme \xE0 poudre si elle contient <code>poudre</code> dans le nom de l'arme ou dans le champ modifcateur ou de pr\xE9dicats.</li>
                  <li><code>--epieu</code> : l'arme est un \xE9pieu. \xC0 noter que l'arme est aussi consid\xE9r\xE9e comme un \xE9pieu si elle contient <code>\xE9pieu</code> dans son nom ou <code>epieu</code> dans son champs modificateurs ou pr\xE9dicats. Cette option augmente de 1 le nombre de d\xE9s contre un adversaire sans armure.</li>
                  <li><code>--hache</code> : l'arme est une hache. \xC0 noter que l'arme est aussi consid\xE9r\xE9e comme une hache si elle contient <code>hache</code> dans son nom ou dans son champs modificateurs ou pr\xE9dicats. Cette option permet de passer la RD/hache (pour les sylvaniens, par exemple).</li>
                  <li><code>--marteau</code> : l'arme est un marteau. \xC0 noter que l'arme est aussi consid\xE9r\xE9e comme un marteau si elle contient <code>marteau</code> dans son nom ou dans son champs modificateurs ou pr\xE9dicats.</li>
                  <li><code>--auto</code> : l'attaque r\xE9ussit automatiquement</li>
                  <li><code>--bonusAttaque <i>n</i></code> : ajoute <i>n</i> au jet d'attaque</li>
                  <li><code>--bonusCritique <i>n</i></code> : augmente <i>n</i> \xE0 la plage de coups critiques</li>
                  <li><code>--modifiePortee <i>n</i></code> : ajoute <i>n</i> \xE0 la port\xE9e de l'attaque.</li>
                  <li><code>--divisePortee <i>n</i></code> : divise la port\xE9e de base par <i>n</i>. C'est appliqu\xE9 avant toute modification de port\xE9e.</li>
                  <li><code>--bonusContreBouclier <i>n</i></code> : ajoute <i>n</i> au jet d'attaque si le d\xE9fenseur porte un bouclier. Utile par exemple pour le fl\xE9au d'arme.</li>
                  <li><code>--bonusContreArmure <i>n</i></code> : ajoute <i>n</i> au jet d'attaque si le d\xE9fenseur porte une armure.</li>
                  <li><code>--psave <i>carac seuil</i></code> : jet de <i>carac</i>, si le jet est sup\xE9rieur \xE0 <i>seuil</i>, les d\xE9g\xE2ts sont divis\xE9s par 2. <i>carac</i> est l'abbr\xE9viation de caract\xE9ristiques de 3 lettres standard (FOR, DEX, ...). Il est possible de prendre la meilleure de 2 caract\xE9ristiques pour le save&nbsp;: pour cela indiquer les 2 caract\xE9ristiques coll\xE9es (donc 6 caract\xE8res, par exemple FORDEX, pour le meilleur de FOR et de DEX). Le script choisira automatiquement la caract\xE9ristique qui donne les meilleures chances de r\xE9ussite (en tenant compte de la difficult\xE9 et des caract\xE9ristiques sup\xE9rieures).</li> Enfin on peut encore ajouter un ou des arguments optionnels. Si vous avez besoin de plus d'un argument optionnel, s\xE9parez-les par <code> +</code>:
                  <ul>
                    <li> Si on souhaite que le jet ne permette de r\xE9duire qu'une partie des dommages (la derni\xE8re ajout\xE9e avec <code>--plus</code>), on peut ajouter <code>local</code>. La syntaxe compl\xE8te est alors <code>--psave <i>carac seuil</i> local</code>.</li>
                    <li> Si on souhaite que la difficult\xE9 soit augment\xE9e en cas de temp\xEAte de mana, on peut utiliser le mot cl\xE9 <code>tempete</code> suivi si besoin de l'incr\xE9ment en fonction de la mana (par defaut 1 mana augmente de 1 la difficult\xE9). </li>
                    <li> Si on souhaite indiquer une difficult\xE9 alternative pour les cibles au contact, ajouter <code>contact <i>n</i></code>, o\xF9 <i>n</i> est la difficult\xE9 en question.</li>
                  </ul>
                  </li>

                  <li><code>--demiAuto</code> : si l'attaque rate, on consid\xE8re juste que les saves partiels sont automatiquemet r\xE9ussi. Ã‡a signifie en g\xE9n\xE9ral que la cible prend au moins la moiti\xE9 des d\xE9g\xE2ts.</li>
                  <li><code>--dmSiRate <i>dmg</i></code> : si l'attaque rate, la cible est quand m\xEAme touch\xE9e et se voit infliger <i>dmg</i> d\xE9g\xE2ts.</li>
                  <li><code>--toucheDoubleDmg</code> : si l'attaque rate, elle inflige les d\xE9g\xE2ts normaux, et si elle touche, elle double les d\xE9g\xE2ts de base. Pas cumulable avec <code>dmSiRate</code> ou <code>demiAuto</code>.</li>
                  <li><code>--save <i>carac seuil</i></code> : m\xEAme effet que <code>--psave</code>, mais pour annuler le dernier <code>--effet</code> ou <code>etat</code> (aucun effet sur les DM). Si on rajoute un argument <code>demiDuree</code> au save, alors la r\xE9ussite du save ne fait que diviser par 2 sa dur\xE9e.</li>
                  <li><code>--saveDM <i>carac seuil</i></code> : m\xEAme effet que <code>--psave</code>, mais pour annuler l'ensemble des d\xE9g\xE2ts.</li>
                  <li><code>--saveParTour <i>carac seuil</i></code> : m\xEAme effet que <code>--save</code>, mais donne droit \xE0 un jet \xE0 la fin de chaque tour au lieu d'un jet au moment de l'attaque.</li>
                  <li><code>--saveActifParTour <i>carac seuil</i></code> : m\xEAme effet que <code>--save</code>, mais affiche un bouton pour faire le save dans la liste d'actions \xE0 chaque tour. Utile si les joueurs pr\xE9f\xE8rent jeter "eux-m\xEAmes" le d\xE9, ou si le save est sens\xE9 arriver au tour du joueur.</li>
                  <li><code>--saveParJour <i>carac seuil</i></code> : m\xEAme effet que <code>--save</code>, mais donne droit \xE0 un jet \xE0 la fin de chaque jour au lieu d'un jet au moment de l'attaque.</li>
                  <li><code>--fx <i>effet</i></code> : ajoute un <a href="https://wiki.roll20.net/Custom_FX">effet</a> qui part de l'attaquant \xE0 la cible. Si l'attaque rate, l'effet rate aussi, d'autant plus que le jet d'attaque est loin de la d\xE9fense. Il est possible d'utiliser un effet que vous avez d\xE9fini vous-m\xEAme en utilisant l'option <code>--fx custom <i>nom</i></code>, o\xF9 <i>nom</i> est le nom de votre effet.</li>
                  <li><code>--targetFx <i>effet</i></code> : ajoute un <a href="https://wiki.roll20.net/Custom_FX">effet</a> au niveau de la cible (l'effet ne doit pas \xEAtre directionnel). Comme avec <code>--fx</code>, on peut utiliser un effet qu'on a cr\xE9\xE9.</li>
                  <li>
                    <code>--si <i>condition</i></code> : l'attaque n'est possible que si <i>condition</i> est valid\xE9e. Une condition peut \xEAtre
                    <ul id="conditions">
                      <li><code>moins</code> <i>attribut</i> : vrai si l'attribut <i>attribut</i> de la cible est moins haute que celle de l'attaquant</li>
                      <li><code>etat</code> <i>e</i> : vrai si l'\xE9tat <i>e</i> est actif sur l'attaquant. Cet \xE9tat peut \xEAtre un des \xE9tats d\xE9finis plus bas, ou un attribut quelconque.</li>
                      <li><code>attribut</code> <i>attr</i> <i>val</i>: vrai si l'attaquant poss\xE8de un attribut <i>attr</i>, de valeur <i>val</i>, aux majuscules pr\xE8s. On peut optionnellement pr\xE9ciser qu'il s'agit d'un attribut par token en rajoutant le mot cl\xE9 <code>local</code>, ou encore qu'il sagit d'un attribut de la fiche, avec \xE9ventuellement sa valeur par d\xE9faut, en ajoutant le mot cl\xE9 <code>fiche <i>defaut</i></code>.</li>
                      <li><code>etatCible</code> <i>e</i> : vrai si l'\xE9tat <i>e</i> est actif sur toutes la cible. Cet \xE9tat peut \xEAtre un des \xE9tats d\xE9finis plus bas, ou un attribut quelconque.</li>
                      <li><code>attributCible</code> <i>attr</i> <i>val</i>: vrai si la cible poss\xE8de un attribut <i>attr</i>, de valeur <i>val</i>, aux majuscules pr\xE8s. On peut optionnellement pr\xE9ciser qu'il s'agit d'un attribut par token en rajoutant le mot cl\xE9 <code>local</code>, ou encore qu'il sagit d'un attribut de la fiche, avec \xE9ventuellement sa valeur par d\xE9faut, en ajoutant le mot cl\xE9 <code>fiche <i>defaut</i></code>.</li>
                      <li><code>predicatCible</code> <i>predicat</i>: vrai si la cible poss\xE8de un pr\xE9dicat <i>predicat</i>. On peut aussi sp\xE9cifier une valeur auquel le pr\xE9dicat doit \xEAtre \xE9gal.</li>
                      <li><code>typeCible</code> <i>type</i>: vrai si la cible est du type sp\xE9cifi\xE9. Les types reconnus sont <code>animal</code>, <code>d\xE9mon</code>, <code>dragon</code>, <code>f\xE9e</code>, <code>insecte</code>, <code>mauvais</code>, <code>mort-vivant</code>, <code>g\xE9ant</code>, <code>gobelin</code>, et si le type n'est pas reconnu, va chercher si la race ou un pr\xE9dicat correspondant.</li>
                      <li><code>deAttaque</code> <i>n</i> : vrai si le jet de d\xE9 d'attaque est sup\xE9rieur ou \xE9gal \xE0 <i>n</i>.</li>
                      <li><code>touche</code> : vrai si l'attaque touche.</li>
                      <li><code>critique</code> : vrai si l'attaque est un critique.</li>
                      <li><code>echecCritique</code> : vrai si l'attaque est un \xE9chec critique.</li>
                    </ul>
                  </li>
                  <li><code>--if <i>condition</i></code> <i>options</i> <code>--endif</code>: permet de ne prendre en compte des options que si certaines conditions sont r\xE9alis\xE9es. Il est possible d'utiliser un <code>--else</code> pour activer des options quand les conditions ne sont pas r\xE9alis\xE9es. Attention, les options qui modifient une option pr\xE9c\xE9dente (comme <code>--valeur</code>) doivent appara\xEEtre au m\xEAme niveau que l'option qu'elles modifient. Comme les conditions peuvent d\xE9pendre du d\xE9 d'attaque, un certain nombre d'options ne sont pas affect\xE9es par cette conditionnelle : tempeteDeMana, les options d'aoe (ligne, cone, disque, target), avecd12, avantage, auto, demiAuto, test, pointsVitaux, tempsRecharge, sortilege, bonusCritique, disparition, affute, munition, tirDouble, semonce, tirDeBarrage, poudre, traquenard, feinte, asDeLaGachette, magique, tranchant, percant, contondant, pasDeDmg. Ne pas h\xE9siter \xE0 me demander si vous aviez besoin que l'une de ces options puissent \xEAtre conditionnelle.</li>
                  <li><code>--ifSaveFails <i>carac seuil</i></code> <i>options</i> <code> --endif</code> : comme <code>--if</code>, mais fait r\xE9aliser une jet de sauvegarde \xE0 la cible (comme avec <code>--save</code>), et si le test est rat\xE9, applique les options qui suivent. Un <code>--else</code> permet de choisir des options \xE0 appliquer quand le test est r\xE9ussi. \xC0 utiliser seulement si on ne peut pas se contenter d'un <code>--save</code>, car \xE7a marche moins bien.</li>
                  <li><code>--decrAttribute <i>nom</i></code> : l'attaque n'est possible que si l'attribut existe et si sa valeur est strictement positive. L'attaque diminue cette valeur de 1. Si cette option est utilis\xE9e \xE0 l'int\xE9rieur d'un <code>--if</code>, alors l'option se contente de diminuer l'attribut (on peut savoir si la valeur est positive gr\xE2ce \xE0 <code>--if etat <i>nom</i></code>).</li>
                  <li><code>--decrLimitePredicatParTour <i>nom</i></code> : l'attaque n'est possible que si un pr\xE9dicat <i>nom</i> existe et si elle n'a pas \xE9t\xE9 utilis\xE9e plus de fois dans le tour que la valeur de ce pr\xE9dicat. L'attaque augmente ce nombre de 1.</li>
                  <li><code>--tempsRecharge <i>effet</i> <i>duree</i></code> : l'attaque n'est possible que si l'effet est inactif sur l'attaquant, et de plus active l'effet sur l'attaquant pour la dur\xE9e indiqu\xE9e si l'attaque est possible. Il existe un effet temporaire g\xE9n\xE9rique, <code>rechargeGen(<i>desc</i>)</code> que vous pouvez utiliser si aucun effet existant ne correspond pour votre attaque.</li>
                  <li><code>--etat <i>e</i></code>: si l'attaque touche, la cible passe dans l'\xE9tat <i>e</i>. Il est aussi possible de sp\xE9cifier une caract\xE9ristique et un seuil (comme pour <code>!cof-set-state</code>) pour faire afficher \xE0 chaque tour une action permettant de se lib\xE9rer de l'\xE9tat.</li>
                  <li><code>--effet <i>e duree</i></code> : ajoute \xE0 la cible l'effet temporaire <i>e</i> pour la duree sp\xE9cifi\xE9e. Pour que cela soit automatiquement mis \xE0 jour, il faut utiliser le turn tracker. Noter que l'argument de dur\xE9e peut \xEAtre omis pour certains effets, comme ceux qui par d\xE9finition durent tout le combat.</li>
                  <li><code>--valeur <i>v</i></code> : sp\xE9cifie une valeur au dernier effet mentionn\xE9.</li>
                  <li><code>--optionEffet <i>opt arg1 arg2 ...</i></code> : sp\xE9cifie une option au dernier effet mentionn\xE9. L'option <i>opt</i> doit \xEAtre donn\xE9e sans le <code>--</code> et sera pass\xE9e telle quelle \xE0 l'effet, par exemple pour les d\xE9g\xE2ts p\xE9riodiques, si on ne veut pas que la RD s'applique, on pourra ajouter <code>--optionEffet ignoreRD</code>.</li>
                  <li><code>--peur <i>seuil duree</i></code> : fait un effet de peur si l'attaque touche. Le <i>seuil</i> sert pour le test de sagesse de r\xE9sistance \xE0 la peur (tient compte de la capacit\xE9 <b>sans peur</b> du chevalier).</li>
                  <li><code>--affaiblirCarac <i>carac n</i></code> : l'attaque diminue la caract\xE9ristique <i>carac</i> de <i>n</i>. Si <i>carac</i> est <code>random</code>, le script tire une caract\xE9ristique au hasard.</li>
                  <li><code>--plus <i>dmg</i></code> : ajoute <i>dmg</i> d\xE9g\xE2ts. Attention, si <i>dmg</i> est un simple nombre, ces d\xE9g\xE2ts sont multipli\xE9s par les critiques (sauf si de type diff\xE9rent de l'attaque principale). Ainsi, <code>--plus [[1d6]]</code> donnera des d\xE9g\xE2ts multipli\xE9s par les critiques (car la fonction ne voit que le r\xE9sultat du jet), alors que <code>--plus 1d6</code> ne le sera pas. </li>
                  <li><code>--plusCrit <i>dmg</i></code> : ajoute <i>dmg</i> d\xE9g\xE2ts en cas de r\xE9ussite critique</li>
                  <li><code>--test</code> pour voir le r\xE9sultat du jet d'attaque. On n'applique pas les r\xE9sultats d'un touch\xE9.</li>
                  <li><code>--sournoise <i>n</i></code> : ajoute <i>n</i>d6 de d\xE9g\xE2ts d'attaque sournoise ou par surprise. Si l'option n'a pas d'argument, le nombre de d\xE9s rajout\xE9s sera celui associ\xE9 \xE0 un pr\xE9dicat <code>attaqueSournoise</code>, et si l'attaquant n'a pas de pr\xE9dicat <code>attaqueSournoise</code>, l'attaque ajoute juste 1d6. Le script limite le nombre d'attaque sournoise par personnage \xE0 1 par tour. On peut augmenter ce nombre en utilisant un pr\xE9dicat <code>sournoisesParTour</code>, de valeur la limite au nombre de sournoises pour ce personnage.</li>
                  <li><code>--magique</code> : les d\xE9g\xE2ts sont magiques. On peut passer en argument le niveau de magie. Il est utilis\xE9 contre les cr\xE9atures immunis\xE9es aux armes. Le niveau par d\xE9faut est 1.</li>
                  <li><code>--+<i>k</i></code> : l'attaque utilise une arme magique +<i>k</i>. Pratique \xE0 mettre dans les modificateurs de l'attaque (dans ce cas, on n'a pas les <code>--</code>), cela rajoute les bonus au toucher et aux d\xE9g\xE2ts, et indique que les d\xE9g\xE2ts sont magiques. Si un niveau de magie est sp\xE9cifi\xE9, rajoute <i>k</i> \xE0 ce niveau.</li>
                  <li><code>--feu</code>, <code>--acide</code>, <code>--electrique</code>, <code>--froid</code>, <code>--sonique</code>, --<code>poison</code>, --<code>maladie</code>, <code>--argent</code>, <code>--drain</code>, <code>--energie</code>&nbsp;: les d\xE9g\xE2ts sont de type feu, acide, \xE9lectrique, froid, sonique, poison, maladie, argent, drain ou \xE9nergie. Le type sp\xE9cifie uniquement le dernier <code>--plus</code> pr\xE9c\xE9dent cette option, ou si il n'y en a pas, celui des d\xE9g\xE2ts principaux. Seul le dernier type sp\xE9cifi\xE9 est pris en compte (pas de type multiple pour l'instant). Le type affecte diff\xE9rents attributs, et aussi la couleur d'affichage des d\xE9g\xE2ts.</li>
                  <li><code>--beni</code> : les d\xE9g\xE2ts sont d'une source sainte ou b\xE9nie. Sert principalement \xE0 signaler pour les r\xE9sistances aux d\xE9g\xE2ts qui peuvent d\xE9pendre de cela (genre RD 5/beni).</li>
                  <li><code>--spectral</code> : L'attaque peut toucher les cr\xE9atures intangibles.</li>
                  <li><code>--tranchant</code>, <code>--percant</code>, <code>--contondant</code> : pr\xE9cise le type d'arme (si pertinent), pour pouvoir utiliser les RD sp\xE9cifiques \xE0 un type d'arme.</li>
                  <li><code>--ignoreRD</code> : l'attaque ignore les RD et division de DMs. Il est possible de donner en argument une valeur de RD ignor\xE9e, de sorte que l'attaque ignore les RD jusqu'\xE0 cette valeur. Par exemple on pourra \xE9crire <code>--ignoreRD 5</code>.</li>
                  <li><code>--ignoreMoitieRD</code> : l'attaque ignore la moiti\xE9 de la RD.</li>
                  <li><code>--sortilege</code> pour indiquer qu'il s'agit d'un sortil\xE8ge, de fa\xE7ons \xE0 pouvoir appliquer tous les effets sp\xE9cifiques aux sorts. Cette options devrait \xEAtre pass\xE9es pour toutes les capacit\xE9s suivies d'une \xE9toile dans le livre des r\xE8gles. En particulier, tout sortilege ignore les malus d'obstacles.</li>
                  <li><code>--reroll1</code> : relance les 1 aux d\xE9s de d\xE9gats. \xC0 noter que cela ne concerne que les d\xE9s de base de l'attaque, pas les DM suppl\xE9mentaire. </li>
                  <li><code>--explodeMax</code> : relance les valeurs maximum aux d\xE9s de DM de base, et rajoute le nouveau r\xE9sultat (qui lui-m\xEAme explose).</li>
                  <li><code>--mana <i>n</i></code> : l'attaque co\xFBte <i>n</i> points de mana. Si l'attaque provoque un effet temporaire, le script essaiera de le supprimer \xE0 la mort du lanceur (m\xEAme avec un co\xFBt nul).</li>
                  <li><code>--magieRapide</code> : augmente le co\xFBt en mana (1 avec la mana normale, 3 avec la mana totale) et affiche un petit message indiquant que le lancement est rapide. Il est possible de pr\xE9ciser un co\xFBt en mana diff\xE9rent.</li>
                  <li><code>--rang <i>n</i></code> : indique le rang de la capacit\xE9 utilis\xE9e, si besoin. Utilis\xE9 par l'option <code>--tempeteDeMana</code>.</li>
                  <li><code>--tempeteDeMana <i>liste</i></code> : indique des effets de temp\xEAte de mana. La liste peut contenir un nombre (pour l'effet intense), <code>duree</code>, <code>rapide</code>, <code>portee</code> et <code>altruiste <i>id</i></code>. Si le rang du sort est sp\xE9cifi\xE9 (par l'option <code>--rang</code>, un message est affich\xE9e si le co\xFBt en mana est sup\xE9rieur au rang. Si la liste d'options est vide ou ne contient que <code>altruiste</code>, le script affiche un menu dans le chat pour sp\xE9cifier les options de temp\xEAte de mana. Il est possible d'utiliser les r\xE8gles de mana totale pour les co\xFBts de temp\xEAte de mana (\xE0 activer avec <code>!cof-options</code>).</li>
                  <li><code>--magieEnArmure</code> : applique un malus \xE0 l'attaque \xE9gale au rang du sort + le malus d'armure de l'attaquant. On peut ajouter un argument optionnel : soit un nombre qui va remplacer le rang dans cette formule, soit <code>mana</code> qui va augmenter le co\xFBt en mana de l'attaque en fonction de l'armure port\xE9e.</li>
                  <li><code>--frappeDesArcanes <i>n</i></code> : ajoute +5 \xE0 l'attaque et +<i>n</i>d6 aux DM, mais emp\xEAche de lancer des sorts pendant 1d6 tours si l'attaque touche. Si le nombre <i>n</i> n'est pas pr\xE9sent, le bonus est de 2d6.</li>
                  <li><code>--limiteParJour <i>l</i></code> : limite le nombre d'utilisations de cette attaque \xE0 <i>l</i> fois par jour. On peut pr\xE9ciser un nom apr\xE8s <i>l</i>, qui va correspondre \xE0 une ressource pouvant \xEAtre partag\xE9e avec d'autres attaques ou d'autres effets (voir <code>!cof-effet-temp</code>). Par d\xE9faut, le nom de cette ressource est le label de l'attaque.</li>
                  <li><code>--limiteParCombat</code> : m\xEAme effet que la limite par jour. Si aucun argument n'est donn\xE9, la limite est de une fois par combat.</li>
                  <li><code>--limiteParTour</code> : m\xEAme effet que la limite par jour. Si aucun argument n'est donn\xE9, la limite est de une fois par tour.</li>
                  <li><code>--munition <i>label</i></code> : l'attaque utilise les munitions de label <code>label</code> (not\xE9es dans l'onglet \xE9quipement de la fiche). \xC0 chaque attaque port\xE9e, une munition est utilis\xE9e, et le script teste si elle sera r\xE9cup\xE9rable (en fonction du taux de pertes not\xE9e sur la fiche). En fin de combat, on consid\xE8re que le personnage r\xE9cup\xE8re toutes les munitions r\xE9cup\xE9rables. Si une arme est reconnue comme \xE9tant un arc,une arbal\xE8te ou une arme \xE0 poudre, et que les options de l'attaque <strong>ne contiennent pas l'option <code>--munition</code></strong>, alors le script propose automatiquement de choisir parmis les munitions normales (suppos\xE9es illimit\xE9es) et celles encores pr\xE9sentes du bon type. \xC0 noter que cette option devrait \xEAtre inutile pour les armes de jet qui ont d\xE9j\xE0 leur propre case associ\xE9e \xE0 l'attaque.</li>
                  <li><code>--aussiArmeDeJet <i>L</i></code> : permet d'indiquer que l'arme peut aussi \xEAtre employ\xE9e comme arme de jet. <i>L</i> doit \xEAtre le label de l'attaque avec cette arme en tant qu'arme de jet. Cela permet de tenir compte des cas o\xF9 l'arme a \xE9t\xE9 lanc\xE9e et ne peut donc plus \xEAtre utilis\xE9e au corps \xE0 corps. Si l'arme est utilis\xE9e \xE0 distance, le script va automatiquement utiliser l'attaque <i>L</i>.</li>
                  <li><code>--arcComposite <i>n</i></code> : augmente les DM du modificateur de force, (qui peut \xEAtre n\xE9gatif), mais sans d\xE9passer <i>n</i>. Si le modificateur est strictement inf\xE9rieur \xE0 <i>n</i>, l'attaque se fait avec un malus de -2.</li>
                  <li><code>--seulementDistance</code> : l'attaque ne peut \xEAtre r\xE9alis\xE9e que contre un adversaire \xE0 distance.</li>
                  <li><code>--vampirise</code> : soigne de tous les DM inflig\xE9s, quel que soit leur type. Il est possible de soigner un pourcentage des d\xE9g\xE2ts : pour cela, pr\xE9ciser le pourcentage entier apr\xE8s l'option. Par exemple, pour une attaque qui soigne de la moiti\xE9 des d\xE9g\xE2ts inflig\xE9s, on pourra mettre <code>--vampirise 50</code>. \xC0 noter que les soins se cumulent avec les d\xE9g\xE2ts de type drain.</li>
                  <li><code>--seulementVivant</code> : n'affecte que les cibles vivantes</li>
                  <li><code>--forceMinimum <i>n</i></code> : l'attaque n'est possible que si l'attaquant a au moins <i>n</i> en force.</li>
                  <li><code>--necromancie</code> : l'attaque est de la n\xE9cromancie</li>
                  <li><code>--ferFroid</code> : multiplie par 2 les d\xE9g\xE2ts contre les f\xE9es et les d\xE9mons (le script reconna\xEEt certaines races et les pr\xE9dicats <code>d\xE9mon</code> et <code>f\xE9e</code>).</li>
                  <li><code>--adamantium</code> : l'arme utilis\xE9e est en adamantium. Reconnu pour la RD.</li>
                  <li><code>--tueurDe <i>categorie</i></code> : bonus de +2 en attaque et +2d6 DM contre les esp\xE8ces appartenant \xE0 la cat\xE9gorie (voir la condition <code>typeCible</code>.</li>
                  <li><code>--tueurDeGrands</code> : bonus de +1d6 DM contre les cr\xE9atures de taille grande et +2d6 DM contre les cr\xE9atures de taille \xE9norme ou plus.</li>
                  <li><code>--ignoreObstacles</code> : ignore les tokens sur le trajet. Ã‡a semble n\xE9cessaire pour les attaques magiques d'apr\xE8s Kegron.</li>
                  <li><code>--retourneEnMain</code> : L'arme de jet revient en main apr\xE8s l'attaque.</li>
                  <li><code>--puissant</code> : augmente la valeur max des d\xE9s de d\xE9g\xE2ts de 2. Si <code>--puissant</code> est suivi d'un argument <i>effet</i>, on teste la pr\xE9sence d'un attribut <i>effet</i><code>Puissant</code> pour d\xE9cider si l'attaque est puissante ou non. Il est aussi possible de donner <code>oui</code> ou <code>non</code> en argument (ce n'est alors pas consid\xE9r\xE9 comme un effet). <code>--puissant portee</code> permet de doubler la port\xE9e de l'attaque (utile pour l'option de Magie Puissante)</li>
                  <li><code>--attaqueAssuree</code> : impl\xE9mente une attaque assur\xE9e (+5 \xE0 l'attaque, d\xE9g\xE2ts divis\xE9s par 2, critique impossible).</li>
                  <li><code>--attaqueRisquee</code> : impl\xE9mente une attaque risqu\xE9e (+2 \xE0 l'attaque au contact, -4 en DEF pendant un tour).</li>
                  <li><code>--attaqueDeGroupe <i>n</i></code> : <i>n</i> est le nombre de cr\xE9atures qui attaquent ; impl\xE9mente une attaque de groupe (+2 \xE0 l'attaque par attaquant au-del\xE0 du premier, x2 DMG si l'attaque d\xE9passe la DEF de 5 ou plus, x3 DMG si critique).</li>
                  <li><code>--attaqueAcrobatique</code> : l'attaquant effectue un test d'acrobatie difficult\xE9 15, et s'il r\xE9ussit, l'attaque b\xE9n\xE9ficie des effets d'une sournoise. On peut en option pr\xE9ciser le nombre de d\xE9s de cette attaque sournoise.</li>
                  <li><code>--strigeSuce</code> : option sp\xE9cifique aux striges. Donne le malus de -3 en DEF et compte la quantite suc\xE9e. Quand cette quantit\xE9 arrive \xE0 6, enl\xE8ve le malus de DEF et rend la cible affaiblie.</li>
                  <li><code>--mainsDEnergie</code> : +2 \xE0 +5 \xE0 l'attaque, selon l'armure de la cible</li>
                  <li><code>--semonce</code> : +5 au touch\xE9 et +1d6 aux DM (ne change pas les charges de l'arme).</li>
                  <li><code>--avantage</code> : lance un d\xE9 de plus en attaque et garde le meilleur. plusieurs arguments avantage se cumulent et sont annul\xE9s par les d\xE9savantages (syntaxe alertnative: (<code>--m2d20</code>)</li>
                  <li><code>--desavantage</code> : lance un d\xE9 de plus en attaque et garde le moins bon. plusieurs arguments d\xE9savantage se cumulent et sont annul\xE9s par les avantages.</li>
                  <li><code>--avecd12</code> : lance un d12 au lieu du d20 pour le jet d'attaque. L'attaque est impossible si l'attaquant est d\xE9j\xE0 affaibli.</li>
                  <li><code>--avecd12crit</code> : comme <code>--avecd12</code>, mais le jet peut faire un critique. La plage de critique est divis\xE9e par 2, arrondie \xE0 l'inf\xE9rieur. Ainsi si le d20 sevait critiquer sur un 20 seulement, le d12 ne fait pas de critique. Il fait un critique sur un 12 si le d20 devait faire un critique sur un 19 ou un 18, et ainsi de suite.</li>
                  <li><code>--incrDmgCoef <i>n</i></code> : augmente le coefficient des d\xE9g\xE2ts de base de 1. Les d\xE9g\xE2ts de base comprennent les d\xE9s de dommage de l'arme (ou du sort), plus tous les bonus constants. Le coefficient par d\xE9faut est de 1, et une r\xE9ussite critique augmente ce coefficient de 1.</li>
                  <li><code>--incrCritCoef <i>n</i></code> : augmente le coefficient des d\xE9g\xE2ts critiques de <i>n</i> (1 si on ne donne pas d'argument).</li>
                  <li><code>--diviseDmg <i>n</i></code> : divise les d\xE9g\xE2ts de base par <i>n</i>.</li>
                  <li><code>--maxDmg</code> : l'attaque inflige le maximum de DM permis par les d\xE9s de base.</li>
                  <li><code>--runeDePuissance</code> : l'arme est enchant\xE9e avec une rune de puissance permanente.</li>
                  <li><code>--difficultePVmax</code> : la difficult\xE9 du jet d'attaque est le maximum de PVs au lieu de la d\xE9fense.</li>
                  <li><code>--difficultePV</code> : la difficult\xE9 du jet d'attaque est la valeur courante des PVs au lieu de la d\xE9fense.</li>
                  <li><code>--difficulteCarac <i>carac</i></code> : la difficult\xE9 du jet d'attaque est une des caract\xE9ristiques de la cible (sous forme de code \xE0 3 lettres, <code>FOR</code>, <code>DEX</code>, etc). Il est possible de prendre le meilleur de 2 caract\xE9ristiques en \xE9crivant les 2 noms coll\xE9s. Par exemple, pour viser le meilleur de l'intelligence et du charisme, on \xE9crira <code>--difficuletCarac INTCHA</code>.</li>
                  <li><code>--affute</code> : augmente de 1 les chances de crit et +1d6 aux DM des crit.</li>
                  <li><code>--tirDeBarrage</code> : ignore la charge, multiplie les DM par 2 et message pour undo si la cible bouge.</li>
                  <li><code>--tirAveugle</code> : ignore le malus de tir sur une cible invisible.</li>
                  <li><code>--vicieux</code> : ajoute 2d6 DM mais inflige 1d6 DM \xE0 l'attaquant.</li>
                  <li><code>--enflamme</code> : enflamme la cible, lui infligeant 1d6 DM par tour. Les flammes s'\xE9teindent sur un 1 ou 2. Si l'option <code>--puissant</code> est donn\xE9e en conjonction, les DM augmentent de 1.</li>
                  <li><code>--malediction</code> : maudit la cible pour 3 jets.</li>
                  <li><code>--asDeLaGachette</code> : ajoute 1d6 DM si le jet d'attaque d\xE9passe une DEF de 25.</li>
                  <li><code>--armeDArgent</code> : bonus de +2 en attaque et 1d6 aux DM si la cible est un mort-vivant ou un d\xE9mon (utilise le champ <code>Race</code> de la fiche ou si pr\xE9sent un pr\xE9dicat <code>mortVivant</code>).</li>
                  <li><code>--pietine</code> : si l'attaquant est de taille au moins \xE9gale \xE0 celle de la cible (ou si la taille de l'un des deux n'est pas connue), fait un test oppos\xE9 de FOR. En cas d'\xE9chec de la cible, elle est renvers\xE9e et les DM sont doubl\xE9s.</li>
                  <li><code>--percute</code> : comme <code>--pietine</code>, mais la cible est en plus projet\xE9e \xE0 1d6+1 m\xE8tres et \xE9tourdie si elle rate un test de CON difficult\xE9 15, renouvelable chaque tour.</li>
                  <li><code>--feinte</code> : L'attaque ne fait pas de d\xE9g\xE2t, mais un bonus de +5 en attaque est donn\xE9 sur les attaques du tour suivant sur cette cible (par celui qui a fait la feinte), et +2d6 DM si l'attaque fictive \xE9tait un succ\xE8s. Si l'attaquant poss\xE8de un <a href=#predicats>pr\xE9dicat</a> <code>bonusFeinte</code>, c'est la valeur de ce pr\xE9dicat qui est donn\xE9 en bonus aux attaques, \xE0 la place de +5.</li>
                  <li><code>--enveloppe <i>difficulte type expr</i></code> : si l'attaque touche, elle a une chance d'envelopper la cible. Dans ce cas, un bouton appara\xEEt qui lance un test en opposition. Si celui-ci est remport\xE9 par l'attaquant, <i>difficulte</i> est la difficult\xE9 du test pour se sortir de l'enveloppement, <i>type</i> est soit <code>label</code>, et dans ce cas, <i>expr</i> doit \xEAtre le label d'une attaque de l'attaquant, soit <code>ability</code>, et dans ce cas, <i>expr</i> est le nom d'une ability de l'attaquant. Cette attaque ou ability est appel\xE9e pour les d\xE9g\xE2ts p\xE9riodiques. Si les deux derniers arguments sont ommis, le script prend <code>label</code> et le label de l'attaque courante, et si le premier argument est ommis, la difficult\xE9 est de 15.</li>
                  <li><code>--etreinte <i>difficulte</i></code> : si l'attaque touche, il y a une chance que l'attaquant puisse s'enrouler autour de la cible. Dans ce cas, un bouton appara\xEEt qui lance un test en opposition. Si celui-ci est remport\xE9 par l'attaquant, <i>difficulte</i> est la difficult\xE9 du test pour se sortir de l'enveloppement. Cela fera appara\xEEtre un bouton pour les d\xE9g\xE2ts de l'\xE9treinte, par d\xE9faut <code>1d6</code>, mais on peut sp\xE9cifier une autre expression pour les d\xE9g\xE2ts (optionelle, juste apr\xE8s la difficult\xE9).</li>
                  <li><code>--ouvertureMortelle</code> : touche automatiquement, fait des d\xE9g\xE2t comme en cas de critique et multiplie par 2 les d\xE9g\xE2ts d'attaque sournoise (si il y en a).</li>
                  <li><code>--rate</code>, <code>--touche</code>, <code>--critique</code>, <code>--echecCritique</code>, <code>--pasDEchecCritique</code> : options pour tricher : le r\xE9sultat des d\xE9s donne toujours le r\xE9sultat voulu.</li>
                  <li><code>--ligne</code> : l'attaque porte sur toutes les cibles \xE0 port\xE9e, entre l'attaquant et le token cibl\xE9. Si le token cibl\xE9 est plus proche que la port\xE9e de l'attaque, les tokens derri\xE8re le token cibl\xE9 sont aussi vis\xE9s. Pour permettre de viser un point quelconque, on peut utiliser un personnage d\xE9di\xE9 avec un maximum de 0 pv. \xC0 chaque fois qu'un token repr\xE9sentant ce personnage est utilis\xE9 comme cible de <code>--ligne</code>, le token est enlev\xE9 de la carte.</li>
                  <li><code>--disque <i>r</i></code> : l'attaque porte sur toutes les cibles dans le disque de centre le token cibl\xE9 et de rayon <i>r</i>. Comme pour <code>--ligne</code>, on peut utiliser un token cible qui sera supprim\xE9 apr\xE8s l'attaque. \xC0 noter que l'attaquant lui-m\xEAme peut prendre des d\xE9g\xE2ts, sauf si l'attaque a une port\xE9e nulle et que l'attaquant se cible lui-m\xEAme (attaque centr\xE9e sur le lanceur). On peut donner en argument optionel le mot <code>souffleDeMort</code> pour ne valider l'attaque que si le centre du disque est un personnage mort depuis moins d'un tour et ne garder que les alli\xE9s de ce personnage de niveau inf\xE9rieur ou \xE9gal.</li>
                  <li><code>--cone <i>angle</i></code> : cible toutes les cr\xE9atures dans un c\xF4ne de sommet l'attaquant, d'angle <i>angle</i> degr\xE9s (90 degr\xE9s par d\xE9faut), et s\xE9par\xE9 en deux par le segment joignant l'attaquant et le token vis\xE9.</li>
                  <li><code>--explosion</code> : si l'attaque n'est pas d\xE9j\xE0 un disque, consid\xE8re qu'elle forme un disque de rayon \xE9gal \xE0 la port\xE9e. L'attaquant est automatiquement exclus de la zone.</li>
                  <li><code>--dmCible <i>dmg</i></code> : utilis\xE9 conjointement aux options de zone ci-dessus, cette option permet de remplacer les dommages de base de l'attaque sp\xE9cifiquement sur la cible s\xE9lectionn\xE9e lors de l'attaque</li>
                  <li><code>--saufAllies</code> : ne cible pas les allies dans la zone ou les cibles sp\xE9cifi\xE9es.</li>
                  <li><code>--target <i>id</i></code> : ajoute une cible \xE0 l'attaque (s'ajoute \xE0 la cible principale et aux options d'aoe).</li>
                  <li><code>--ciblesDansDisque <i>n</i></code> : impose que les diff\xE9rentes cibles soient dans un disque de rayon <i>n</i>.</li>
                  <li><code>--ricochets <i>n</i></code> : l'arme de jet peut faire <i>n</i> ricochets. Une cible ne peut \xEAtre touch\xE9e qu'une fois par attaque.</li>
                  <li><code>--message <i>texte</i></code> : ajoute une ligne avec le message dans la fen\xEAtre de l'attaque. Attention, <i>texte</i> ne doit pas contenir la s\xE9quence <code> --</code>.</li>
                  <li><code>--secret</code> : affiche les jets et r\xE9sultats de l'attaque seulement aux joueurs qui contr\xF4lent l'attaquant ou ses cibles, ainsi qu'au MJ.</li>
                  <li><code>--allonge <i>n</i></code> : ajoute <i>n</i> m\xE8tres \xE0 la port\xE9e d'une attaque au contact. L'allonge peut \xEAtre un nombre \xE0 virgule et m\xEAme n\xE9gative.</li>
                  <li><code>--canaliseParFamilier</code> : le point de d\xE9part de l'attaque est le familier s'il est actif sur la carte.</li>
                  <li><code>--peutAgripper</code> : l'attaque peut agripper comme si l'attaquant avait le pr\xE9dicat <code>agripper</code>.</li>
                  <li><code>--soundAttack <i>son</i></code> : joue le son <i>son</i>, \xE0 moins qu'une version plus longue de l'option (voir ci-dessous) n'existe et qu'elle soit active.</li>
                  <li><code>--soundAttackEchec <i>son</i></code> : joue le son <i>son</i> lorque l'arme fait un echec, sauf si c'est un \xE9chec particulier et une version plus longue existe.</li>
                  <li><code>--soundAttackEchecCritique <i>son</i></code> : joue le son <i>n</i> lorque l'arme fait un echec critique</li>
                  <li><code>--soundAttackEchecClignotement <i>son</i></code> : joue le son <i>son</i> lorque l'arme fait un echec par clignotement</li>
                  <li><code>--soundAttackSucces <i>son</i></code> : joue le son <i>son</i> lorque l'arme fait un succ\xE8s</li>
                  <li><code>--soundAttackSuccesCritique <i>son</i></code> : joue le son <i>n</i> lorque l'arme fait un succ\xE8s critique</li>
                  <li><code>--soundAttackSuccesChampion <i>son</i></code> : joue le son <i>son</i> lorque l'arme fait un succ\xE8s champion</li>
                  <li><code>--imgAttack <i>img</i></code> : Affiche dans le chat l'image (.jpg/.png/.gif) <i>img</i>, \xE0 moins qu'une version plus longue de l'option (voir ci-dessous) n'existe et qu'elle soit active.</li>
                  <li><code>--imgAttackEchecCritique <i>img</i></code> : Affiche dans le chat l'image (.jpg/.png/.gif) <i>img</i> lorque l'arme fait un echec critique</li>
                  <li><code>--imgAttackEchec <i>img</i></code> : Affiche dans le chat l'image (.jpg/.png/.gif) <i>img</i> lorque l'arme fait un echec</li>
                  <li><code>--imgAttackEchecClignotement <i>img</i></code> : Affiche dans le chat l'image (.jpg/.png/.gif) <i>img</i> lorque l'arme fait un echec par clignotement</li>
                  <li><code>--imgAttackSuccesCritique <i>img</i></code> : Affiche dans le chat l'image (.jpg/.png/.gif) <i>img</i> lorque l'arme fait un succ\xE8s critique</li>
                  <li><code>--imgAttackSucces <i>img</i></code> : Affiche dans le chat l'image (.jpg/.png/.gif) <i>img</i> lorque l'arme fait un succ\xE8s</li>
                  <li><code>--imgAttackSuccesChampion <i>img</i></code> : Affiche dans le chat l'image (.jpg/.png/.gif) <i>img</i> lorque l'arme fait un succ\xE8s champion</li>
                </ul>
              </div>
              <h4 class="text-secondary">R\xE9duction des d\xE9g\xE2ts</h4>
              <div class="decalage">
                <h5>Fonctionnement de base</h5>
                <ul>
                  <li>Le script utilise les cases RD et Casque pr\xE9sentes sur les fiches.</li>
                  <li>Il est possible d'indiquer plusieurs RD diff\xE9rentes, il suffit de les s\xE9parer par une virgule.</li>
                  <li>Toutes les RD se cumulent.</li>
                  <li>Le script se base sur les types de d\xE9g\xE2ts pour choisir d'appliquer ou non les d\xE9g\xE2ts.</li>
                  <li>Pour les armes magiques, il est possible de sp\xE9cifier \xE0 la fois le type de l'arme (par exemple <code>--tranchant</code>) et <code>--magique</code>.</li>
                </ul>
                <h5>RD simple</h5>
                <p>Dans le cas d'une RD simple (r\xE9sistance \xE0 tous les d\xE9g\xE2ts), il suffit d'indiquer un nombre. Exemple : <code>3</code></p>
                <h5>RD \xE0 un type de d\xE9g\xE2ts particuliers</h5>
                <p>Pour une RD qui ne s'applique qu'\xE0 un type de d\xE9g\xE2ts particuliers, indiquer le type et la valeur s\xE9par\xE9s par <code>:</code>. Exemple : <code>feu:5</code>. On peut aussi sp\xE9cifier une RD conte tous les types \xE9l\xE9mentaires avec le mot cl\xE9 <code>elementaire</code>. On peut aussi avoir une RD qui ne s'applique qu'aux attaques \xE0 distance avec le mot cl\xE9 <code>distance</code>.</p>
                <h5>RD sauf un ou plusieurs types de d\xE9g\xE2ts particuliers</h5>
                <p>Pour une RD qui s'applique tout le temps sauf un ou plusieurs types de d\xE9g\xE2ts particuliers, indiquer la valeur puis <code>/</code> puis les diff\xE9rents types s\xE9par\xE9s par <code>_</code>. Exemple <code>/</code>. Exemple : <code>5/argent_magique</code><br/>
                Pour une RD qui s'appliquerait \xE0 tous les types d'armes sauf une, utiliser \xE0 la place une r\xE9sistance aux 2 autres types d'armes. Exemple, pour 5/tranchant, utiliser <code>percant:5,contondant:5</code>.</p>
                <h5>RD critique</h5>
                <p>Utiliser un <a href=#predicats>pr\xE9dicat</a> <code>RD_critique</code> avec comme valeur la r\xE9sistance aux critiques. Se combine avec une \xE9ventuelle RD critique fournie par le port d'un casque.</p>
                <h5>R\xE9sistances</h5>
                <p>Pour les effets qui divisent la d\xE9g\xE2ts subits d'un type donn\xE9, utilisez un <a href=#predicats>pr\xE9dicat</a> <code>resistanceA_<i>type</i></code>. Une resistance \xE0 tous les d\xE9g\xE2ts non-magiques est possible avec <code>resistanceA_nonMagique</code>.Il est aussi possible d'octroyer une r\xE9sistance temporaire, par exemple une potion de r\xE9sistance au feu pourra \xEAtre simul\xE9e par la commande <code>!cof-set-attribute resistanceA_feu true</code>. Cela ne sera pas visible dans les pr\xE9dicats, local \xE0 un mook, et il faut ensuite effacer l'attribut \xE0 la fin de l'effet.</p>
                <p>Pour les effets qui divisent par 2 les d\xE9g\xE2ts ou la dur\xE9e, utiliser un <a href=#predicats>pr\xE9dicat</a> <code>diviseEffet_<i>type</i></code>.</p>
                <p>Pour les effets qui donnent un bonus aux tests pour r\xE9sister aux effets ou d\xE9g\xE2ts d'un certain type, utiliser un <a href=#predicats>pr\xE9dicat</a> <code>bonusSaveContre_<i>type</i></code> de valeur le bonus accord\xE9. Par exemple, un objet qui donnerait +5 \xE0 tous les tests pour r\xE9sister au poison pourrait \xEAtre encod\xE9 par un pr\xE9dicat <code>bonusSaveContre_poison</code> de valeur <code>5</code>.</p>
                <h5>Armures/Boucliers de Protection (COF p. 203)</h5>
                <p>ajoutez un <a href=#predicats>pr\xE9dicat</a> <code>armureProtection</code> ou <code>bouclierProtection</code>. Le script d\xE9tecte si l'\xE9quipement est port\xE9 ou pas via la fiche, et fonctionne sp\xE9cifiquement contre les attaques qui utilisent <code>--sournoise</code>. Il est aussi possible de sp\xE9cifier le port d'un anneau de protection ayant le m\xEAme effet (pr\xE9dicat <code>anneauProtection</code>.</p>
              </div>
              <h4 class="text-secondary">Manoeuvres</h4>
              <div class="decalage">
                <p><code>!cof-action-defensive</code> avec comme argument soit <code>simple</code>, soit <code>totale</code> donne le bonus en d\xE9fense de l'action d\xE9fensive (p 71). Cette action est disponible par d\xE9faut dans la liste des <a href="#actions_du_tour">actions du tour</a>. Alternativement, si vous n'utilisez pas cette m\xE9thode, vous pouvez cr\xE9er une macro accessible \xE0 tous les tokens, <code>!cof-action-defensive ?{Action d\xE9fensive|simple|totale}</code>.</p>
                <p>Les manoeuvres risqu\xE9es peuvent \xEAtre lanc\xE9es avec la commande <code>!cof-manoeuvre @{selected|token_id} @{target|token_id} <i>effet</i></code>. Liste des manoeuvres : <code>aveugler</code>, <code>bloquer</code>, <code>desarmer</code>, <code>faireDiversion</code>, <code>menacer</code>, <code>renverser</code>, <code>repousser</code>, <code>tenirADistance</code>.</p>
                <p>Il est aussi possible de faire un test d'attaque oppos\xE9e avec la commande <code>!cof-test-attaque-opposee @{selected|token_id} @{target|token_id}</code>.</p>
              </div>
              <h4 class="text-secondary">Recharger des armes : <code>!cof-recharger <i>N</i></code></h4>
              <div class="decalage">
                <p>Il faut un <a href=#predicats>pr\xE9dicat</a> <code>charge</code> dans le champ de pr\xE9dicat des armes qui ont besoin d'\xEAtre charg\xE9es pour fonctionner. On peut associer un nombre au pr\xE9dicat, pour indiquer un maximum de charges sup\xE9rieur \xE0 1. Noter que si on a 2 armes \xE0 une charge, il faut utiliser un maximum de 2.<br />
                Recharge l'arme <i>N</i> (augmente les charges d'un). Les armes sont toutes recharg\xE9es \xE0 la fin d'un combat.<br />
                La commande admet un argment optionel <code>--grenaille</code> pour charger (une arme \xE0 poudre) avec de la grenaille.
                </p>
              </div>
              <h4 class="text-secondary" id="degainer">D\xE9gainer une arme : <code>!cof-degainer <i>N</i></code></h4>
              <div class="decalage">
                <p>Pour certaines capacit\xE9s, (commme <strong>Plus vite que son ombre</strong> ou <strong>D\xE9sarmer</strong>), il peut \xEAtre utile de savoir quelle arme est en main. Pour cela, le script peut utiliser deux m\xE9thodes&nbsp;:
                <ul>
                  <li><code>!cof-degainer <i>L</i></code> o\xF9 <i>L</i> est le label d'une des attaques sur la fiche de personnage : cela fait rengainer l'arme en main et d\xE9gainer l'arme correspondant \xE0 cette attaque. Si le label ne correspond \xE0 aucune attaque (ou qu'on ne donne pas de label), l'action fait rengainer l'arme en main. On peut donner en argument 2 labels d'armes, pour faire d\xE9gainer \xE0 la fois une arme dans la main droite (le premier label) et une arme dans la main gauche. <code>!cof-degainer <i>l</i> gauche</code> permet de d\xE9gainer uniquement une arme dans la main gauche. \xC0 noter que si une arme est not\xE9e comme arme gauche dans l'attaque, alors elle est toujours port\xE9e en main gauche. L'ordre de rengainer fait rengainer les deux armes si le personnage porte une arme en main gauche.</li>
                  <li>Si on attaque avec <code>!cof-attack <i>tok1 tok2 L</i></code>, et que l'attaque est de type <code>Arme 1 main</code>, <code>Arme 2 mains</code> ou <code>Arme gauche</code>, alors on consid\xE8re qu'on doit d\xE9gainer cette arme pour pouvoir l'utiliser. Le script envoie le message et consid\xE8re ensuite l'arme comme \xE9tant en main, au MJ de v\xE9rifier que le joueur dispose bien d'une action de mouvement pour le faire.</li>
                  <li>En fin de combat, si le personnage a la capacit\xE9 frappe du vide, le script va automatiquement lui faire rengainer son arme.</li>
                  <li>Enfin, en fin de combat, si le personnage poss\xE8de un pr\xE9dicat <code>armeParDefaut</code>, le script va lui faire d\xE9gainer l'arme dont le label est la valeur du pr\xE9dicat. Donc si le pr\xE9dicat n'a pas de label associ\xE9, le personnage va rengainer son arme.</li>
                </ul>
                <p>Dans tous les cas, si le personnage d\xE9gaine une arme \xE0 2 mains, le script fait enlever le bouclier, et il le fait remettre si on passe d'une arme \xE0 2 mains \xE0 une arme \xE0 1 main.</p>
                <p>Il existe un pr\xE9dicat <code>DEF</code> qui permet d'ajouter sa valeur \xE0 la d\xE9fense d'un personnage. C'est particuli\xE8rement utile pour coder une arme de parade. Par exemple avec<code>DEF:2</code> dans les pr\xE9dicats de l'arme, elle augmentera la d\xE9fense de <i>2</i> quand elle sera port\xE9e. <p>
                </p>
              </div>
              <h4 class="text-secondary" id="degainer">Couvert :<code>!cof-bonus-couvert <i>b</i></code></h4>
              <div class="decalage">
                Pour donner un bonus en DEF contre toutes les attaques \xE0 distance, on peut utiliser <code>!cof-bonus-couvert ?{Bonus du couvert?}</code> en s\xE9lectionnant les tokens b\xE9n\xE9ficiant du couvert. La commande accepte un argument <code>--secret</code> permettant de ne pas faire conna\xEEtre l'action du personnage \xE0 tous les joueurs. Pour ne plus \xEAtre \xE0 couvert, il suffit de lancer la commande sans argument.
              </div>
              <h4 class="text-secondary">\xC9checs critiques&nbsp;:</h4>
              <p>En cas d'\xE9chec critique \xE0 une attaque, le script va sugg\xE9rer des effets d'\xE9chec critique inspir\xE9s de <a href="">cette table sugg\xE9r\xE9e par l'auteur du jeu</a>. Le script proposera m\xEAme dans la plupart des cas un bouton qui automatisera les lancers de d\xE9s et l'application de l'effet, si relevant.</p>
              <p>Il est aussi possible d'utiliser une table personnelle, non-automatis\xE9e (voir les options d'affichage, !cof-options affichage). La table utilis\xE9e (Echec-Critique-Contact) peut \xEAtre modifi\xE9e par le MJ.</p>
              <h4 class="text-secondary">D\xE9g\xE2ts directs (sans attaquant, ou aire d'effet trop complexe pour !cof-attack) : <code>!cof-dmg <i>dm</i></code></h4>
              <div class="decalage">
                <p>Applique des d\xE9g\xE2ts \xE0 tous les tokens s\xE9lectionn\xE9s. L'argument <i>dm</i> peut \xEAtre un inline roll. Utile par exemple pour les chutes, ou bien les d\xE9g\xE2ts d'environnement, voire de pi\xE8ges.<br />
                Arguments optionels: une partie des options de <code>!cof-attack</code>, dont le type, et par exemple <code>--psave <i>carac seuil</i></code> (jet de <i>carac</i>, si sup\xE9rieur au <i>seuil</i>, les d\xE9g\xE2ts sont divis\xE9s par 2). On peut aussi donner un titre aux d\xE9g\xE2ts en utilisant l'option <code>--titre</code>
                </p>
                <p> Il est possible d'infliger des d\xE9g\xE2ts sur la dur\xE9e en utilisant la commande <code>!cof-effet-temp dotGen(<i>nom</i>) <i>duree</i> --valeur <i>expr</i> <i>type</i></code>. Les arguments de <code>--valeur</code> donnent l'expression \xE0 \xE9valuer, de type lanc\xE9 de d\xE9, et le type de d\xE9g\xE2ts. Par d\xE9faut, si rien n'est pr\xE9cis\xE9, c'est <code>1d6</code> et <code>normal</code>. On peut utiliser les options habituelles de <code>!cof-effet-temp</code>. Ainsi, si on souhaite infliger des d\xE9g\xE2ts de poison de 1d4+1 par tour, pendant 10 tours, avec un jet de CON difficult\xE9 12 pour arr\xEAter l'effet, on pourra \xE9crire <code>!cof-effet-temp dotGen(monPoison) 10 --saveParTour CON 12 --valeur 1d4+1 poison</code>.
                </p>
              </div>
              <h4 class="text-secondary">Sortir du combat : <code>!cof-fin-combat</code></h4>
              <div class="decalage">
                <p>Ferme aussi le tracker de tour. Encore \xE0 mettre en macro dans la barre du MJ (macro automatiquement g\xE9n\xE9r\xE9e par <code>!cof-set-macros</code>). Permet de tenir compte de pleins de capacit\xE9s qui durent un combat, ou utilisables une seule fois par combat,...</p>
              </div>
              <h4 class="text-secondary">Utilisation sp\xE9ciale des images et son des armes</h4>
              <div class="decalage">
                <p>Les images des armes et les sons peuvent \xEAtre red\xE9finis dans le champ d\xE9tail de l'arme.</p>
                <p>Pour ce faire vous devez ajouter les urls des images au format suivant dans la description de l'arme :</p>
                <p><code>[<i>Type de r\xE9ussite</i>] <i>url de l'image</i> [<i>Type de r\xE9ussite</i>]</code></p>
                <p>Par exemple : <code>[img-attack-echec-critique]https://media0.giphy.com/media/3og0INyCmHlNylks9O/giphy.gif[img-attack-echec-critique]</code></p>
                <p>Les <i>types de r\xE9ussite</i> que vous pouvez mettre en image sont :</p>
                <div class="decalage">
                  <ul>
                    <li><code>[img-attack-echec-critique] <i>img</i></code> : Affiche dans le chat l'image (.jpg/.png/.gif) <i>img</i> lorque l'arme fait un echec critique</li>
                    <li><code>[img-attack-echec] <i>img</i></code> : Affiche dans le chat l'image (.jpg/.png/.gif) <i>img</i> lorque l'arme fait un echec</li>
                    <li><code>[img-attack-echec-clignotement] <i>img</i></code> : Affiche dans le chat l'image (.jpg/.png/.gif) <i>img</i> lorque l'arme fait un echec par clignotement</li>
                    <li><code>[img-attack-succes-critique] <i>img</i></code> : Affiche dans le chat l'image (.jpg/.png/.gif) <i>img</i> lorque l'arme fait un succ\xE8s critique</li>
                    <li><code>[img-attack-succes] <i>img</i></code> : Affiche dans le chat l'image (.jpg/.png/.gif) <i>img</i> lorque l'arme fait un succ\xE8s</li>
                    <li><code>[img-attack-succes-champion] <i>img</i></code> : Affiche dans le chat l'image (.jpg/.png/.gif) <i>img</i> lorque l'arme fait un succ\xE8s champion</li>
                  </ul>
                </div>
                <p>De la m\xEAme mani\xE8re vous pouvez ajouter des sons :</p>
                <p>[<i>Type de r\xE9ussite</i>] <i>Nom du son dans votre jukebox</i> [<i>Type de r\xE9ussite</i>]</p>
                <div class="decalage">
                  <ul>
                    <li><code>[sound-attack-echec-critique] <i>son</i></code> : joue le son <i>n</i> lorque l'arme fait un echec critique</li>
                    <li><code>[sound-attack-echec] <i>son</i></code> : joue le son <i>son</i> lorque l'arme fait un echec</li>
                    <li><code>[sound-attack-echec-clignotement] <i>son</i></code> : joue le son <i>son</i> lorque l'arme fait un echec par clignotement</li>
                    <li><code>[sound-attack-succes-critique] <i>son</i></code> : joue le son <i>n</i> lorque l'arme fait un succ\xE8s critique</li>
                    <li><code>[sound-attack-succes] <i>son</i></code> : joue le son <i>son</i> lorque l'arme fait un succ\xE8s</li>
                    <li><code>[sound-attack-succes-champion] <i>son</i></code> : joue le son <i>son</i> lorque l'arme fait un succ\xE8s champion</li>
                  </ul>
                </div>
                <p>Par exemple : <code>[sound-attack-echec-critique]bang[sound-attack-echec-critique]</code></p>
                <p>Dans cette exemple le son nom\xE9 "bang" dans votre jutbox serra jou\xE9 a chaque echec critique de cette arme</p>
              </div>
              <h3 class="text-info" id="soins">2.2 Soins :</h3>
              <div class="decalage">
                <h4 class="text-secondary"><code>!cof-soin @{selected|token_id} @{target|token_id} <i>x</i></code></h4>
                <div class="decalage">
                  <p><i>x</i> peut \xEAtre un nombre, un jet de d\xE9 ou <code>leger</code>, <code>modere</code>, <code>groupe</code> ou <code>secondSouffle</code>.</p>
                  <p>Les deux premiers arguments sont optionnels. Si <code>!cof-soin</code> n'a qu'un seul argument, c'est interpr\xE9t\xE9 comme le montant des soins, et les tokens soign\xE9s sont ceux s\xE9lectionn\xE9s. Si <code>!cof-soin</code> n'a que 2 arguments, le premier argument est le token du soigneur, et les cibles doivent \xEAtre d\xE9sign\xE9es avec une option de s\xE9lection de groupe.</p>
                  <span>Options (en plus de options normales de commandes):</span>
                  <ul>
                    <li><code>--portee <i>n</i></code> : permet de sp\xE9cifier une distance maximum entre le soigneur et le soign\xE9 (au-del\xE0, le soin \xE9choue)</li>
                    <li><code>--transfer</code> : le soin est pay\xE9 avec les PV du soigneur</li>
                    <li><code>--mana <i>n</i></code> : demande au lanceur de payer <i>n</i> points de mana</li>
                    <li><code>--depasseLimite <i>n</i></code> : permet de lancer les sorts de soins l\xE9ger, mod\xE9r\xE9 ou de groupe quand la limite journali\xE8re est d\xE9pass\xE9e, mais en augmentant le co\xFBt en mana de <i>n</i> \xE0 chaque nouveau d\xE9passement.</li>
                    <li><code>--limiteSoinsParJour <i>n</i></code> : limite le nombre total de PVs soign\xE9s par jour. Cette limite peut \xEAtre associ\xE9e \xE0 une ressource (sp\xE9cifier en deuxi\xE8me argument de l'option, peut contenir des espaces), de sorte que seuls les soins qui mentionnent cette ressource sont concern\xE9s par cette limitation. Cette option n'a de sens que si un soigneur est pr\xE9cis\xE9.</li>
                    <li><code>--sacrifierPV</code> : le soigneur doit sacrifier autant de PV que le montant des soins (que ces soins soient utilis\xE9s ou non).</li>
                  </ul>
                </div>
              </div>
              <h3 class="text-info" id="repos">2.3 Repos et changement de jour</h3>
              <div class="decalage">
                <h4 class="text-secondary">Changement de jour</h4>
                <div class="decalage">
                  <p><code>!cof-nouveau-jour</code> : remise \xE0 z\xE9ro de toutes les limites journali\xE8res. </p>
                </div>
                <h4 class="text-secondary">Repos de plus de 8 h</h4>
                <div class="decalage">
                  <p>Fait r\xE9cup\xE9rer 1 PR ou les points de vie correspondant \xE0 1 PR, plus les points de mana.</p>
                  <ul>
                    <li><code>!cof-nouveau-jour --repos</code> : Pour une nuit qui se passe bien : fait l'effet d'un nouveau jour sur le monde, et, si aucun token n'est s\xE9lectionn\xE9, applique un repos de 8 h \xE0 tous les tokens de la page, sinon applique ce repos uniquement aux tokens s\xE9lectionn\xE9s.</li>
                    <li><code>!cof-recuperation --reposLong</code> : applique le repos aux tokens selectionn\xE9s, sans remettre \xE0 z\xE9ro les limites journali\xE8res.
                  </ul>
                </div>
                <h4 class="text-secondary">Repos de 10 minutes</h4>
                <div class="decalage">
                  <p><code>!cof-recuperation</code> : d\xE9pense 1 PR pour se soigner. \xC0 mettre en macro associ\xE9e aux tokens, car tous les joueurs en ont besoin (g\xE9n\xE9r\xE9 par <code>!cof-set-macros</code>.</p>
                </div>
              </div>
              <h3 class="text-info" id="statut_etats">2.4 Statut et \xE9tats</h3>
              <div class="decalage">
                <p><code>!cof-statut</code> affiche l'\xE9tat courant de tous les tokens s\xE9lectionn\xE9s. Utile pour conna\xEEtre facilement les \xE9tats qui ne sont pas directement visibles sur un token (points de r\xE9cup\xE9ration, armes charg\xE9es, ...). Il est possible de rajouter l'affichage d'autres attributs que ceux s\xE9lectionn\xE9s par d\xE9faut par le script. Pour cela, utiliser un pr\xE9dicat <code>attributsDeStatut</code>, de valeur la liste des noms d'attributs \xE0 afficher, s\xE9par\xE9s par des virgules. Attention, si vous avez besoin de s\xE9parer vos attributs par des virgules, pensez \xE0 utiliser la syntaxe avec <code>::</code>. Si vous le souhaitez, vous pouvez utiliser plusieurs pr\xE9dicats nomm\xE9s <code>attributsDeStatut</code>. </p>
                <h4 class="text-secondary" id="etats">\xC9tats g\xE9r\xE9s en utilisant le statut des tokens</h4>
                <div class="decalage">
                  <p><code>!cof-set-state <i>etat</i> <i>[true|false]</i></code> permet de changer l'\xE9tat des tokens s\xE9lectionn\xE9s. Si cet \xE9tat concerne un personnage avec tokens li\xE9s (en liant la barre 1 aux points de vie), alors l'\xE9tat persiste si on change de carte (utilisation d'un attribut hors fiche).</p>
                  <p>Liste des \xE9tats et markers correspondants :</p>
                  <table>
                    <caption>LdB : Livre de Base, Comp : Compagnon</caption>
                    <thead>
                      <tr style="border-bottom: 1px solid black" >
                        <th scope="col">\xC9tat</th>
                        <th scope="col">Source</th>
                        <th scope="col">Remarque</th>
                        <th scope="col" width="145px">Marker Std.</th>
                        <th scope="col" width="135px">Marker COF</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <th scope="row">Affaibli</hd>
                          <td>LdB p70</td>
                          <td>Appara\xEEt sur la fiche perso</td>
                          <td><code>half-heart</code></td>
                          <td><code>cof-affaibli</code></td>
                      </tr>
                      <tr>
                        <th scope="row">Apeur\xE9</hd>
                          <td></td>
                          <td>Victime d'un sort de Peur</td>
                          <td><code>screaming</code></td>
                          <td><code>cof-apeure</code></td>
                      </tr>
                      <tr>
                        <th scope="row">Assomm\xE9</hd>
                          <td>LdB p72</td>
                          <td></td>
                          <td><code>pummeled</code></td>
                          <td><code>cof-assomme</code></td>
                      </tr>
                      <tr>
                        <th scope="row">Aveugl\xE9</hd>
                          <td>LdB p70</td>
                          <td>Change aussi la vision du token</td>
                          <td><code>bleeding-eye</code></td>
                          <td><code>cof-aveugle</code></td>
                      </tr>
                      <tr>
                        <th scope="row">Bless\xE9</hd>
                          <td>LdB p177</td>
                          <td></td>
                          <td><code>arrowed</code></td>
                          <td><code>cof-blesse</code></td>
                      </tr>
                      <tr>
                        <th scope="row">Encombr\xE9</hd>
                          <td>Comp p103</td>
                          <td></td>
                          <td><code>frozen-orb</code></td>
                          <td><code>cof-encombre</code></td>
                      </tr>
                      <tr>
                        <th scope="row">Endormi</hd>
                          <td></td>
                          <td></td>
                          <td><code>sleepy</code></td>
                          <td><code>cof-endormi</code></td>
                      </tr>
                      <tr>
                        <th scope="row">\xC9tourdi</hd>
                          <td>LdB p70</td>
                          <td></td>
                          <td><code>half-haze</code></td>
                          <td><code>cof-etourdi</code></td>
                      </tr>
                      <tr>
                        <th scope="row">Immobilis\xE9</hd>
                          <td>LdB p70</td>
                          <td></td>
                          <td><code>cobweb</code></td>
                          <td><code>cof-immobilise</code></td>
                      </tr>
                      <tr>
                        <th scope="row">Invisible</hd>
                          <td></td>
                          <td>Sort d'invisibilit\xE9</td>
                          <td><code>ninja-mask</code></td>
                          <td><code>cof-invisible</code></td>
                      </tr>
                      <tr>
                        <th scope="row">Mort</hd>
                          <td>LdB p73</td>
                          <td>M\xEAme \xE9tat pour un PJ juste inconscient \xE0 0 PV</td>
                          <td><code>dead</code></td>
                          <td><code>dead</code></td>
                      </tr>
                      <tr>
                        <th scope="row">Paralys\xE9</hd>
                          <td>LdB p70</td>
                          <td></td>
                          <td><code>fishing-net</code></td>
                          <td><code>cof-paralyse</code></td>
                      </tr>
                      <tr>
                        <th scope="row">Ralenti</hd>
                          <td>LdB p70</td>
                          <td></td>
                          <td><code>snail</code></td>
                          <td><code>cof-ralenti</code></td>
                      </tr>
                      <tr>
                        <th scope="row">Renvers\xE9</hd>
                          <td>LdB p70</td>
                          <td></td>
                          <td><code>back-pain</code></td>
                          <td><code>cof-renverse</code></td>
                      </tr>
                      <tr>
                        <th scope="row">Surpris</hd>
                          <td>LdB p70</td>
                          <td></td>
                          <td><code>lightning-helix</code></td>
                          <td><code>cof-surpris</code></td>
                      </tr>
                      <tr>
                        <th scope="row">P\xE9nombre</hd>
                          <td>LdB p71</td>
                          <td></td>
                          <td><code>archery-target</code></td>
                          <td><code>cof-penombre</code></td>
                      </tr>
                    </tbody>
                  </table>
                  <p>Pour faciliter la gestion des \xE9tats, on peut deux macros dans la barre du GM, <code>!cof-set-state ?{\xC9tat|mort|surpris|assomme|renverse|aveugle|affaibli|etourdi|paralyse|ralenti|immobilise|endormi|apeure|invisible|bless\xE9|encombre} true</code>, et la m\xEAme avec <code>false</code>. (N'oubliez pas que la commande <code>!cof-set-macros</code> permet de g\xE9n\xE9rer automatiquement les macros utiles au script). Une fois qu'on conna\xEEt bien les ic\xF4nes, on peut directement les changer sur les tokens pour le m\xEAme effet (et m\xEAme faire un undo de ces changements si besoin).  </p>
                  <p>\xC0 noter qu'un personnage ayant un <a href=#predicats>pr\xE9dicat</a> nomm\xE9 <code>immunite_<i>etat</i></code> ne pourra pas \xEAtre mis dans l'\xE9tat <i>etat</i>.</p>
                  <p>Enfin, il est possible de faire r\xE9aliser un jet pour se lib\xE9rer d'un \xE9tat, en utilisant la commande <code>!cof-save-state <i>etat</i> <i>carac</i> <i>seuil</i></code>. Il est possible de remplacer <i>seuil</i> par une id de token pour faire faire un test en opposition avec ce token. On peut aussi passer la caract\xE9ristique et le seuil en argument \xE0 <code>!cof-set-state</code> pour proposer le jet \xE0 chaque fois qu'on affiche les <a href="#actions_du_tour">actions du tour</a> ou qu'on affiche le statut du personnage.</p>
                </div>
                <h4 class="text-secondary">Affaiblissements de caract\xE9ristiques</h4>
                <div class="decalage">
                  <p>
                  <code>!cof-affaiblir-carac <i>carac</i> <i>valeur</i></code> permet d'affaiblir temporairement une caract\xE9ristique (force, dext\xE9rit\xE9, constitution, intelligence, sagesse, charisme ou random) d'une valeur positive. Il existe aussi une option pour les attaques, <code>--affaiblirCarac</code>, qui permet de n'affaiblir une caract\xE9ristique que si une attaque est r\xE9ussie.
                  </p>
                  <p>Une caract\xE9ristique affaiblie remonte de 1 apr\xE8s chaque nuit de repos. Le sort de r\xE9g\xE9n\xE9ration permet de r\xE9cup\xE9rer 1d4 points d'une seule caract\xE9ristique physique (d'abord constitution, puis force puis dext\xE9rit\xE9). Le sort d\xE9livrance permet de r\xE9cup\xE9rer 1d4 point d'une seule caract\xE9ristique, et comme indiqu\xE9 dans les r\xE8gles, le sort de gu\xE9rison annule tous les affaiblissements de caract\xE9ritiques. Enfin le script propose une commande d\xE9di\xE9e, <code>!cof-soigner-affaiblissement <i>carac</i> <i>valeur</i></code> pour soigner les affaiblissements.
                  </p>
                  <p> \xC0 noter que la diminution de constitution fait baisser les points de vie maximum, et qu'une constitution de 0 conduit \xE0 la mort.</p>
                </div>
                <h4 class="text-secondary">Conditions hostiles et extr\xEAmes</h4>
                <div class="decalage">
                <p>Pour des conditions hostiles, faire <code>!cof-effet conditionsHostiles oui</code> en s\xE9lectionnant les personnages concern\xE9s. Pour des conditions extr\xEAmes, <code>!cof-effet conditionsHostiles 5</code>. \xC0 noter que le script permet de passer en argument n'importe quel nombre, qui sera appliqu\xE9 en malus \xE0 la DEX, FOR, DEF et attaque.</p>
                </div>
                <h4 class="text-secondary">Autres bufs et debufs</h4>
                <div class="decalage">
                  <p><code>!cof-buf-def <i>n</i></code> : buf ou debuf de la DEF.</p>
                  <p><code>!cof-remove-buf-def</code> : enl\xE8ve tout buf ou debuf de la def.</p>
                  <p><code>!cof-effet-temp <i>effet duree</i></code> : ajoute l'effet <i>effet</i> \xE0 la cible pour la dur\xE9e, <code>!cof-effet-combat <i>effet</i></code> ajoute l'effet pour le combat, et <code>!cof-effet <i>effet</i></code> ajoute ou enl\xE8ve un effet \xE0 dur\xE9e ind\xE9termin\xE9e. \xC0 noter que si la dur\xE9e est 0 ou <code>fin</code>, alors la commande met fin \xE0 l'effet (utile pour des effets temporaires qui ont une action en fin d'effet, comme <code>agrandissement</code> ou <code>formeDArbre</code>). Un personnage ayant un pr\xE9dicat nomm\xE9 <code>immunite_<i>effetTemp</i></code> est immunis\xE9 \xE0 l'effet temporaire de nom <i>effetTemp</i>.</p>
                  <ul>
                    <li><code>--lanceur <i>id</i></code> : indique quel est le lanceur. Utile pour un certain nombre d'autres options.</li>
                    <li><code>--mana <i>id cout</i></code> : impose au token <i>id</i> de d\xE9penser <i>cout</i> mana. Si <code>--lanceur</code> est donn\xE9, <i>id</i> est inutile. La pr\xE9sence de cette option, m\xEAme avec un co\xFBt de 0, indique au script que l'effet devrait \xEAtre supprim\xE9 \xE0 la mort du lanceur.</li>
                    <li><code>--limiteParJour <i>l</i></code> : limite le nombre d'utilisations de cette effet \xE0 <i>l</i> fois par jour. On peut pr\xE9ciser un nom apr\xE8s <i>l</i>, qui va correspondre \xE0 une ressource pouvant \xEAtre partag\xE9e avec d'autres attaques ou d'autres effets (voir <code>!cof-attack</code>). Par d\xE9faut, le nom de cette ressource est <i>effet</i>. Attention, il faut un lanceur auquel appliquer la limite par jour !</li>
                    <li><code>--limiteParCombat</code> : m\xEAme effet que la limite par jour. Si aucun argument n'est donn\xE9, la limite est de une fois par combat.  Attention, il faut un lanceur auquel appliquer la limite par combat !</li>
                    <li><code>--tempsRecharge <i>effet</i> <i>duree</i></code> : l'action n'est possible que si l'effet est inactif sur le personnage qui g\xE9n\xE8re l'effet, et de plus active l'effet sur celui-ci pour la dur\xE9e indiqu\xE9e. Il existe un effet temporaire g\xE9n\xE9rique, <code>rechargeGen(<i>desc</i>)</code> que vous pouvez utiliser si aucun effet existant ne correspond.</li>
                    <li><code>--dose <i>nom</i></code>: d\xE9finie une ressource nomm\xE9e <code>dose_<i>nom</i></code>, dont la valeur doit \xEAtre positive. Utile par exemple pour les parchemins, les potions ou les baguettes.</li>
                    <li><code>--portee <i>id d</i></code> : impose aux cibles de l'effet d'\xEAtre \xE0 moins de <i>d</i> m\xE8tres du token <i>id</i>. Si <code>--lanceur</code> est pr\xE9cis\xE9, inutile de donner <i>id</i>.</li>
                    <li><code>--puissant</code> : lance la version puissante de l'effet</li>
                    <li><code>--puissant oui</code> : idem</li>
                    <li><code>--puissant non</code> : lance la version non puissante (efface le dernier effet puissant)</li>
                    <li><code>--puissant duree</code> : multiplie la dur\xE9e par 2</li>
                    <li><code>--puissant portee</code> : multiplie la port\xE9e par 2</li>
                    <li><code>--saveParTour <i>carac seuil</i></code> : la cible peut se sortir de l'effet chaque tour gr\xE2ce \xE0 un test de <i>carac</i> de difficulte <i>seuil</i>.</li>
                    <li><code>--saveActifParTour <i>carac seuil</i></code> : la cible peut se sortir de l'effet \xE0 tour gr\xE2ce \xE0 un test de <i>carac</i> de difficulte <i>seuil</i> (utilisation dans bouton dans la liste d'actions).</li>
                    <li><code>--save <i>carac seuil</i></code> : la cible peut faire un jet pour \xE9chapper \xE0 l'effet. Si on ajoute l'argument <code>demiDuree</code>, alors r\xE9ussir la sauvegarde ne fait que diviser la dur\xE9e.</li>
                    <li><code>--seulementVivant</code> : l'effet ne peut s'appliquer qu'aux personnages vivants.</li>
                    <li><code>--tempeteDeMana <i>liste</i></code> : indique des effets de temp\xEAte de mana. La liste peut contenir un nombre (pour l'effet intense), <code>duree</code>, <code>rapide</code> et <code>portee</code>. Si le rang du sort est sp\xE9cifi\xE9 (par l'option <code>--rang</code>, un message est affich\xE9e si le co\xFBt en mana est sup\xE9rieur au rang. Si la liste d'options est vide, le script affiche un menu dans le chat pour sp\xE9cifier les options de temp\xEAte de mana.</li>
                    <li><code>--magieEnArmure</code> : indique d'appliquer les r\xE8gles pour la magie en armure pour un profil hybride. Il faut pour cela un lanceur d\xE9fini. Par defaut, va faire test l'intelligence par un jet de difficult\xE9 10 + rang + malus d'armure. Le rang est obtenu par l'option <code>--rang</code>. J'utilise le malus d'armure car il n'y a pas moyen de distinguer la DEF intrins\xE8que de l'armure de ses bonus de DEF d\xFBs \xE0 un bonus magique. Enfin, on peut utiliser la r\xE8gle de d\xE9pense suppl\xE9mentaire de mana \xE0 la place du jet d'INT en utilisant l'option <code>--magieEnarmure mana</code>. Encore une fois, je prends le malus d'armure, divis\xE9 par 3 et arrondi au sup\xE9rieur pour les r\xE8gles de mana de base.</li> 
                    <li><code>--accumuleDuree <i>n</i></code> : l'effet peut \xEAtre accumul\xE9 : chaque fois qu'on applique \xE0 nouveau l'effet avec une dur\xE9e donn\xE9e, on ajoute cette dur\xE9e \xE0 la dur\xE9e courante de l'effet sur la cible. On ne peut cumuler ainsi que <i>n</i> instances de l'effet.</li>
                    <li><code>--valeur <i>n</i></code> : pour certains effet, permet de sp\xE9cifier une valeur qui remplace la valeur par d\xE9faut de l'effet.</li>
                    <li><code>--optionEffet <i>opt arg1 arg2 ...</i></code> : sp\xE9cifie une option \xE0 l'effet. L'option <i>opt</i> doit \xEAtre donn\xE9e sans le <code>--</code> et sera pass\xE9e telle quelle \xE0 l'effet, par exemple pour les d\xE9g\xE2ts p\xE9riodiques. Si on a besoin de plusieurs options, il faut utiliser plusieurs fois <code>--optionEffet</code>.</li>
                    <li><code>--secret</code> : le r\xE9sultat de l'effet est chuchot\xE9 au joueur qui lance la commande.</li>
                    <li><code>--fx <i>effet</i></code> : affiche l'effet sp\xE9cial entre le lanceur et ses cibles. Il est possible d'utiliser un effet que vous avez d\xE9fini vous-m\xEAme en utilisant l'option <code>--fx custom <i>nom</i></code>, o\xF9 <i>nom</i> est le nom de votre effet.</li>
                    <li><code>--targetFx <i>effet</i></code> : affiche l'effet sp\xE9cial sur toutes les cibles (l'effet ne doit pas \xEAtre directionnel).</li> 
                    <li><code>--son <i>son</i></code> : joue le son (normalement compatible avec Roll20AM)</li>
                    <li><code>--image <i>img</i></code> : affiche l'image dans le texte d'activation de l'effet.</li>
                    <li><code>--tokenSide <i>n</i></code> : utilisable seulement pour les tokens \xE0 plusieurs faces. Dans ce cas, va changer la face du token en <i>n</i> (\xE0 noter que les faces sont num\xE9rot\xE9es \xE0 partir de 0). Quand l'effet se termine, le token retrouve la face qu'il avait au moment o\xF9 on avait appliqu\xE9 l'effet.</li>
                    <li><code>--<i>type</i></code> : il est possible d'associer un type \xE0 l'effet. L'utilisation la plus courante est le type <code>poison</code> ou <code>maladie</code>, qui vont permettre de tenir compte des bonus ou immunit\xE9s contre les effets de ce type.</li>
                    <li><code>--montreActions</code> : affiche les actions du tours de la cible apr\xE8s avoir appliqu\xE9 l'effet. Utile si les actions du tours d\xE9pendent de cet effet, pour afficher une liste \xE0 jour.</li>
                    <li><code>--degainer <i>L</i></code> : le lanceur d\xE9gaine l'arme de label <i>L</i>.</li>
                  </ul>
                  <p><code>!cof-boire-alcool</code> et <code>!cof-desaouler</code> permettent de faire varier le niveau d'\xE9bri\xE9t\xE9. Par exemple, pour tester si le niveau d'\xE9bri\xE9t\xE9 augmente apr\xE8s avoir bu un certain nombre de verres, on peut utiliser la macro <code>!cof-boire-alcool --save CON [[10+?{Nombre de verres}]]</code>.
                </div>
                <h4 class="text-secondary">Effets retard\xE9s</h4>
                <div class="decalage">
                  <p>On peut utiliser l'effet temporaire g\xE9n\xE9rique <code>messageRetarde(<i>nom</i>)</code> pour programmer un message qui sera affich\xE9 apr\xE8s un certain nombre de tours. Au bout de ce nombre de tours, le nom est affich\xE9, ainsi que le texte de valeur (avec <code>--valeur</code> si besoin). La syntaxe est <code>!cof-effet-temp messageRetarde(<i>nom</i>) <i>duree</i> --valeur <i>message</i></code>. Si vous avez besoin d'un message qui contienne des espaces, remplacez les espaces par des <code>_</code>.</p>
                  <p>On peut aussi d\xE9clencher un effet apr\xE8s un certain nombre de tour avec l'effet temporaire g\xE9n\xE9rique <code>effetRetarde(<i>effet</i>)</code>. Apr\xE8s la dur\xE9e de l'effet retard\xE9, si <i>effet</i> est un \xE9tat, la cible est mise dans cet \xE9tat, si c'est un effet temporaire, on lui applique cet effet pour une dur\xE9e de 1 tour, ou si un argument <code>--valeur</code> a \xE9t\xE9 donn\xE9, il sera utilis\xE9 comme dur\xE9e. Enfin si ce n'est ni l'un ni l'autre, un attribut avec le nom <i>effet</i> sera cr\xE9\xE9, de valeur courante <code>true</code>, ou bien si un argument <code>--valeur</code> a \xE9t\xE9 donn\xE9, cette valeur sera utilis\xE9e comme valeur courante de l'attribut <i>effet</i>.</p>
                </div>
                <h4 class="text-secondary">Pr\xE9dicats : <code>!cof-set-predicate</code></h4>
                <div class="decalage">
                  <p>Il est possible d'ajouter ou de retirer un <a href=#predicats>pr\xE9dicat</a> avec la fonction <code>!cof-set-predicate <i>nom</i></code>, optionellement suivi de <code>true</code> ou <code>false</code>.</p>
                </div>
                <h4 class="text-secondary">Autres attributs : <code>!cof-set-attribute</code></h4>
                <div class="decalage">
                  Il est possible de changer ou cr\xE9er n'importe quel attribut avec la fonction <code>!cof-set-attribute <i>nom</i> <i>val</i></code>. Optionellement, on peut sp\xE9cifier en troisi\xE8me argument une valeur maximale de l'attribut (comme dans <code>!cof-set-attribute <i>nom</i> <i>val</i> <i>max</i></code>). Attention, \xE7a peut interragir de fa\xE7on impr\xE9vue avec le script ou la fiche, si on \xE9crit dans un attribut utilis\xE9 par la fiche.
                </div>
              </div>
              <h3 class="text-info" id="sorts">2.5 Sorts</h3>
              <div class="decalage">
                <p><code>!cof-attaque-magique @{selected|token_id} @{target|token_id}</code> : fait un jet d'attaque magique oppos\xE9 entre le lanceur et sa cible, et dit juste si le sort est rat\xE9 ou r\xE9ussi. Options disponibles : <code>--portee</code> et <code>--mana</code>.</p>
                <p><code>!cof-lancer-sort <i>texte</i></code> : le token s\xE9lectionn\xE9 lance un sort sans support particulier du script (seul un whisper est envoy\xE9 au joueur et au MJ). Options disponibles : <code>--mana</code>pour indiquer un co\xFBt en mana et <code>--son</code> pour jouer un son. Pour un sort sur plusieurs cibles, utiliser l'option <code>--lanceur @{selected|token_id}</code>.</p>
                <p><code>!cof-peur <i>difficult\xE9 dur\xE9e</i></code> : effet de peur (n\xE9cromant, dragon, etc). Tant que la peur est active, statut screaming. <i>difficult\xE9</i> est la difficult\xE9 du jet de SAG.</p>
                <span>Options :</span>
                <ul>
                  <li><code>--resisteAvecForce</code> : on prend le max de FOR et SAG pour r\xE9sister</li>
                  <li><code>--etourdi</code> : la peur fait fuir ou rend \xE9tourdi</li>
                  <li><code>--ralenti</code> : la peur ralenti</li>
                  <li><code>--paralyse</code> : la peur paralyse</li>
                  <li><code>--secoue</code> : la peur ne donne qu'un malus de -2 aux tests. Mais un autre effet de peur de m\xEAme type fait fuir.</li>
                  <li><code>--effroi</code> : la peur est passive (pas un sort)</li>
                  <li><code>--portee <i>n</i></code> : limite la port\xE9e du sort \xE0 <i>n</i> metres.</li>
                  <li><code>--lanceur <i>id</i></code> : le lanceur de l'effet de peur (si il y en a un). N\xE9cessaire pour la port\xE9e, par exemple.</li>
                  <li><code>--titre <i>message</i></code> : sp\xE9cifie un titre pour la fen\xEAtre affichant les jets de r\xE9sistance \xE0 la peur.</li>
                  <li><code>--immuniseSiResiste <i>nom</i></code> : la personne qui r\xE9siste \xE0 cet effet de peur est ensuite immunis\xE9 pour la journ\xE9e aux effets de peur ayant la m\xEAme option (avec le m\xEAme <i>nom</i>).</li>
                </ul>
                Noter qu'un pr\xE9dicat <code>courage</code> permet d'obtenir un bonus (\xE9gal \xE0 la valeur du pr\xE9dicat) au jet pour r\xE9sister \xE0 la peur.
              </div>
              <h3 class="text-info" id="consommables">2.6 Consommables <code>!cof-consommables</code></h3>
              <div class="decalage">
                <p>Cette fonction affiche une liste de consommables, avec la possibilit\xE9 de cliquer sur un \xE9l\xE9ment de la liste pour le consommer (et activer son effet) ou l'\xE9changer avec un autre personnage (via le symbole d'\xE9change).</p>
                <p>Pour cela, la fonction utilise la liste des consommables sur la fiche (onglet "\xC9quipement"). Elle ne va afficher que les consommables qui ont un effet (d\xE9crit dans la ligne Effet sous le nom du consommable). </p>
                <p><img class="img-fluid" src="https://i.imgur.com/WZT8buT.png" data-href="https://i.imgur.com/WZT8buT.png"></p>
                <figcaption>Exemple d'une liste de consommable.</figcaption>
                <!--<p>Attention, les boutons sont utilisables par tout le monde, ce qui permet de faire utiliser un des concommables d'un personnage par un autre. Le script v\xE9rifie juste que le token qui utilise l'objet est au contact.</p>-->
                <p>Pour l'instant, seules les commandes <code>!cof-effet-temp</code>, <code>!cof-effet-combat</code>, <code>!cof-effet</code>, <code>!cof-enduire-poison</code>, <code>!cof-attack</code>, <code>!cof-lancer-sort</code> et <code>!cof-soin</code> diminuent correctement le nombre de consommables.</p>
                <div class="alert alert-warning">
                  <p><strong>Attention : </strong></p>
                  <ul>
                    <li>Pour la commande <code>!cof-attack</code>, il est vivemement recommand\xE9 de ne pas utiliser de label, mais uniquement un nom et des options si vous voulez faciliter l'\xE9change du consommable.</li>
                    <li>De mani\xE8re g\xE9n\xE9rale, faites attention avec les r\xE9f\xE9rences utilis\xE9 dans le consommable du personnage qui utilise le consommable.<br />
                    </li>
                  </ul>
                </div>
                <p>L'\xE9change via le symbole <span class="text-danger"><strong>&#8596;</strong></span> vous permettra de s\xE9lectionner un token destinataire qui recevra le consommable dans sa liste. Si le consommable existe d\xE9j\xE0 pour le destinataire, sa quantit\xE9 sera augment\xE9 de 1, sinon le consommable sera cr\xE9\xE9.</p>
                <div class="alert alert-secondary">
                  <p>Cette fonction peut-\xEAtre tr\xE8s utile pour que les PJ \xE9changent entre eux un consommable, mais aussi pour faciliter la vente d'objet entre PNJ et PJ.</p>
                  <p>Pour cette derni\xE8re, il vous suffira de pr\xE9parer un personnage avec un token qui contient, dans son \xE9quipement, les consommables \xE0 \xE9changer/vendre.</p>
                </div>
              </div>
              <h3 class="text-info" id="deplacements">2.7 D\xE9placements</h3>
              <h4 class="text-secondary">Retrouver un personnage</h4>
              <div class="decalage">
                <p>Pour centrer la vue d'un joueur sur un token particulier, on peut utiliser <code>!cof-centrer-sur-token</code> suivi du nom du token. G\xE9n\xE9ralement, c'est une bonne id\xE9e pour un joueur d'avoir une macro avec le nom de son token pour le retrouver facilement quand il arrive sur une nouvelle carte.</p>
              </div>
              <h4 class="text-secondary">Personnages immobilis\xE9s</h4>
              <div class="decalage">
                <p>Le script bloque automatiquement personnages immobilis\xE9s (paralys\xE9, \xE9tourdi, etc...). Pour permettre de d\xE9placer ces personnages vous pouvez simplement enlever le blockage (click droit sur le token, propri\xE9t\xE9s avanc\xE9es). Si vous souhaitez \xEAtre le seul \xE0 pouvoir le bouger, s\xE9lectionner le (ou les) token et cliquer sur la macro <code>Bouger</code>. Cela cr\xE9e un token non bloqu\xE9 associ\xE9 au personnage. Bien penser \xE0 supprimer ce token apr\xE8s utilisation.</p>
                <p>Il est possible de mettre le jeu en pause (les joueurs ne peuvent plus bouger leurs tokens) en utilisant la macro &#x23f8;. La macro change alors de nom et devient &#x23f5;, que vous pouvez utiliser pour enlever la pause.</p>
              </div>
              <h4 class="text-secondary" id="escaliers">Escaliers</h4>
              <div class="decalage">
                <p>Pour g\xE9rer les escaliers sur les cartes, vous pouvez utiliser la m\xE9thode suivante, inspir\xE9e du script Teleport : placez dans le layer "GM Info Overlay", au niveau des escaliers, des tokens qui prennent exactement la place des escaliers. Nommez ces escaliers avec un nom, suivi d'une lettre majuscule. Par exemple <code>EscalierA</code>.</p>
                <p>Chaque escalier de la m\xEAme colonne doit avoir le m\xEAme nom, et diff\xE9rer seulement par la lettre finale. Ensuite, si un ensemble de tokens est sur un escalier, utilisez <code>!cof-escalier</code> pour t\xE9l\xE9porter les tokens \xE0 l'emplacement de l'escalier suivant dans l'ordre des lettres. Si vous utilisez l'argument <code>haut</code>, alors les tokens n'iront pas plus loin que le dernier \xE9tage, et avec l'argument <code>bas</code>, il iront dans l'ordre inverse.</p>
                <p>Dans l'exemple pr\xE9c\xE9dent, il serait t\xE9l\xE9port\xE9 \xE0 l'emplacement du token nomm\xE9 <code>EscalierB</code>. Cela ne fonctionne que si les bouts de l'escalier sont sur la m\xEAme carte. \xC0 vous de choisir sir vous pr\xE9f\xE9rez r\xE9v\xE9ler cette fonctionalit\xE9 \xE0 vos joueurs, ou si vous le faites vous-m\xEAme.</p>
                <p>La limite au nombre d'escaliers est de 12 \xE9tages, donc pas de lettre apr\xE8s <code>L</code>.</p>
                <p>Il est possible d'avoir des escaliers qui m\xE8nent \xE0 d'autres cartes (ce qui fait alors changer la carte vue par le joueur). Il suffit que le nom de l'escalier commence par <code>tmap_</code>. Attention, \xE0 cause de limitations de Roll20, cela ne peut fonctionner que si l'image du token est dans une lirary personnelle d'un joueur : si elle vient du marketplace, il fait d'abord la copier dans sa library, puis utiliser l'image qui est dans la library pour le token.</p>
              </div>
              <h4 class="text-secondary" id="montures">Montures</h4>
              <div class="decalage">
                <p>Pour qu'un personnage puisse monter sur une monture, il faut que cette monture soit associ\xE9e \xE0 une fiche de personnage et qu'il poss\xE8de un <a href=#predicats>pr\xE9dicat</a> <code>monture</code>. La commande pour monter sur la monture est <code>!cof-en-selle @{selected|token_id} @{target|token_id}</code>, \xE0 lancer en s\xE9lectionnant le cavalier.</p>
                <p>On peut ensuite bouger la monture, cela d\xE9place le cavalier. Le mieux est de lancer la commander alors que le token du cavalier est sur le token de la monture. Si on d\xE9place le cavalier, cela fait aussi bouger sa monture.</p>
              </div>
              <h4 class="text-secondary" id="suivre">Suivre un autre personnages</h4>
              <div class="decalage">
                Le principe est le suivant : on s\xE9lectionne un token, dans les abilities qui s'affichent en haut de la map, on clique sur <code>Suivre</code>, puis on s\xE9lectionne le token \xE0 suivre. \xC0 partir de ce moment, le script d\xE9place le premier token \xE0 chaque fois qu'on d\xE9place le second (en tenant compte des \xE9tats qui emp\xEAchent le mouvement et des obstacles sur le layer de lumi\xE8re, si ils doivent emp\xEAcher le mouvement). On peut aussi suivre un token qui en suit un autre. Et pour arr\xEAter de suivre un token, il suffit de d\xE9placer manuellement le premier token.

                Ã‡a permet donc d'avoir un familier qui suit un personnage, ou bien de faire automatiquement bouger un groupe de perosnnage dont l'ordre de marche est d\xE9termin\xE9.
              </div>
              <h4 class="text-secondary" id="multi-cartes">D\xE9placer un personnage sur plusieurs cartes</h4>
              <div class="decalage">
                <p>Il est possible de synchroniser des tokens de m\xEAme nom (repr\xE9sentant le m\xEAme personnage) sur plusieurs cartes. Ainsi, d\xE9placer le token sur une carte d\xE9place aussi les token sur les autres cartes. Cela peut servir par exemple si tous les joueurs ne doivent pas voir la m\xEAme chose sur une carte : chaque joueur est alors sur la carte qui lui montre ce qu'il doit voir, et tous les tokens des joueurs sont synchronis\xE9s entre les cartes.</p>
                <p>La commande pour activer la synchonisation d'un (ou plusieurs) tokens s\xE9l\xE9ctionn\xE9s est <code>!cof-multi-cartes</code>. Pour mettre fin \xE0 la synchronisation, on peut s\xE9lectionner ces tokens et faire <code>!cof-multi-cartes false</code>. Enfin, cette m\xEAme commande sans selectionner aucun token met fin \xE0 toutes les synchronisations.</p>
              </div>
              <h3 class="text-info" id="lumiere">2.8 Lumi\xE8re</h3>
              <div class="decalage">
                <p>Pour faire de la lumi\xE8re, on peut utiliser <code>!cof-lumiere <i>token_id portee</i></code>. Cela va faire en sorte que le token fasse de la lumi\xE8re jusqu'\xE0 <i>portee</i> m\xE8tres. Il est possible d'avoir plusieurs sources de lumi\xE8re, et la commande est compatible avec la <a href='#Vision_dans_le_noir'>vision dans le noir</a>. La commande admet un troisi\xE8me argument qui est la distance \xE0 laquelle la lumi\xE8re devient moins brillante, et un quatri\xE8me argument qui est le nom du type de lumi\xE8re (par d\xE9faut, <code>lumiere</code>), utilis\xE9 quand on \xE9teint les lumi\xE8res.</p>
                <p>Pour \xE9teindre des lumi\xE8res, utiliser <code>!cof-eteindre-lumiere</code> en s\xE9lectionnant le ou les tokens d\xE9sir\xE9s. Il est possible de prendre un argument optionnel qui est le nom du groupe de lumi\xE8res que l'on souhaite \xE9teindre. Par exemple, on peut ainsi \xE9teindre toutes les torches et laisser les effets de lumi\xE8re magique actifs.</p>
                <p>Pour les torches, le script propose d'automatiser la gestion en utilisant la commande <code>!cof-torche <i>token_id</i></code>. Si le token tient une torche allum\xE9e, cela \xE9teint la torche (et propose au MJ d'indiquer combien de temps la torche est rest\xE9e allum\xE9e), et sinon, si le token poss\xE8de des torches, cela allume une torche. Le nombre de torche et leur \xE9tat est stock\xE9 dans un attribut <code>torches</code>, dont la valeur courante contient le nombre de torches dans l'inventaire, et la valeur max le temps restant pour la torche en cours d'utilisation (60 minutes pour une torche neuve). Si aucun attribut de ce nom n'existe, le script se contente d'allumer ou d'\xE9teindre une torche, sans g\xE9rer leur nombre.</p>
                <p>Pour les armes qui font de la lumi\xE8re, on peut pr\xE9ciser un pr\xE9dicat <code>eclaire</code> dans le champ de pr\xE9dicats de l'arme. La valeur du pr\xE9dicat doit \xEAtre la distance \xE0 laquelle l'arme \xE9claire. On peut pr\xE9ciser dans un pr\xE9dicat <code>eclaireFaible</code> (toujours dans le champ de l'arme) le d\xE9but de la lumi\xE8re faible, si besoin. Ã‡a peut aussi \xEAtre une fa\xE7on de g\xE9rer les torches.</p>
                <p>Quand les personnages sont dans le brouillard, je mets la carte sans lumi\xE8re, et je s\xE9lectionne les tokens et lance la commande <code>!cof-vision-nocturne 6</code> pour qu'ils voient \xE0 6 m.</p>
              </div>
              <h3 class="text-info" id="jet_caracteristiques">2.9 Jet de caract\xE9ristiques</h3>
              <div class="decalage">
                <p><code>!cof-jet ?{Faire un jet de |Charisme, CHA|Constitution, CON|Dext\xE9rit\xE9, DEX|Force, FOR|Intelligence, INT|Sagesse, SAG}</code> : fait un simple jet pour la caract\xE9risique s\xE9lectionn\xE9e.</p>
                <p>Il est aussi possible de donner en argument une difficult\xE9 au jet. Par exemple en faisant <code>!cof-jet INT ?{difficult\xE9}</code>.</p>
                <p>Si on ne donne aucun argument (en dehors des options), la commande demande de pr\xE9ciser la caract\xE9ristique \xE0 tester. Pour chaque caract\xE9ristique, le script va proposer d'utiliser une des comp\xE9tences d\xE9finies sur la fiche (liste sous les capacit\xE9s). Si il existe un handout nomm\xE9 <code>Comp\xE9tences</code>, celui-ci sera aussi utilis\xE9 pour proposer pour chaque caract\xE9ristique un choix de comp\xE9tences \xE0 tester. Le handout doit contenir dans ses notes des lignes commen\xE7ant par une caract\xE9ristique (FOR, DEX, ...), suivi de <code>:</code>, puis des noms de comp\xE9tences, s\xE9par\xE9s par des blancs, des retours \xE0 la ligne, des virgules ou des <code>/</code>.</p>
                <p>La fonction accepte les arguments suivants:</p>
                <ul>
                  <li><code>--bonus</code> pour sp\xE9cifier un bonus num\xE9rique au jet.</li>
                  <li><code>--attribut</code> pour sp\xE9cifier un attribut dont la valeur doit \xEAtre ajout\xE9e au jet. Il est possible de sp\xE9cifier plusieurs attributs, comme par exemple <code>--attribut perception --attribut vigilance</code> pour un jet de vigilance.</li>
                  <li><code>--predicat</code> pour sp\xE9cifier un pr\xE9dicat dont la valeur doit \xEAtre ajout\xE9e au jet. Il est possible de sp\xE9cifier plusieurs p\xE9dicats.</li>
                  <li><code>--nom</code> pr\xE9cise le nom du jet \xE0 afficher. De plus, cela va aussi faire rechercher une comp\xE9tence de m\xEAme nom (sans tenir compte des majuscules) pour une fiche de PJ et un attribut ou un pr\xE9dicat pour une fiche de PNJ. Par exemple <code>!cof-jet DEX --nom Discr\xE9tion</code> va lancer un jet de DEX, qui sera affich\xE9 comme un jet de Discr\xE9tion, et qui va ajouter au jet le bonus d'une comp\xE9tence discr\xE9tion ou d'un \xE9ventuel pr\xE9dicat <code>discr\xE9tion</code>.</li>
                  <li><code>--secret</code> : le jet n'est visible que par les personnes qui contr\xF4lent le personnage, plus le MJ. Si la personne qui a lanc\xE9 la commande est MJ, il sera le seul \xE0 voir le r\xE9sultat.</li>
                  <li><code>--competences</code> : si la commande n'a pas d\xE9j\xE0 d'option <code>--nom</code>, invite l'utilisateur \xE0 choisir une comp\xE9tence parmis une liste correspondant \xE0 la caract\xE9ristique (incluant celles provenant du handout <code>Comp\xE9tences</code> tel que d\xE9fini plus haut).</li>
                  <li><code>--plageEchecCritique <i>c</i></code> : permet de consid\xE9rer tout jet de d\xE9 inf\xE9rieur ou \xE9gal \xE0 <i>c</i> comme un \xE9chec critique.</li>
                  <li><code>--succes <i>message</i></code> : affiche <i>message</i> en cas de succ\xE8s au jet. N'a pas d'effet si la difficult\xE9 du jet n'est pas d\xE9finie.</li>
                </ul>
                <p>Si le personnage poss\xE8de un attribut num\xE9rique <code>modificateurTests</code>, ce modificateur sera pris en compte pour tous les tests.</p>
                <p>Dans les options de jeu (affich\xE9s en utilisant <code>!cof-options</code>, dans le menu des options d'affichage, il est possible de choisir de ne faire afficher les r\xE9sultats qu'au MJ, qui peut alors en cliquant sur un bouton le montrer aux joueurs (ou pas).</p>
              </div>
              <h3 class="text-info" id="anonymat">2.10 Anonymat et fausses identit\xE9s</h3>
              <div class="decalage">
                <p>La fiche de personnage propose deux noms par personnage : le nom principal (appel\xE9 simplement "nom") et un alias. Le nom principal est celui visible dans la liste des personnages de l'interface Roll20. C'est aussi celui qui est montr\xE9 quand on montre une fiche aux joueurs. La fiche propose de choisir le nom affich\xE9 lors des jets (champ "connu") : soit le nom principal, soit l'alias. Le script part toujours de l'hypoth\xE8se que c'est ce nom qui est connu des joueurs, et que le second est le "vrai" nom. Je laisse le choix au MJ de d\xE9cider lequel est quoi, car les deux m\xE9thodes ont leurs avantages et leurs inconv\xE9nients : si on choisit d'avoir l'alias en nom cach\xE9, on peut montrer la fiche aux joueurs, sans d\xE9voiler le vrai nom. En revanche, dans la liste des personnages, il peut \xEAtre plus difficile de s'y retrouver, car le MJ ne verra pas le vrai nom. Si on choisit d'avoir le vrai nom cach\xE9, tout est bien clair pour le MJ, mais il doit faire attention \xE0 ne pas montrer la fiche aux joueurs.</p>
                <p>Concernant les tokens, le script suppose que vous mettez en "connu" le nom visible par les joueurs.</p>
                <h4 class="text-secondary" id="reveler">R\xE9v\xE9ler le vrai nom d'un personnage</h4>
                <div class="decalage">
                  <p>Pour r\xE9v\xE9ler le vrai nom d'un personnage au joueurs, vous pourrez utiliser <code>!cof-reveler-nom</code>. L'effet s'applique \xE0 tous les personnages s\xE9lectionn\xE9s (voir les m\xE9thodes de s\xE9lection). L'effet est le suivant&nbsp;:</p>
                  <ul>
                    <li>Si le personnage \xE9tait connu par son nom, et que l'alias \xE9tait non vide, alors on copie l'alias \xE0 la place du nom, et on efface l'alias.</li>
                    <li>Si le personnage \xE9tait connu par son alias, alors on le passe en connu par son nom et on efface l'alias.</li>
                    <li>Si on a fait un des deux changements ci-dessus, alors on change aussi les noms des tokens&nbsp;: si on a pass\xE9 un nom en argument \xE0 <code>!cof-reveler-nom</code>, alors on utilise ce nom. Sinon, on utilise le nouveau nom public. Tous les tokens li\xE9s prennent ce nom, et tous les tokens non li\xE9s gardent leur num\xE9ro et changent juste la partie avant le num\xE9ro en ce nom. On n'applique cette transformation qu'aux tokens dont les noms n'ont pas \xE9t\xE9 modifi\xE9s (par rapport au token par d\xE9faut d\xE9fini sur la fiche).</li>
                    <li>Et on change aussi le nom du token par d\xE9faut.</li>
                  </ul>
                </div>
              </div>
              <h3 class="text-info" id="autre">2.11 Autres aspects du jeu</h3>
              <h4 class="text-info" id="annulation">Annuler une action : <code>!cof-undo</code></h4>
              <div class="decalage">
                <p>Fait partie des fonctions que je met en macro dans la barre du MJ, \xE7a peut servir tr\xE8s souvent. Elle est d'ailleurs g\xE9n\xE9r\xE9e par la commande <code>!cof-set-macros</code>.</p>
              </div>
              <h4 class="text-info" id="chance">Chance</h4>
              <div class="decalage">
                <p>Le script essaie de d\xE9tecter les cas o\xF9 un point de chance peut \xEAtre utile, et dans ce cas fournit un bouton (utilisable par les joueurs contr\xF4lant le perosnnage ou le GM), permettant de d\xE9penser un point de chance. Attention, pour l'instant, il n'est pas possible de faire juste un undo de la d\xE9pense de point de chnce. Le undo apr\xE8s la d\xE9pense de point de chance annule toute l'action. Il faut ensuite faire un undo par point de chance d\xE9pens\xE9.</p>
              </div>
              <h4 class="text-info" id="surprise">Surprise : <code>!cof-surprise ?difficulte</code></h4>
              <div class="decalage">
                <p>Fait un test de surprise sur tous les tokens s\xE9lectionn\xE9. Si la difficult\xE9 n'est pas pr\xE9sente, ils sont automatiquement surpris. Les valeurs des comp\xE9tences <code>vigilance</code> et <code>perception</code> sont ajout\xE9s au test de sagesse.</p>
                <p>Si vous souhaitez pr\xE9ciser que la surprise est le fait d'un personnage ou effet non vivant (pour ne pas faire b\xE9n\xE9ficier du bonus de la capacit\xE9 Radar mental), vous pouvez rajouter l'option <code>--nonVivant</code>.</p>
              </div>
              <h4 class="text-info" id="bourse">Gestion de la bourse : <code>!cof-bourse</code></h4>
              <div class="decalage">
                <p>La gestion de la bourse peut se faire sans ouvrir la fiche \xE0 l'aide de la commande <code>!cof-bourse</code>. Si un seul token est s\xE9lectionn\xE9 (quelle que soit la m\xE9thode de s\xE9lection), la commande affiche le montant de la bourse, avec la possibilit\xE9 de modifier directement les nombres de pi\xE8ces ou de d\xE9penser ou gagner un certain nombre de pi\xE8ces.</p>
                <p><code>!cof-bourse depenser <i>n</i></code> permet de faire d\xE9penser de l'argent aux tokens s\xE9lectionn\xE9s. On peut pr\xE9ciser le type de pi\xE8ces (pc, pa, po ou pp) apr\xE8s le montant, par d\xE9faut le script utilise les pi\xE8ces d'argent. De m\xEAme, on peut utiliser <code>!cof-bourse gagner <i>n</i></code> pour ajouter de l'argent.</p>
              </div>
              <h4 class="text-info" id="son">Jouer un son</h4>
              <div class="decalage">
                <p>Les fonctions d'attaque peuvent jouer un son (options commen\xE7ant par <code>--soundAttack</code>). Une partie des actions admet aussi une option <code>--son</code> pour jouer un son. Finalement, il est aussi possible de simplement jouer un son en utilisant <code>!cof-jouer-son <i>son</i></code>. Il est possible d'arr\xEAter tous les sons avec la commande <code>!cof-jouer-son</code>, sans argument.</p>

                <p>Le script est compatible avec <a href="https://wiki.roll20.net/Script:Roll20_Audio_Master">Roll20AM</a>, et si ce script est install\xE9, il fera appel \xE0 lui. Mais si il n'est pas install\xE9 (et seulement dans ce cas !), il va simplement utiliser les sons dans le jukebox.</p>
              </div>
              <h4 class="text-info">Changer la taille d'une page : <code>!cof-agrandir-page</code></h4>
              <div class="decalage">
                <p>
                <code>!cof-agrandir-carte <i>coef</i></code> permet de multiplier par <i>coef</i> les dimensions de tout ce qui se trouve sur la carte et le layer de la lumi\xE8re. Les tokens sont d\xE9plac\xE9s pour se retrouver \xE0 la m\xEAme position relative sur la carte. Je l'utilise pour les cartes que je trouve trop petites pour des groupes de 5-6 joueurs.
                </p>
              </div>
              <h4 class="text-info">Retarder l'affichage de la mort</h4>
              <div class="decalage">
                <p>Pour retarder l'affichage de la mort d'un personnage, ajoutez \xE0 ce personnage un <a href=#predicats>pr\xE9dicat</a> <code>mortDemandeConfirmation</code>. Ainsi, si le personnage meurt \xE0 la suite d'une attaque, les PVs finaux ne seront pas enlev\xE9s, et la croix rouge indiquant la mort ne sera pas dessin\xE9e. \xC0 la place, le MJ verra au bout de 2 secondes un bouton lui-demandant de confirmer la mort (par exemple le temps de d\xE9crire comment la mort advient).</p>
              </div>
            <h2 class="text-primary" id="CapacitesClasse">3. Capacit\xE9s par Classe</h2>
            <div class="decalage">
              <h3 class="text-info" id="Arquebusier">Arquebusier</h3>
              <div class="decalage">
                <h4 class="text-secondary">Voie de l'artilleur</h4>
                <ol>
                  <li><strong>M\xE9canismes</strong> : ajouter les bonus sur la fiche</li>
                  <li><strong>Tir de semonce</strong> : utiliser le modificateur <code>semonce</code> aux attaques. On laisse le MJ v\xE9rifier si la derni\xE8re attaque du personnage \xE9tait bien un \xE9chec (devrait \xEAtre facile \xE0 voir dans le chat). Le plus pratique pour l'utilisation avec differentes armes, est de cr\xE9er une action <code>Tir de barrage</code> dans les <a href="#actions_du_tour">actions du tour</a>, avec comme code <code>#Attaque -1 --semonce</code>.
                    <li><strong>Tir de barrage</strong> : Utiliser l'option <code>--tirDeBarrage</code>. Ã‡a multiplie les d\xE9g\xE2ts par 2, ignore la charge, et laisse un message demandant le undo si la cible d\xE9cide de ne pas bouger.</li>
                    <li><strong>Couleuvrine</strong> : ajouter une attaque \xE0 distance, avec dans les modificateurs, <code>poudre, limiteParCombat</code> (ou en ligne de commande, avec l'option <code>--limiteParCombat</code>)</li>
                    <li><strong>Feu nourri</strong> : faire les attaques comme pour le tirde barrage. Le script ne va pas v\xE9rifier que les cibles ne sont pas trop loin les unes des autres.</li>
                </ol>
                <h4 class="text-secondary">Voie des explosifs</h4>
                <ol>
                  <li><strong>Chimiste</strong> : ajoutez un <a href=#predicats>pr\xE9dicat</a> <code>chimiste</code>, ainsi que les comp\xE9tences de chimie et alchimie sur la fiche. Si vous utilisez la capacit\xE9 alternative <strong>Grenaille</strong>, vous pouvez soit g\xE9rer les charges de grenaille avec <code>!cof-recharger <i>L</i> --grenaille</code>, soit (si vous ne voulez pas faire g\xE9rer les charges) utiliser l'option <code>--grenaille</code>. Si vous utilisez la m\xEAme attaque pour plusieurs armes et que seule une partie est charg\xE9e de grenaille, il faudra aussi utiliser cette option pour utiliser l'arme charg\xE9e de grenaille.</li>
                  <li><strong>D\xE9molition</strong> : pas de support particulier</li>
                  <li><strong>Poudre puissante</strong> : ajuster les attaques</li>
                  <li><strong>Pi\xE8ge explosif</strong> : </li>
                  <li><strong>Boulet explosif</strong> : ajouter une attaque de type Arme de jet, d\xE9g\xE2ts 5d6 de type contondant (ou feu ?), port\xE9e 20, modificateurs <code>auto</code>, options <code>--disque 5 --psave DEX [[12+@{selected|DEX}]]</code></li>
                </ol>
                <h4 class="text-secondary">Voie du champ de bataille</h4>
                <ol>
                  <li><strong>Action concert\xE9e</strong> : utiliser <code>!cof-echange-init @{selected|token_id} @{target|token_id} <i>n</i></code> o\xF9 <i>n</i> peut valoir 0, 1 ou 2 selon le rang dans la voie.</li>
                  <li><strong>\xC0 couvert</strong> : <code>!cof-a-couvert @{selected|token_id} @{target|token_id}</code> le target est l'alli\xE9 qui se d\xE9place avec l'arquebusier. Se s\xE9lectionner soi-m\xEAme si pas d'alli\xE9.</li>
                  <li><strong>Combattant aguerri</strong> : se reporter \xE0 la capacit\xE9 choisie</li>
                  <li><strong>Combat de masse</strong> : pas de support particulier, effectuer les actions suppl\xE9mentaires en fonction des situations.</li>
                  <li><strong>Constitution h\xE9ro\xEFque</strong> : reporter le bonus sur la fiche</li>
                </ol>
                <h4 class="text-secondary">Voie du Pistolero</h4>
                <ol>
                  <li>
                    <strong>Plus vite que son ombre</strong> : ajouter un pr\xE9dicat <code>plusViteQueSonOmbre</code>. On peut associer un nombre \xE0 ce pr\xE9dicat pour modifier le bonus \xE0 l'initiative, ou bien lui donner la valeur <code>arbalete</code> pour activer le bonus sur les arbal\xE8tes au lieu des armes \xE0 poudre.
                  </li>
                  <li><strong>Cadence de tir</strong> : pas de support</li>
                  <li><strong>Tir double</strong> : utiliser l'option <code>--tirDouble</code> si deux tirs sur une m\xEAme cible. Si les deux armes sont diff\xE9rentes, rajouter le label de la deuxi\xE8me arme apr\xE8s l'option (si le label est <i>l2</i>, cela donne <code>--tirDouble <i>l2</i></code>).</li>
                  <li><strong>As de la g\xE2chette</strong> : utiliser l'option <code>--asDeLaGachette</code> pour les attaques avec des armes \xE0 poudre ou des arbal\xE8tes.</li>
                  <li><strong>Dext\xE9rit\xE9 h\xE9ro\xEFque</strong> : reporter le bonus sur la fiche</li>
                </ol>
                <h4 class="text-secondary">Voie de la pr\xE9cision</h4>
                <ol>
                  <li><strong>Joli coup !</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>joliCoup</code> sur la fiche.</li>
                  <li><strong>Tir pr\xE9cis</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>tirPrecis</code>, valeur 1 ou 2 (le bonus apport\xE9 par la capacit\xE9)</li>
                  <li><strong>D\xE9faut dans la cuirasse</strong> : utiliser <code>!cof-defaut-dans-la-cuirasse @{selected|token_id} @{target|token_id}</code></li>
                  <li><strong>Tir parabolique</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>tirParabolique</code>. Surtout ne pas changer la port\xE9e des armes, pour que le script g\xE8re correctement les distances entre port\xE9ex2 et port\xE9ex3.</li>
                  <li><strong>Tir mortel</strong> : Ajouter <code>?{Tir mortel ?|Oui, --avecd12crit --plus 2d6|Non,}</code> aux attaques \xE0 distance du personnage</li>
                </ol>
              </div>
              <h3 class="text-info" id="Barbare">Barbare</h3>
              <div class="decalage">
                <h4 class="text-secondary">Voie de la brute</h4>
                <ol>
                  <li><strong>Argument de taille</strong> : ajouter le bonus de PV sur la fiche. Ajouter un <a href=#predicats>pr\xE9dicat</a> <code>argumentDeTaille</code>. Le script devrait automatiquement tenir compte de cette capacit\xE9 pour les tests de n\xE9gociation, persuasion et intimidation. Pour s'assurer que la bonne comp\xE9tence est utilis\xE9e, vous pouvez ajouter ces noms au handout de comp\xE9tence (voir la partie sur les <a class="text-info" href="#jet_caracteristiques">jet de caract\xE9ristiques</a>, le handout <code>Comp\xE9tences</code>) ou sur les fiches de personnages.</li>
                  <li><strong>Tour de force</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>tourDeForce</code>. Le script ajoutera syst\xE9matique un bouton lors de tous les tests de FOR du personnage. Au MJ de d\xE9cider s'il peut \xEAtre utilis\xE9 ou non.</li>
                  <li><strong>Attaque brutale</strong> : faire l'attaque avec les options <code>--bonusAttaque -2 --plus 1d6</code></li>
                  <li><strong>Briseur d'os</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>briseurDOs</code>. Cela va automatiquement affecter les chances de coups critique au contact.</li>
                  <li><strong>Force h\xE9ro\xEFque</strong> : reporter sur la fiche.</li>
                </ol>
                <h4 class="text-secondary">Voie du pagne</h4>
                <ol>
                  <li><strong>Vigueur</strong> : ajouter les comp\xE9tences avec leurs bonus sur la fiche</li>
                  <li><strong>Peau de pierre</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>peauDePierre</code>. La nouvelle DEF sera calcul\xE9e automatiquement.</li>
                  <li><strong>Tatouages</strong> : ajouter le bonus choisi sur la fiche</li>
                  <li><strong>Peau d'acier</strong> : ajouter dans la partie RD de la fiche, <code>3/1</code></li>
                  <li><strong>Constitution h\xE9ro\xEFque</strong> : reporter les bonus sur la fiche</li>
                </ol>
                <h4 class="text-secondary">Voie du pourfendeur</h4>
                <ol>
                  <li><strong>R\xE9flexes f\xE9lins</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>reflexesFelins</code>, avec comme valeur le bonus aux saves et \xE0 l'initiative.</li>
                  <li><strong>Charge</strong> : faire une attaque avec les options <code>--bonusAttaque 2</code> <code>--plus 1d6</code>. Pour g\xE9rer plusieurs armes, vous pouvez utiliser la commande <code>#Attaque -1</code>.</li>
                  <li><strong>Encha\xEEnement</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>enchainement</code>.</li>
                  <li><strong>D\xE9cha\xEEnement d'acier</strong> : <code>!cof-attack-line @{selected|token_id} --distanceMax 10</code>. L'attaque va \xEAtre faite avec l'arme en main, mais on peut sp\xE9cifier un label d'attaque (avant les options) et toutes les options support\xE9es par <code>!cof-attack</code>.</li>
                  <li><strong>Attaque tourbillon</strong> : Faite une action avec le code <code>!cof-explosion -1 --auto --disque 5 --saufAllies --limiteParCombat 1 tourbillon</code>.</li>
                </ol>
                <h4 class="text-secondary">Voie du primitif</h4>
                <ol>
                  <li><strong>Proche de la nature</strong> : ajouter le rang \xE0 une comp\xE9tence <code>perception</code></li>
                  <li><strong>Armure de vent</strong> : Ajouter un <a href=#predicats>pr\xE9dicat</a> <code>armureDeVent</code> avec comme valeur le rang dans la voie du primitif. Cela augmente la DEF, mais seulement lorsque le barbare ne porte pas d'armure (ne se voit pas sur le total de DEF de la fiche)</li>
                  <li><strong>Vigilance</strong> : ajouter 5 \xE0 une comp\xE9tence <code>vigilance</code> et ajouter un <a href=#predicats>pr\xE9dicat</a> <code>immuniteAuxSournoises</code></li>
                  <li><strong>R\xE9sistance \xE0 la magie</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>resistanceALaMagieBarbare</code>.</li>
                  <li><strong>Vitalit\xE9 d\xE9bordante</strong> : faire une ability de type token action, avec le code <code>!cof-soin ?{Nombre d'heures \xE9coul\xE9es}d6</code> --message gu\xE9rit \xE0 une vitesse surnaturelle</li>
                </ol>
                <h4 class="text-secondary">Voie de la rage</h4>
                <ol>
                  <li><strong>Cri de guerre</strong> : <code>!cof-effet-combat criDeGuerre</code></li>
                  <li><strong>D\xE9fier la mort</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>defierLaMort</code>.</li>
                  <li><strong>Rage du berserk</strong> : utiliser <code>!cof-rage-du-berserk</code>, \xE0 la fois pour entrer en rage et pour tenter d'en sortir avant la fin du combat.</li>
                  <li><strong>M\xEAme pas mal</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>memePasMal</code>. Le joueur doit lui-m\xEAme activer la rage ou le furie si il souhaite en profiter.</li>
                  <li><strong>Furie du berserk</strong> : utiliser <code>!cof-rage-du-berserk --furie</code> pour entrer en rage et pour tenter d'en sortir avant la fin du combat. Pour sortir de la rage, l'option <code>--furie</code> peut \xEAtre omise.</li>
                </ol>
                <i>Note: en option, il est possible de diviser par 2 la p\xE9nalit\xE9 de d\xE9fense inflig\xE9e par la Rage ou la Furie en ajoutant un <a href=#predicats>pr\xE9dicat</a> <code>rageDuBerserkAmelioree</code> au personnage (par exemple pour la ceinture d'Anathazer\xEFn p. 341)</i>
              </div>
              <h3 class="text-info" id="Barde">Barde</h3>
              <div class="decalage">
                <h4 class="text-secondary">Voie de l'escrime</h4>
                <ol>
                  <li><strong>Pr\xE9cision</strong> : simplement utiliser le bon score sur la fiche.</li>
                  <li><strong>Intelligence du combat</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>intelligenceDuCombat</code>.</li>
                  <li><strong>Feinte</strong> : faire une attaque avec l'option <code>--feinte</code> pour profiter des effets de feinte au tour suivant. Par d\xE9faut, le bonus \xE0 l'attaque suivante est de +5 (r\xE8gles de base), mais vous pouvez sp\xE9cifier un bonus diff\xE9rent (par exemple 10 pour les r\xE8gles de la bo\xEEte d'initiation) avec un <a href=#predicats>pr\xE9dicat</a> <code>bonusFeinte</code> (la valeur du pr\xE9dicat remplace le bonus de +5 par d\xE9faut). Il est aussi possible de changer le nombre de d\xE9s de d\xE9g\xE2t bonus en utilisant un pr\xE9dicat<code>nbDesFeinte</code>.</li>
                  <li><strong>Attaque flamboyante</strong> : faire une attaque avec le modificateur <code>attaqueFlamboyante</code>. Le plus pratique pour l'utilisation avec diff\xE9rentes armes, est d'ajouter \xE0 la liste des <a href="#actions_du_tour">actions du tour</a> une action de titre <code>Attaque flamboyante</code> et de code <code>#Attaque -1 --attaqueFlamboyante</code>. Attention, afin de garder un int\xE9r\xEAt \xE0 la feinte quand on dispose de cette attaque, j'ai choisi de rajouter encore le mod. de charisme aux DM en cas d'attaque flamboyante suivant une feinte r\xE9ussie. Si cela ne vous convient pas, vous pouvez \xE0 la place de cette option ajouter <code>--bonusAttaque [[@{selected|CHA}]] --plus [[@{selected|CHA}]]</code>.</li>
                  <li><strong>Botte mortelle</strong> : ajoutez un <a href=#predicats>pr\xE9dicat</a> <code>botteMortelle</code>.</li>
                </ol>
                <h4 class="text-secondary">Voie du musicien</h4>
                <ol>
                  <li><strong>Chant des h\xE9ros</strong> : <code>!cof-effet-temp chantDesHeros [[5+@{selected|CHA}]] --allies</code>. Il faut avoir d\xE9fini une <a href="#allie">\xE9quipe</a> avec le barde.</li>
                  <li><strong>Attaque sonore</strong> :
                    <ul>
                      <li>Sort : Ajouter une attaque sur la fiche utilisant l'attaque magique, DM 1d6+CHA, de port\xE9e 10, type Sortil\xE8ge, d\xE9g\xE2ts soniques, options <code>--mana 0 --cone --fx breath-smoke</code>.</li>
                      <li>Objet de sort : <code>#Attaque Attaque sonore --toucher [[@{selected|ATKMAG}]] --dm 1d6+[[@{selected|CHA}]] --portee 10 --sortilege --sonique --cone --fx breath-smoke</code></li>
                    </ul>
                  </li>
                  <li><strong>Zone de silence</strong> : <code>!cof-effet-temp zoneDeSilence [[1d6+@{selected|CHA}]] --lanceur @{selected|token_id} --portee 35 --disque @{target|token_id} 3 --mana 1</code>. Le script ne g\xE8re pas le moment o\xF9 les cibles sortent de la zone. Si cela arrive, le MJ doit enlever \xE0 la main l'attribut <code>zoneDeSilence</code> cr\xE9\xE9 par le script pour le personnage concern\xE9.</li>
                  <li><strong>Danse irr\xE9sisitible</strong> :
                    <ul>
                      <li>Sort : Ajouter une attaque sur la fiche utilisant l'attaque magique, port\xE9e 20, type Sortil\xE8ge, modificateur <code>pasDeDmg</code>, options <code>--mana 2 --effet danseIrresistible [[1d4+@{selected|CHA]]</code>.</li>
                      <li>Objet de sort : <code>#Attaque Danse irr\xE9sisitible --toucher [[@{selected|ATKMAG}]] --pasDeDmg --portee 20 --sortilege --effet danseIrresistible [[1d4+@{selected|CHA]]</code></li>
                    </ul>
                  </li>
                  <li><strong>Musique fascinante</strong> : <code>!cof-lancer-sort joue une musique fascinante qui contr\xF4le toutes les cr\xE9atures de son choix de moins de [[5+@{selected|CHA}]] PV --mana 3</code></li>
                </ol>
                <h4 class="text-secondary">Voie du saltimbanque</h4>
                <ol>
                  <li><strong>Acrobate</strong> : ajouter les comp\xE9tences sur la fiche</li>
                  <li><strong>Gr\xE2ce f\xE9line</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>graceFeline</code>. Cela va affecter l'initiative et la DEF, mais sans se voir sur la fiche.</li>
                  <li><strong>Lanceur de couteau</strong> : faire normalement l'attaque.</li>
                  <li><strong>Esquive acrobatique</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>esquiveAcrobatique</code>.</li>
                  <li><strong>Libert\xE9 d'action</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>liberteDAction</code>.</li>
                </ol>
                <h4 class="text-secondary">Voie de la s\xE9duction</h4>
                <ol>
                  <li><strong>Charmant</strong> : ajouter les comp\xE9tences sur la fiche</li>
                  <li><strong>Dentelles et rapi\xE8re</strong> : Ajouter un <a href=#predicats>pr\xE9dicat</a> <code>dentellesEtRapiere</code> avec comme valeur le rang dans la voie de la s\xE9duction. Cela augmente la DEF, mais seulement lorsque le barde ne porte pas d'armure et seulement contre les attaques au contact. (ne se voit pas sur le total de DEF de la fiche)</li>
                  <li><strong>Arme secr\xE8te</strong> : <code>!cof-arme-secrete @{selected|token_id} @{target|token_id}</code></li>
                  <li><strong>Suggestion</strong> :
                    <ul>
                      <li>Sort : Ajouter une attaque sur la fiche utilisant l'attaque magique, port\xE9e 20, type Sortil\xE8ge, modificateurs <code>pasDeDmg</code>, options <code>--mana 2 --difficultePVmax --attaqueMentale --if touche --message la cible doit faire l'action sugg\xE9r\xE9e --endif</code>.</li>
                      <li>Objet de sort : <code>#Attaque Suggestion --toucher [[@{selected|ATKMAG}]] --portee 20 --pasDeDmg --difficultePVmax --sortilege --attaqueMentale --if touche --message la cible doit faire l'action sugg\xE9r\xE9e --endif</code></li>
                    </ul>
                  </li>
                  <li><strong>Charisme h\xE9ro\xEFque</strong> : Reporter le bonus sur la fiche.</li>
                </ol>
                <h4 class="text-secondary">Voie du vagabond</h4>
                <ol>
                  <li><strong>Rumeurs et l\xE9gendes</strong> : ajouter les comp\xE9tences sur la fiche</li>
                  <li><strong>Compr\xE9hension des langues</strong> : <code>!cof-lancer-sort lance un sort de compr\xE9hension des langues. --messageMJ la compr\xE9hension des langues va durer [[1d6+@{selected|CHA}]] minutes --mana 0</code></li>
                  <li><strong>D\xE9brouillard</strong> : pas de support particulier. Ajouter le bonus aux comp\xE9tences que vous souhaitez noter.</li>
                  <li><strong>D\xE9guisement</strong> :<code>!cof-lancer-sort lance un sort de d\xE9guisement --mana 2</code></li>
                  <li><strong>Touche \xE0 tout</strong> : se reporter aux capacit\xE9s choisies</li>
                </ol>
              </div>
              <h3 class="text-info" id="Chevalier">Chevalier</h3>
              <div class="decalage">
                <h4 class="text-secondary">Voie du cavalier</h4>
                <ol>
                  <li><strong>Fid\xE8le monture</strong> : Faire un personnage pour la monture, avec un <a href=#predicats>pr\xE9dicat</a> <code>monture</code>. Pour monter sur la monture, on peut utiliser une ability de type token action, avec <code>!cof-en-selle @{selected|token_id} <i>nom_de_la_monture</i></code>. Pour en descendre, il suffit de cliquer \xE0 nouveau sur le bouton de l'ability. Si vous souhaitez \xE9viter que la monture apparaisse dans le turn tracker, vous pouvez ajouter un <a href=#predicats>pr\xE9dicat</a> <code>aucuneActionCombat</code> \xE0 la monture. </li>
                  <li><strong>Cavalier \xE9m\xE9rite</strong> : Ajouter au chevalier un <a href=#predicats>pr\xE9dicat</a> <code>cavalierEmerite:2</code>. Pour la d\xE9fense de la monture, ajouter \xE0 cellle-ci un pr\xE9dicat <code>defDeriveeDe</code> de valeur le nom du chevalier (exactement tel qu'il appara\xEEt sur la fiche, il est possible que cela demande d'utiliser la syntaxe avec <code>::</code>).</li>
                  <li><strong>Monture magique</strong> : pour les soins automatiques de la nuit, ajouter un <a href=#predicats>pr\xE9dicat</a> <code>montureMagique</code>.</li>
                  <li>
                    <strong>Charge</strong> : pas de support pour le d\xE9placement, mais
                    <ul>
                      <li>Pour l'attaque : utiliser <code>--m2d20 --plus 1d6</code></li>
                      <li>Pour les cr\xE9atures sur la trajectoire, utiliser <code>!cof-jet FOR 18</code>, et en cas de succ\xE8s, infliger les DM.</li>
                    </ul>
                  </li>
                  <li><strong>Monture fantastique</strong> : Faire un personnage pour la monture, avec un <a href=#predicats>pr\xE9dicat</a> <code>monture</code>.</li>
                </ol>
                <h4 class="text-secondary">Voie de la guerre</h4>
                <ol>
                  <li><strong>Armure sur mesure</strong> : simplement reporter sur la fiche le bon malus d'armure</li>
                  <li> <strong>Encaisser un coup</strong> :
                    <ul>
                      <li>utiliser <code>!cof-effet-temp encaisserUnCoup 1</code> pour se mettre en position</li>
                      <li>Le script proposera un bouton \xE0 activer en cas d'attaque r\xE9ussie alors que le chevalier est en position.</li>
                    </ul>
                  </li>
                  <li><strong>Coup de bouclier</strong> : faire une attaque de bouclier, de type <code>Arme gauche</code>, avec le modificateur <code>avecd12crit</code>. Pour que cette attaque soit propos\xE9e dans les listes d'action seulement quand le personnage porte son bouclier, ajouter un pr\xE9dicat <code>attaqueAuBouclier</code> de valeur le label de l'attaque.</li>
                  <li><strong>Frappe lourde</strong> : faire l'attaque avec les options <code>--avecd12crit --plus 2d6 --ignoreMoitieRD --seulementContact</code></li>
                  <li><strong>Force h\xE9ro\xEFque</strong> : reporter les bonus sur la fiche</li>
                </ol>
                <h4 class="text-secondary">Voie du h\xE9ro</h4>
                <ol>
                  <li><strong>Ignorer la douleur</strong> : Ajouter un <a href=#predicats>pr\xE9dicat</a> <code>ignorerLaDouleur</code>. Normalement, le script affiche un bouton quand cela est utilisable, mais on peut aussi le d\xE9clencher avec <code>!cof-ignorer-la-douleur</code> juste apr\xE8s le coup.</li>
                  <li><strong>Piqures d'insectes</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>piquresDInsectes</code>, avec comme valeur le rang dans la voie.</li>
                  <li><strong>Laissez-le-moi !</strong> : Ajouter un <a href=#predicats>pr\xE9dicat</a> <code>laissezLeMoi</code>. Le bonus sera accord\xE9 contre tous les tokens ayant le statut de <code>chef</code> (donn\xE9s avec <code>!cof-set-state chef true</code>, ou alors simplement en activant le marker <img style="display:inline-block" width="12rem" src="cof-marker-set/cof-chef.png"> sur le token).</li>
                  <li><strong>Seul contre tous</strong> : Utiliser <code>!cof-effet-temp seulContreTous 1</code> pour se mettre en position. Les actions affich\xE9es en cas de riposte seront normalement une attaque avec l'arme en main si il y en a, plus les attaques naturelles coch\xE9es sur la liste d'attaque. Si \xE7a ne convient pas, vous pouvez \xE9crire une liste d'actions nomm\xE9e<code>Ripostes</code> (voir les <a href="#actions_du_tour">actions du tour</a>).</li>
                  <li><strong>Charisme h\xE9ro\xEFque</strong> : reporter sur la fiche.</li>
                </ol>
                <h4 class="text-secondary">Voie du meneur d'hommes</h4>
                <ol>
                  <li><strong>Sans peur</strong> : Ajouter un pr\xE9dicat <code>sansPeur</code>, utilis\xE9 quand on essaiera de faire peur \xE0 un <a href="#allie">alli\xE9</a>.</li>
                  <li><strong>Intercepter</strong> : Ajouter un <a href=#predicats>pr\xE9dicat</a> <code>intercepter</code>, et un autre <code>voieDuMeneurDHomme</code> de valeur le rang dans la voie, s'il est diff\xE9rent de 2.</li>
                  <li><strong>Exemplaire</strong> : <code>!cof-exemplaire</code>, juste apr\xE8s l'attaque rat\xE9e.</li>
                  <li><strong>Ordre de bataille</strong> : pas de support</li>
                  <li><strong>Charge fantastique</strong> : <code>!cof-charge-fantastique @{selected|token_id} --alliesEnVue --self --limiteParCombat 1</code></li>
                </ol>
                <h4 class="text-secondary">Voie de la noblesse</h4>
                <ol>
                  <li><strong>\xC9duqu\xE9</strong> : pas de support particulier, juste reporter les bonus sur la fiche.</li>
                  <li><strong>Autorit\xE9 naturelle</strong> : simplement reporter sur la fiche les bonus d'init et de DEF, et ajouter la capacit\xE9 intimider.</li>
                  <li><strong>\xC9cuyer</strong> : 
                    <ul>
                      <li> Pour le bonus au critique, ajouter un <a href=#predicats>pr\xE9dicat</a> <code>ecuyer</code>. </li>
                      <li> Pour les soins de nuit, ajouter \xE0 l'\xE9cuyer un <a href=#predicats>pr\xE9dicat</a> <code>ecuyerDe</code>, avec comme valeur le nom du chevalier (attention \xE0 utiliser la syntaxe avec <code>::</code> si ce nom contient des espaces). L'\xE9cuyer pourra soigner chaque nuit le chevalier et certains alli\xE9s, mais pour qu'il soigne les alli\xE9s, il ne faut pas oublier de le mettre dans la <a href="#methode_selection_groupes">liste de l'\xE9quipe</a> du chevalier.</li>
                      <li>Si on souhaite que l'\xE9cuyer puisse soigner gratuitement la monture, il faut aussi que celle-ci ait un <a href=#predicats>pr\xE9dicat</a> <code>montureDe</code>, avec comme valeur le nom du chevalier.</li>
                    </ul>
                  </li>
                </ol>
              </div>
              <h3 class="text-info" id="Druide">Druide</h3>
              <div class="decalage">
                <h4 class="text-secondary">Voie des animaux</h4>
                <ol>
                  <li><strong>Langage des animaux</strong> : pas de support particulier</li>
                  <li><strong>Nu\xE9e d'insectes</strong> : Pas de support particulier pour les DM de zone qui d\xE9truisent la nu\xE9e (enlever l'attribut <code>nueeDInsecte</code> sur la cible dans ce cas).
                    <ul>
                      <li>Sort : Ajouter une attaque sur la fiche utilisant l'attaque magique, port\xE9e 20, type Sortil\xE8ge, modificateur <code>pasDeDmg</code>, options <code>--mana 0 --effet nueeDInsectes [[5+@{selected|SAG}]]</code>.</li>
                      <li>Objet de sort : <code>#Attaque Nu\xE9e d'insectes --toucher [[@{selected|ATKMAG}]] --pasDeDmg --portee 20 --sortilege --effet nueeDInsectes [[5+@{selected|SAG}]]</code></li>
                    </ul>
                  </li>
                  <li><strong>Le guetteur</strong> : Si elle n'est pas d\xE9j\xE0 pr\xE9sente dans votre handout de comp\xE9tences, ajouter au druide une comp\xE9tence <code>perception</code> (valeur 0 pour le moment). Cr\xE9er un personnage et un token pour l'oiseau. Ajouter au druide un <a href=#predicats>pr\xE9dicat</a> <code>guetteur</code> de valeur le nom exact de l'oiseau (sur la fiche, attention \xE0 utiliser la symtaxe avec <code>::</code> si le nom comporte des espaces). Ajouter de m\xEAme un <a href=#predicats>pr\xE9dicat</a> <code>PVPartagesAvec</code> de valeur le nom de l'oiseau. Ajouter aussi \xE0 l'oiseau un <a href=#predicats>pr\xE9dicat</a> <code>PVPartagesAvec</code> de valeur le nom du druide. Pour le faire agir en m\xEAme temps que le druide, ajoutez aussi \xE0 l'oiseau un pr\xE9dicat <code>initiativeDeriveeDe</code> de valeur le nom du druide. Pour l'attaque, ajouter sur la fiche une attaque de contact faisant 1d4 DM, avec dans les options <code>--attaqueMagiqueDe <i>nom de personnage du druide</i></code>. Si vous souhaitez que le guetteur rentre en combat en m\xEAme temps que le druide, ajoutez au druide un pr\xE9dicat nomm\xE9 <code>entrerEnCombatAvec</code>, de valeur le nom du token de l'oiseau.</li>
                  <li><strong>Masque du pr\xE9dateur</strong> : <code>!cof-effet-temp masqueDuPredateur [[5+@{selected|SAG}]] --mana 2</code></li>
                  <li><strong>Forme animale</strong> : pas d'autre support que <code>!cof-lancer-sort se transforme en ?{Transformation en ?} --mana 3</code></li>
                </ol>
                <h4 class="text-secondary">Voie du fauve</h4>
                <ol>
                  <li><strong>Vitesse du f\xE9lin</strong> : ajouter un pr\xE9dicat <code>vitesseDuFelin</code>, de valeur le rang dans la voie. Pensez \xE0 ajouter des comp\xE9tences de saut, escalade et course sur la fiche (sans les bonus !) s'ils ne sont pas d\xE9j\xE0 pr\xE9sent dans votre handout de comp\xE9tences.</li>
                  <li><strong>Panth\xE8re</strong> : ajouter un personnage pour la panth\xE8re, qui sera contr\xF4l\xE9 par le joueur. Si vous souhaitez que la panth\xE8re rentre en combat \xE0 chaque fois que le druide entre en combat, ajoutez au druide un <a href=#predicats>pr\xE9dicat</a> nomm\xE9 <code>entrerEnCombatAvec</code>, de valeur le nom du token de la panth\xE8re (il peut y avoir plusieurs pr\xE9dicats avec ce nom).</li>
                  <li><strong>Attaque bondissante</strong> : faire l'attaque avec les options <code>--bonusAttaque 5</code> <code>--plus 1d6</code>. Les conditions d'utilisation sont \xE0 v\xE9rifier par le MJ.</li>
                  <li><strong>Grand f\xE9lin</strong> : ajuster la fiche de la panth\xE8re, et pour le soin, utiliser <code>!cof-soin @{selected|token_id} nom_familier ?{Montant des soins} --transfer</code>.</li>
                  <li><strong>Les sept vies du chat</strong> : pas de support particulier, la commande Undo peut \xEAtre utilis\xE9e pour annuler l'action qui a men\xE9 le Druide \xE0 0 PV.</code></li>
                </ol>
                <h4 class="text-secondary">Voie de la nature</h4>
                <ol>
                  <li><strong>Ma\xEEtre de la survie</strong> : Ajouter +2 par rang \xE0 une comp\xE9tence <code>vigilance</code></li>
                  <li><strong>Marche sylvestre</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>marcheSylvestre</code>. Pour indiquer un terrain difficile, on peut utiliser les objets graphiques sur le layer des cartes (map en anglais). Pour cela, \xE9diter l'objet, et ajouter dans les notes pour MJ une ligne <code>terrainDifficile</code>. Tout le dessin est consid\xE9r\xE9 comme un terrain difficile. On peut restreindre la partie consid\xE9r\xE9e comme difficile \xE0 un disque en \xE9crivant <code>terrainDifficile: disque <i>n</i></code> o\xF9 <i>n</i> est le diam\xE8tre du disque en pixels. \xC0 noter que la zone d'une prison v\xE9g\xE9tale est consid\xE9r\xE9e difficile par le script. Le druide est consid\xE9r\xE9 en terrain difficile si vous le mettez dans l'\xE9tat <code>conditionsHostiles</code> (pour des valeurs inf\xE9rieures \xE0 5). Alternativement, si vous n'avez pas ajout\xE9 le type de terrain vous pouvez taper <code>!cof-effet marcheSylvestre oui</code> quand le druide entre dans un terrain que vous consid\xE9rez difficile. Dans ce cas, faire <code>!cof-effet marcheSylvestre non</code> quand il sort de cette zone.</li>
                  <li><strong>R\xE9sistant</strong> : ajouter dans la RD sur la fiche, <code>nature:<i>v</i></code>, avec comme valeur <i>v</i> la RD (donc deux fois le rang dans la voie). Cette RD s'applique \xE0 toute attaque ou dommages avec l'option <code>--nature</code> ou <code>--naturel</code>. Il s'applique aussi \xE0 toute attaque venant d'un personnage avec un <a href=#predicats>pr\xE9dicat</a> <code>animal</code>, ou <code>insecte</code> ou bien avec un profil animal ou insecte, ou avec une race reconnue comme \xE9tant un animal ou un insecte. Dans ce cas, si on souhaite qu'une attaque d'une telle cr\xE9ature ne soit pas consid\xE9r\xE9e comme naturelle, on peut utiliser l'option <code>--artificiel</code> \xE0 l'attaque.</li>
                  <li><strong>B\xE2ton de druide</strong> : Simplement cr\xE9er l'attaque correspondante et permettre les deux attaques en action limit\xE9e.</li>
                  <li><strong>Constitution h\xE9ro\xEFque</strong> : reporter sur la fiche</li>
                </ol>
                <h4 class="text-secondary">Voie du protecteur</h4>
                <ol>
                  <li><strong>Baies magiques</strong> : Pour simplement cr\xE9er les baies, on peut utiliser <code>!cof-creer-baies</code>, avec \xE9ventuellement des arguments pour la d\xE9pense de mana. Si le sort ne demande pas de d\xE9pense et que le temps pass\xE9 n'est pas important, il peut \xEAtre plus simple de directement utiliser <code>!cof-distribuer-baies</code> avec option <code>--allies --self</code> ou <code>--target</code> pour cr\xE9er et donner des baies (en ayant s\xE9lectionn\xE9 le druide, le mieux est d'utiliser une ability). Pour consommer ensuite une baie, il faut utiliser <code>!cof-consommables</code>.</li>
                  <li><strong>For\xEAt vivante</strong> : on peut mettre un effet (avec <code>!cof-effet</code>) <code>foretVivanteEnnemie</code> aux personnages affect\xE9s. Par exemple, si on veut donner l'effet aux personnages non alli\xE9s du druide, on peut faire <code>!cof-effet foretVivanteEnnemie oui --disque @{selected|token_id} 2000 --saufAllies --mana 0</code>. Attention, l'effet ne dispara\xEEt que si on fait un <code>!cof-effet foretVivanteEnnemie non</code> sur les personnages.</li>
                  <li><strong>R\xE9g\xE9n\xE9ration</strong> : <code>!cof-effet-temp regeneration [[@{selected|niveau} + @{selected|SAG}]] --lanceur @{selected|token_id} --target @{target|token_id} --limiteCibleParJour 1 --portee 0 --mana 1</code>.</li>
                  <li><strong>Forme d'arbre</strong> : <code>!cof-effet-temp formeDArbre [[5+@{selected|SAG}]] --mana 2</code>. J'ai choisi de donner comme pouvoir suppl\xE9mentaire \xE0 cette forme d'avoir ses propres PVs, et le druide r\xE9cup\xE8re ses PVs originaux \xE0 la fin de l'effet. La transformation est annul\xE9e aussi si l'arbre perd tous ses PVs. Le nombre de PVs par d\xE9faut est de niveau x 5, mais il peut \xEAtre modifi\xE9 en ajoutant au argument <code>--valeur <i>pv</i></code>. Pour augmenter un peu l'int\xE9r\xEAt de ce sort, je lui fais aussi augmenter de 50% le bonus de peau d'\xE9corce. Si vous utilisez les actions \xE0 afficher \xE0 chaque tour, vous pouvez aussi cr\xE9er une liste d'actions nomm\xE9e <code>Forme d'arbre</code> contenant les sorts et actions possibles en forme d'arbre. Si une telle liste existe, elle va toujours afficher au moins les actions d\xE9fensive, d'attente et d'attaque sous forme d'arbre (pas besoin de cr\xE9er une attaque d\xE9di\xE9e sur la fiche). Il est possible de sp\xE9cifier une image pour le token en forme d'arbre, en utilisant le valeur d'un <a href=#predicats>pr\xE9dicat</a> <code>tokenFormeDArbre</code>.</li>
                  <li><strong>Sagesse h\xE9ro\xEFque</strong> : reporter sur la fiche</li>
                </ol>
                <h4 class="text-secondary" id="voie_v\xE9g\xE9taux">Voie des v\xE9g\xE9taux</h4>
                <ol>
                  <li><strong>Peau d'\xE9corce</strong> : <code>!cof-effet-temp peauDEcorce [[5+@{selected|SAG}]] --mana 0</code>. Par d\xE9faut, utilise la valeur d'un <a href=#predicats>pr\xE9dicat</a> <code>voieDesVegetaux</code> (qui devrait avoir comme valeur le rang dans la voie). Il est possible de choisir une autre valeur en utilisant l'option <code>--valeur</code>, et si aucune des deux m\xE9thodes n'est utilis\xE9e, le bonus de DEF est de 1.</li>
                  <li><strong>Prison v\xE9g\xE9tale</strong> : <code>!cof-effet-temp prisonVegetale [[5+@{selected|SAG}]] --saveActifParTour FOR [[10+@{selected|SAG}]] --lanceur @{selected|token_id} --disque @{target|token_id} 5 20 --saufAllies --mana 0</code>.</li>
                  <li><strong>Animation d'un arbre</strong> :  <code>!cof-animer-arbre @{selected|token_id} @{target|token_id} --portee 0 --mana 1</code>. Cela implique d'avoir un token repr\xE9sentant l'arbre sur la carte. Ce que je fais, c'est de passer un token d'arbre du layer map au layer tokens, puis je laisse le joueur faire le sort. Si c'est trop compliqu\xE9, vous pouvez aussi pr\xE9parer un personnage arbre, avec les caract\xE9ristiques d\xE9crites, et le faire arriver sur la carte \xE0 la main (ne pas oublier sa RD <code>10/feu_hache</code>, dans ce cas).</li>
                  <li><strong>Gland de pouvoir</strong> :
                    <ul>
                      <li>Sort : Ajouter une attaque sur la fiche utilisant l'attaque magique, port\xE9e 10, type Sortil\xE8ge, modificateur <code>pasDeDmg</code>, options <code>--mana 2 --effet statueDeBois [[2d6+@{selected|SAG}]] --valeur 10 10</code>. \xC0 noter qu'un pr\xE9dicat <code>immunite_petrification</code> permet d'\xEAtre immunis\xE9 \xE0 cet effet.</li>
                      <li>Objet de sort : <code>#Attaque Gland de pouvoir --toucher [[@{selected|ATKMAG}]] --pasDeDmg --portee 10 --sortilege --effet statueDeBois [[2d6+@{selected|SAG}]] --valeur 10 10</code></li>
                    </ul>
                  </li>
                  <li><strong>Porte v\xE9g\xE9tale</strong> : Pas de support au niveau du script, \xE0 part <code>!cof-lancer-sort lance un sort de porte v\xE9g\xE9tale --mana 3</code>.</li>
                </ol>
              </div>
              <h3 class="text-info" id="Ensorceleur">Ensorceleur</h3>
              <div class="decalage">
                <h4 class="text-secondary">Voie de l'air</h4>
                <ol>
                  <li><strong>Murmures dans le vent</strong> : pas de support autre que <code>!cof-lancer-sort lance un sort de Murmures dans le vent</code></li>
                  <li><strong>Sous tension</strong> :
                    <ol>
                      <li><code>!cof-effet-temp sousTension [[5+@{selected|CHA}]] --mana 0</code> pour lancer le sort et mettre l'ensorceleur sous tension</li>
                      <li>Ajouter une attaque sur la fiche utilisant l'attaque magique, dommages 1d6+CHA, port\xE9e 10, type Sortil\xE8ge, d\xE9g\xE2ts \xE9lectriques, options <code>--si etat sousTension --fx beam-holy</code>.</li>
                      <li>Pour les objets de sorts, on peut mettre l'attaque directement sous la forme <code>#Attaque D\xE9charge \xE9lectrique --toucher [[@{selected|ATKMAG}]] --dm 1d6+[[@{selected|CHA}]] --electrique --portee 10 --sortilege --si etat sousTension --fx beam-holy</code></li>
                    </ol>
                  </li>
                  <i>Note :</i> Il est possible de sp\xE9cifier une autre valeur pour les DM automatiques quand le lanceur est touch\xE9 en contact, en rajoutant <code>--valeur X</code> \xE0 la premi\xE8re ability</code>.
                  </li>
                  <li><strong>T\xE9l\xE9kin\xE9sie</strong> : Pas de support autre que <code>!cof-lancer-sort lance un sort de t\xE9l\xE9kin\xE9sie --mana 1</code></li>
                  <li><strong>Foudre</strong> :
                    <ul>
                      <li>Sort : Ajouter une attaque sur la fiche utilisant l'attaque magique, 4d6+CHA, port\xE9e 10, type Sortil\xE8ge, options <code>--mana 2 --psave DEX [[12+@{selected|DEX}]] --ligne --fx beam-holy</code>.</li>
                      <li>Objet de sort : <code>#Attaque Foudre --toucher [[@{selected|ATKMAG}]] --dm 4d6+[[@{selected|CHA}]] --portee 10 --sortilege --psave DEX [[12+@{selected|DEX}]] --ligne --fx beam-holy</code></li>
                    </ul>
                  </li>
                  <li><strong>Forme \xE9th\xE9r\xE9e</strong> : <code>!cof-effet-temp intangible [[5 + @{selected|CHA}]] --mana 3</code>. Pour impl\xE9mentaer des variantes, il existe aussi un effet <code>intangibleInvisible</code> qui cumule les \xE9tats intangible et invisible, et l'option <code>--puissant</code> donne la possibilit\xE9 au personnage de passer entre l'\xE9tat tangible et intangible \xE0 chaque tour, tant que dure l'effet.</li>
                </ol>
                <h4 class="text-secondary">Voie de la divination</h4>
                <ol>
                  <li><strong>6eme sens</strong> : ajouter le bonus en DEF divers et initiative diver, ajouter une comp\xE9tence <code>vigilance</code>, de valeur 2*rang (le bonus aux jet de surprise).</li>
                  <li><strong>D\xE9tection de l'invisible</strong> : <code>!cof-effet-temp detectionDeLInvisible [[5+@{selected|CHA}]] --mana 0</code>.</li>
                  <li><strong>Clairvoyance</strong> : <code>!cof-lancer-sort peut voir et entendre \xE0 distance --mana 1</code></li>
                  <li><strong>Prescience</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>prescience</code> (on peut y associer un nombre pour avoir plus d'une prescience par tour). Si le personnage \xE9tait sur la carte au moment de lancer le combat, il se verra proposer un bouton pour utiliser sa prescience \xE0 la fin de chaque tour. Attention, en l'\xE9tat, il est impossible d'annuler l'utilisation de ce bouton. De plus, ce bouton ne fera rien si le script a \xE9t\xE9 interrompu depuis le d\xE9but du tour (interruption de la partie, red\xE9marrage du script, etc...).</li>
                  <li><strong>Hyperconscience</strong> : reporter sur la fiche.</li>
                </ol>
                <h4 class="text-secondary">Voie de l'envo\xFBteur</h4>
                <ol>
                  <li><strong>Injonction</strong> : utiliser <code>!cof-injonction @{selected|token_id} @{target|token_id} --portee 20 --mana 0</code></li>
                  <li><strong>Sommeil</strong> : <code>!cof-sommeil @{selected|token_id} --disque @{target|token_id} 5 20 --mana 0</code>. Pour s\xE9lectionner le centre de la zone, on peut utiliser un personnage fictif (avec un token repr\xE9sentant une cible, par exemple) ayant 0 de max de PV.</li>
                  <li><strong>Confusion</strong>:
                    <ul>
                      <li>Sort : Ajouter une attaque sur la fiche utilisant l'attaque magique, port\xE9e 20, type Sortil\xE8ge, modificateurs <code>pasDeDmg</code> options <code>--mana 1 --attaqueMentale --effet confusion [[3+@{selected|CHA}]] --saveParTour SAG [[10+@{selected|CHA}]]</code>.</li>
                      <li>Objet de sort : <code>#Attaque Confusion --toucher [[@{selected|ATKMAG}]] --pasDeDmg --portee 20 --sortilege --attaqueMentale --effet confusion [[3+@{selected|CHA}]] --saveParTour SAG [[10+@{selected|CHA}]]</code></li>
                    </ul>
                  </li>
                  <li><strong>Amiti\xE9</strong>:
                    <ul>
                      <li>Sort : Ajouter une attaque sur la fiche utilisant l'attaque magique, port\xE9e 20, type Sortil\xE8ge, modificateurs <code>pasDeDmg</code> options <code>--mana 2 --attaqueMentale --difficultePVmax --effet charme --save SAG [[12+@{selected|CHA}]] --saveParJour SAG [[12+@{selected|CHA}]]</code>.</li>
                      <li>Objet de sort : <code>#Attaque Amiti\xE9 --toucher [[@{selected|ATKMAG}]] --pasDeDmg --portee 20 --sortilege --attaqueMentale --difficultePVmax --effet charme --save SAG [[12+@{selected|CHA}]] --saveParJour SAG [[12+@{selected|CHA}]]</code></li>
                    </ul>
                  </li>
                  <li><strong>Domination</strong> : utiliser <code>!cof-attaque-magique @{selected|token_id} @{target|token_id} --portee 20 --attaqueMentale</code></li>
                </ol>
                <h4 class="text-secondary">Voie des illusions</h4>
                <ol>
                  <li><strong>Image d\xE9cal\xE9e</strong> : <code>!cof-effet-temp imageDecalee [[5+@{selected|CHA}]] --mana 0</code>.</li>
                  <li><strong>Mirage</strong> : pas de support autre que <code>!cof-lancer-sort lance un sort de mirage ([[5+@{selected|CHA}]] minutes) --mana 0</code></li>
                  <li><strong>Imitation</strong> : pas de support autre que <code>!cof-lancer-sort lance un sort d'imitation ([[5+@{selected|CHA}]] minutes) --mana 1</code></li>
                  <li><strong>D\xE9doublement</strong> :
                    <ul>
                      <li>Sort : Ajouter une attaque sur la fiche utilisant l'attaque magique, port\xE9e 20, type Sortil\xE8ge, modificateurs <code>pasDeDmg</code> options <code>--mana 2 --effet dedoublement [[5+@{selected|CHA}]]</code>.</li>
                      <li>Objet de sort : <code>#Attaque D\xE9doublement --toucher [[@{selected|ATKMAG}]] --pasDeDmg --portee 20 --sortilege --effet dedoublement [[5+@{selected|CHA}]]</code></li>
                    </ul>
                  </li>
                  <li><strong>Tueur fantasmagorique</strong> : <code>!cof-tueur-fantasmagorique @{selected|token_id} @{target|token_id} --portee 20 --mana 3</code>. Attention, j'en ai fait une interpr\xE9tation un peu personnelle : au lieu de ne pas pouvoir toucher les cibles de niveau sup\xE9rieur au lanceur, les cible de niveau sup\xE9rieur gagnent un bonus de 5 par niveau au dessus de celui du lanceur pour r\xE9sister au tueur fantasmagorique. Et ceux de niveau inf\xE9rieur un malus de 1 par niveau de diff\xE9rence. Si cette interpr\xE9tation ne vous convient pas, n'h\xE9sitez pas \xE0 me demander des changements.</li>
                </ol>
                <h4 class="text-secondary">Voie de l'invocation</h4>
                <ol>
                  <li><strong>Familier</strong> : cr\xE9er un personnage (de type PNJ) pour le familier, control\xE9 par le joueur et avec un token li\xE9 ayant la capacit\xE9 de voir. 
                    <ul>
                      <li>Pour le bonus en initiative, ajouter un <a href=#predicats>pr\xE9dicat</a> <code>familier</code> au personnage, avec comme valeur le nom du compagnon (doit \xEAtre exactement le m\xEAme que celui du token du compagnon). Cela automatise l'initiative quand le familier est pr\xE9sent.</li>
                      <li>Pour les points de vie partag\xE9s avec le familier, il faut mettre un <a href=#predicats>pr\xE9dicat</a> <code>PVPartagesAvec</code> de valeur le nom du familier (celui de la fiche, pas forc\xE9ment le m\xEAme que le token) pour le personnage, et un pr\xE9dicat similaire chez le familier, de valeur le nom du personnage. Le partage de PVs ne fonctionne pas avec des mooks, et il ne fait pas le partage de d\xE9g\xE2ts temporaires. En revanche, le script devrait g\xE9rer correctement les d\xE9g\xE2ts de zone.</li>
                      <li>Pour la d\xE9fense du familier, lui ajouter un <a href=#predicats>pr\xE9dicat</a> <code>defDeriveeDe</code>, de valeur le nom du personnage (nom complet sur la fiche, attention \xE0 bien utiliser la syntaxe avec <code>::</code> si ce nom contient des espaces ou autres caract\xE8res sp\xE9ciaux).</li>
                      <li>L'initiative ne devrait pas \xEAtre tr\xE8s utile, mais si besoin, ajoutez un pr\xE9dicat <code>initiativeDeriveeDe</code> de valeur le nom du personnage. En fait, pour les familiers normaux, je pr\xE9f\xE8res m\xEAme qu'ils n'apparaissent pas sur le turn tracker, et je leur met donc un <a href=#predicats>pr\xE9dicat</a> <code>aucuneActionCombat</code>.</li>
                    </ul>
                  </li>
                  <li><strong>Serviteur invisible&nbsp;</strong>: pas de support autre que <code>!cof-lancer-sort cr\xE9e une force invisible pour ([[5+@{selected|CHA}]] minutes) --mana 0</code></li>
                  <li><strong>Mur de force</strong> : <code>!cof-mur-de-force ?{Spherique?|Oui,&amp;#32;|Non,mur} --mana 1</code>. Cela affiche une image d'un champ de force, mais seulement si il est sph\xE9rique. Il est possible de ne pas afficher d'image avec la commande <code>!cof-mur-de-force noImage</code>. Il est possible d'utiliser une autre image que l'image par d\xE9faut en utilisant la commande <code>!cof-mur-de-force <i>path</i></code> o\xF9 <i>path</i> est l'adresse url d'une image de la librairie Roll20 qui repr\xE9sente un mur de force sph\xE9rique. On peut aussi changer l'image par d\xE9faut dans les options de jeu.</li>
                  <li><strong>\xC9p\xE9e dansante</strong> :
                    <ul>
                      <li><code>!cof-effet-temp epeeDansante [[5+@{selected|CHA}]] --mana 2</code> pour lancer le sort</li>
                      <li>Ajouter une attaque sur la fiche utilisant l'attaque magique, dommages 1d8+CHA, port\xE9e 20, type Sortil\xE8ge, d\xE9g\xE2ts magiques, options <code>--si etat epeeDansante --ignoreObstacles</code>.</li>
                      <li>Pour les objets de sort, on peut utiliser une action <code>#Attaque \xC9p\xE9e dansante --toucher [[@{selected|ATKMAG}]] --dm 1d8+[[@{selected|CHA}]] --magique --portee 20 --sortilege --si etat epeeDansante --ignoreObstacles</code></li>
                    </ul>
                    Pour une rapi\xE8re dansante, il existe aussi un effet temporaire <code>rapiereDansante</code>.
                  </li>
                  <li><strong>Charisme h\xE9ro\xEFque</strong> : reporter sur la fiche</li>
                </ol>
              </div>
              <h3 class="text-info" id="Forgesort">Forgesort</h3>
              <div class="decalage">
                <h4 class="text-secondary">Voie des artefacts</h4>
                <ol>
                  <li><strong>B\xE2ton de mage</strong> : simplement adapter l'attaque, avec aussi le modificateur <code>magique</code>. Pour l'\xE9clair d'\xE9nergie, ajoutez dans les options <code>?{Attaque|Normale,--magieRapide 2|\xC9clair d'\xE9nergie (L),--eclairDEnergie}</code>. Si vous autorisez les r\xE8gles de mana pour cette attaque, remplacez par <code>?{Attaque|Normale,&amp;#32;|\xC9clair d'\xE9nergie (L),--eclairDEnergie|\xC9clair d'\xE9nergie rapide, --eclairDEnergie --magieRapide|\xC9clair d'\xE9nergie puissant (L), --eclairDEnergie --tempeteDeMana 1}</code>.</li>
                  <li><strong>Blocage</strong> : pas de support autre que <code>!cof-lancer-sort scelle une porte ou un coffre (+5 solidit\xE9 & RD) pour [[@{selected|INT}]] minutes --mana 0</code></li>
                  <li><strong>Sac sans fond</strong> : pas de support particulier</li>
                  <li><strong>Frappe des arcanes</strong> : le plus simple est d'utiliser la m\xEAme ligne d'attaque (disons que son label est <code>E</code>) que pour l'attaque d'\xE9nergie (mais si besoin, rien n'emp\xEAche d'en utiliser une autre). La commande sera alors <code>!cof-explosion E --auto --magique --sortilege --portee 10 --etat renverse --save FOR [[10+@{selected|INT}]]</code>.</li>
                  <li><strong>Artefact majeur</strong> : pas de support particulier</li>
                </ol>
                <h4 class="text-secondary">Voie des \xE9lixirs</h4>
                <p style="margin-top:0px; margin-bottom:0px">Pour cr\xE9er ou juste voir ses \xE9lixirs, utiliser la commande <code>!cof-elixirs</code>. Pour cela, il faut aussi un <a href=#predicats>pr\xE9dicat</a> <code>voieDesElixirs</code> avec comme valeur le rang dans la voie. Noter que la commande <code>!cof-elixirs</code> affiche une liste d'\xE9lixirs, et que pour effectivement cr\xE9er un \xE9lixir, il faut cliquer sur le bouton correspondant dans cette liste. Le script propose les \xE9lixirs par d\xE9faut du jeu, mais vous pouvez modifier cette liste : pour changer un \xE9lixir de rang k (k&lt;4), ajouter un attribut de nom <code>Elixir <i>k</i></code>, de valeur courante le nom et de valeur maximale l'effet.</p>
                <ol>
                  <li><strong>Fortifiant</strong> : cr\xE9ation \xE0 l'aide de <code>!cof-elixirs</code>, et utilisation avec la m\xEAme commande, ou bien en utilisant <code>!cof-consommables</code>. Si vous souhaitez avoir une potion de fortifiant ind\xE9pendament de cette Voie (par exemple achet\xE9e dans une \xE9chope), vous pouvez ajouter un consommable avec l'effet <code>!cof-fortifiant <i>n</i></code>, o\xF9 <i>n</i> est le rang dans la Voie du forgesort qui a cr\xE9\xE9 la potion.</li>
                  <li><strong>Feu gr\xE9geois</strong> : cr\xE9ation \xE0 l'aide de <code>!cof-elixirs</code>, et utilisation avec la m\xEAme commande, ou bien en utilisant <code>!cof-consommables</code>.</li>
                  <li><strong>\xC9lixir de gu\xE9rison</strong> : cr\xE9ation \xE0 l'aide de <code>!cof-elixirs</code>, et utilisation avec la m\xEAme commande, ou bien en utilisant <code>!cof-consommables</code>.</li>
                  <li><strong>Potion magique</strong> : cr\xE9ation \xE0 l'aide de <code>!cof-elixirs</code>, et utilisation avec la m\xEAme commande, ou bien en utilisant <code>!cof-consommables</code>.</li>
                  <li><strong>\xC9lixirs magiques</strong> : cr\xE9ation \xE0 l'aide de <code>!cof-elixirs</code>, et utilisation avec la m\xEAme commande, ou bien en utilisant <code>!cof-consommables</code>.</li>
                </ol>
                <h4 class="text-secondary">Voie du m\xE9tal</h4>
                <ol>
                  <li><strong>Forgeron</strong> : Il faut un <a href=#predicats>pr\xE9dicat</a> <code>voieDuMetal</code> pour conna\xEEtre le rang (ou utiliser l'option <code>--valeur</code>). Lancer le sort avec <code>!cof-effet-temp forgeron(<i>L</i>) [[5+@{selected|INT}]]</code> o\xF9 <i>L</i> est le label d'une attaque. Ensuite, chaque fois que cette attaque sera utilis\xE9e, les d\xE9g\xE2ts seront ajout\xE9s. Limitations : si deux attaques utilisent la m\xEAme arme, il faut faire deux fois l'action, une pour chaque attaque.</li>
                  <li><strong>M\xE9tal br\xFBlant</strong> :
                    <ul>
                      <li>Sort : Ajouter une attaque sur la fiche utilisant l'attaque magique, port\xE9e 20, type Sortil\xE8ge, modificateurs <code>pasDeDmg</code> options <code>--mana 0 --effet ?{Chauffer|une arme,armeBrulante|une armure,armureBrulante} [[5+@{selected|INT}]]</code>.</li>
                      <li>Objet de sort : <code>#Attaque M\xE9tal br\xFBlant --toucher [[@{selected|ATKMAG}]] --pasDeDmg --portee 20 --sortilege --effet ?{Chauffer|une arme,armeBrulante|une armure,armureBrulante} [[5+@{selected|INT}]]</code></li>
                    </ul>
                    Pour mettre fin \xE0 l'effet (si la cible l\xE2che son arme ou enl\xE8ve son armure), vous pouvez utiliser la macro <code>!cof-effet-temp ?{Se d\xE9barrasser d'une |arme,armeBrulante|armure,armureBrulante} 0</code>
                  </li>
                  <li><strong>Magn\xE9tisme</strong> : <code>!cof-effet-temp magnetisme [[3+@{selected|INT}]] --mana 1</code>. L'effet n'est actif que contre les attaques ayant l'option <code>--metal</code>. Il est possible de changer le bonus de DEF apport\xE9 avec l'option <code>--valeur</code>.</li>
                  <li><strong>M\xE9tal hurlant</strong> : </li>
                  <li><strong>Endurer</strong> : reporter les bonus sur la fiche</li>
                </ol>
                <h4 class="text-secondary">Voie du golem</h4>
                <ol>
                  <li><strong>Grosse t\xEAte</strong> : Vous pouvez ajouter un <a href=#predicats>pr\xE9dicat</a> <code>grosseTete</code>. Normalement, le bonus devrait d\xE9pendre des actions du forgesort. Si vous souhaitez le faire, vous pouvez ne pas mettre le pr\xE9dicat, mais juste avant un jet de force pour lequel vous pensez que la grosse t\xEAte s'applique, faire <code>!cof-set-predicate grosseTete true</code> (en s\xE9lectionnant le token du forgesort), puis apr\xE8s le jet faire  <code>!cof-set-predicate grosseTete false</code>. Si vous voulez l'ajout de grosse t\xEAte par d\xE9faut, vous pouvez aussi faire l'op\xE9ration dans l'ordre inverse pour les jets pour lesquels vous pensez que le bonus ne peut pas s'appliquer.</li>
                  <li><strong>Golem</strong> : ajouter un personnage et un token pour le golem (ne pas oublier le <a href=#predicats>pr\xE9dicat</a> <code>nonVivant</code> pour le golem). Pour les r\xE9parations, utiliser <code>!cof-soin @{selected|token_id} <i>nom_du_golem</i> <i>rang</i>d6+@{selected|INT}</code>. Bien remplacer <i>rang</i> par le rang dans la voie, dans cette commande. Attention, le nom du golem est celui du token repr\xE9sentant le golem, et il ne doit pas contenir de blanc.</li>
                  <li><strong>Protecteur</strong> : <code>!cof-interposer</code> permet de s'interposer \xE0 la place de la cible de la derni\xE8re attaque. (Attention, pas de undo pour cette action)</li>
                  <li><strong>Golem sup\xE9rieur</strong> : reporter les avantages sur la fiche du golem.</li>
                  <li><strong>Intelligence h\xE9ro\xEFque</strong> : reporter sur la fiche</li>
                </ol>
                <h4 class="text-secondary">Voie des runes</h4>
                <p style="margin-top:0px; margin-bottom:0px">Ajouter un <a href=#predicats>pr\xE9dicat</a> <code>voieDesRunes</code> pour le personnage avec comme valeur le niveau dans la voie des Runes.</p>
                <ol>
                  <li><strong>Runes de d\xE9fense</strong> : Rien \xE0 faire, le pr\xE9dicat <code>voieDesRunes</code> est pris en compte dans le calcule de la DEF.</li>
                  <li><strong>Rune d'\xE9nergie</strong> : La fabrication des runes de combat est g\xE9r\xE9e par la commande <code>!cof-runes</code> (il est fortement conseill\xE9 de cr\xE9er une ability pour le forgesort). Le script tente de d\xE9tecter quand les runes peuvent \xEAtre utilis\xE9es en combat et propose un bouton (\xE0 la mani\xE8re des points de chance). Lors de chaque nuit (utilisation de la commande <code>!cof-nouveau-jour</code>) toutes les runes sont retir\xE9es, mais le script va sugg\xE9rer des raccourcis au forgesort pour les restaurer facilement \xE0 tous les tokens pr\xE9sents sur la page des joueurs (par personnage, type de rune, et aussi un bouton "Tout renouveler"). Les points de mana sont automatiquement d\xE9compt\xE9s.</li>
                  <li><strong>Rune de protection</strong> : cf. ci-dessus. Le script impl\xE9mente par d\xE9faut un maximum de dommages absorb\xE9s par la rune \xE9quivalent au rang du forgesort dans la voie des Runes multipli\xE9 par 10. Il est possible de d\xE9sactiver cette limitation via !cof-options.</li>
                  <li><strong>Rune de puissance</strong> : cf. ci-dessus. Cr\xE9er une rune de puissance vous demandera d'indiquer en plus le num\xE9ro de l'arme sur la fiche du propri\xE9taire.</li>
                  <li><strong>Rune de pouvoir</strong> : pas de support particulier, cr\xE9er l'objet de pouvoir appropri\xE9.</li>
                </ol>
              </div>
              <h3 class="text-info" id="Guerrier">Guerrier</h3>
              <div class="decalage">
                <h4 class="text-secondary">Voie du bouclier</h4>
                <ol>
                  <li><strong>Prot\xE9ger un alli\xE9</strong> : <code>!cof-proteger-un-allie @{selected|token_id} @{target|token_id}</code>. Fonctionne aussi si on remplace le target par un nom de token. Le script ne v\xE9rifie pas que le guerrier ne change pas d'alli\xE9 plus d'une fois par tour.</li>
                  <li>
                    <strong>Absorber un coup</strong> :
                    <ul>
                      <li>utiliser <code>!cof-effet-temp absorberUnCoup 1</code> pour se mettre en position. Attention, \xE7a ne v\xE9rifie pas si le guerrier porte son bouclier.</li>
                      <li>le script propose un bouton \xE0 activer en cas d'attaque r\xE9ussie alors que le guerrier est en position.</li>
                    </ul>
                  </li>
                  <li>
                    <strong>Absorber un sort</strong> :
                    <ul>
                      <li>utiliser <code>!cof-effet-temp absorberUnSort 1</code> pour se mettre en position. Attention, \xE7a ne v\xE9rifie pas si le guerrier porte son bouclier.</li>
                      <li>le script propose un bouton \xE0 activer en cas d'attaque r\xE9ussie alors que le guerrier est en position.</li>
                    </ul>
                  </li>
                  <li><strong>Armure lourde</strong> : Noter l'armure sur la feuille du personnage, et ajouter un <a href=#predicats>pr\xE9dicat</a> <code>armureLourdeGuerrier</code> au personnage. L'annulation du critique ne se produira que si l'armure est port\xE9e et que la valeur totale du bonus de d\xE9fense sup\xE9rieure ou \xE9gale \xE0 7 (le bonus de DEF d'une armure de plaques compl\xE8te).</li>
                </ol>
                <h4 class="text-secondary">Voie du combat</h4>
                <ol>
                  <li><strong>Vivacit\xE9</strong> : simplement augmenter l'init sur la fiche.</li>
                  <li><strong>D\xE9sarmer</strong> : <code>!cof-desarmer @{selected|token_id} @{target|token_id}</code>. On peut utiliser un troisi\xE8me argument optionnel, qui est le label d'une arme par d\xE9faut, au cas o\xF9 le guerrier n'aurait pas d'arme en main.</li>
                  <li><strong>Double attaque</strong> : faire deux attaques, avec l'option suppl\xE9mentaire <code>--bonusAttaque -2</code>.</li>
                  <li><strong>Attaque circulaire</strong> : faire les attaques normalement, ce n'est pas consid\xE9r\xE9 comme une aoe.</li>
                  <li><strong>Attaque puissante</strong> : <code>#Attaque -1 --avecd12crit --plus 2d6 --seulementContact</code>.</li>
                </ol>
                <h4 class="text-secondary">Voie du ma\xEEtre d'armes</h4>
                <ol>
                  <li><strong>Arme de pr\xE9dilection</strong> : il est possible de pr\xE9ciser une famille d'armes de pr\xE9dilection (un peu plus large que dans les r\xE8gles), parmis <code>arc</code>, <code>arbalete</code>, <code>hache</code>, <code>epee</code>, <code>marteau</code>, <code>masse</code>, <code>epieu</code>, <code>poudre</code>, <code>baton</code> et <code>rapiere</code>. Si cela vous convient, ajoutez un pr\xE9dicat <code>armeDePredilection</code> de valeur une de ces familles. Sinon, simplement ajouter le bonus sur les attaques dans la fiche.</li>
                  <li><strong>Science du critique</strong> : pour ne pas avoir \xE0 modifier les chances de critique pour toutes les attaques, utiliser un <a href=#predicats>pr\xE9dicat</a> <code>scienceDuCritique</code>. Attention \xE0 ne pas faire \xE7a ET modifier les chances de critiques de l'attaque, car \xE7a s'additionne.</li>
                  <li><strong>Sp\xE9cialisation</strong> : reporter le bonus aux DM sur la fiche.</li>
                  <li><strong>Attaque parfaite</strong> : utiliser les options <code>--m2d20 --plus 1d6</code>.</li>
                  <li><strong>Riposte</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>riposteGuerrier</code>. Les actions affich\xE9es en cas de riposte seront normalement une attaque avec l'arme en main, et les attaques naturelles coch\xE9es du personnage. Si cela ne convient pas, \xE9crivez une liste d'actions nomm\xE9e <code>Ripostes</code>.</li>
                </ol>
                <h4 class="text-secondary">Voie de la r\xE9sistance</h4>
                <ol>
                  <li><strong>Robustesse</strong> : rajouter les PV sur la fiche.</li>
                  <li><strong>Armure naturelle</strong> : rajouter la DEF sur la fiche.</li>
                  <li><strong>Second souffle</strong> : Ajouter un <a href=#predicats>pr\xE9dicat</a> <code>secondSouffle</code> permet de faire appara\xEEtre un bouton pour utiliser le second souffle quand le guerrier a perdu des PVs en combat, limite le gain de PVs \xE0 ceux perdus dans le combat en cours, et utilise automatiquement la capacit\xE9 en fin de combat si elle n'a pas \xE9t\xE9 utilis\xE9e. Si cette automatisation ne vous convient pas, vous pouvez utiliser la commande <code>!cof-soin @{selected|token_id} secondSouffle</code> \xE0 la place. Enfin, on peut pr\xE9ciser une valeur pour ce pr\xE9dicat, pour remplacer le niveau + CON (par exemple pour un PNJ).</li>
                  <li><strong>Dur \xE0 cuire</strong> : rajouter un <a href=#predicats>pr\xE9dicat</a> <code>durACuire</code> sur la fiche.</li>
                  <li><strong>Constitution h\xE9ro\xEFque</strong> : reporter les bonus sur la fiche.</li>
                </ol>
                <h4 class="text-secondary">Voie du soldat</h4>
                <ol>
                  <li><strong>Posture de combat</strong> : <code>!cof-posture-de-combat <i>bonus attr1 attr2</i></code>, o\xF9 les deux <i>attr</i> peuvent \xEAtre soit <code>DEF</code> soit <code>ATT</code> soit <code>DM</code>, et le <i>bonus</i> est retir\xE9 au premier attribut pour \xEAtre ajout\xE9 au second. Le bonus peut \xEAtre limit\xE9 si le guerrier a un <a href=#predicats>pr\xE9dicat</a> <code>voieDuSoldat</code> qui indique son rang dans la voie. Exemple d'utilisation&nbsp;: <code>!cof-posture-de-combat ?{Bonus} ?{Baisser|D\xE9fense,DEF|Attaque,ATT|D\xE9g\xE2ts,DM} ?{Augmenter|D\xE9fense,DEF|Attaque,ATT|D\xE9g\xE2ts,DM}</code>. Normalement, la r\xE8gle fait d\xE9cider de sa posture au guerrier \xE0 chaque tour, mais en pratique, il en change assez rarement. Une posture de combat reste donc active jusqu'\xE0 la fin du combat ou jusqu'\xE0 ce qu'on en change (elle est neutre si on a le m\xEAme attribut \xE0 buffer et d\xE9buffer).</li>
                  <li><strong>Combat en phalange</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>combatEnPhalange</code>. Les bonus seront ajout\xE9s automatiquement en fonctions des alli\xE9s d\xE9finis selon <a href="#allie">cette m\xE9thode</a>.</li>
                  <li><strong>Prouesse</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>prouesse</code> (on peut y associer un nombre, si on souhaite plus d'une utilisation par tour). Le script g\xE9n\xE9rera automatiquement les boutons Prouesse sur les test appropri\xE9s.</li>
                  <li><strong>Dernier rempart</strong> : pas de support particulier, le MJ doit g\xE9rer les attaques suppl\xE9mentaires.</li>
                  <li><strong>Force h\xE9ro\xEFque</strong> : reporter sur la fiche.</li>
                </ol>
              </div>
              <h3 class="text-info" id="Invocateur">Invocateur</h3>
              <div class="decalage">
                <h4 class="text-secondary">Voie de la conjuration</h4>
                <ol>
                  <li><strong>Conjuration de pr\xE9dateur</strong> : <code>!cof-conjuration-de-predateur --mana 0</code>.</li>
                  <li><strong>Conjuration renforc\xE9e</strong> : vous pouvez soit utiliser un <a href=#predicats>pr\xE9dicat</a> <code>voieDeLaConjuration</code>, de valeur le rang dans la voie, soit ajouter ce rang en premier argument de <code>!cof-conjuration-de-predateur</code>.</li>
                  <li><strong>Conjuration d'arm\xE9e</strong> : <code>!cof-conjuration-armee --limiteParJour 1 --mana 1</code>. Le niveau de puissance de l'arm\xE9e et d\xE9termin\xE9 par la valeur d'un <a href=#predicats>pr\xE9dicat</a> <code>voieDeLaConjuration</code>, ou sinon par un argument optionnel qui donne les DMs inflig\xE9s par l'arm\xE9e (par exemple, <code>!cof-conjuration-armee 2d6</code>). L'arm\xE9e va appara\xEEtre comme un token normal, mais avec une aura de 20m de cot\xE9 qui repr\xE9sente la place qu'elle occupe. Pour les d\xE9g\xE2ts qu'elle inflige, utiliser son attaque sur toutes les cibles d\xE9sign\xE9es par l'invocateur. Pour faire dispara\xEEtre l'arm\xE9e, il suffit de la tuer (par exemple en utilisant <code>!cof-set-state mort true</code>). Tous les personnages dans la zone de l'arm\xE9e et qui ne sont pas alli\xE9s de l'invocateurs ont automatiquement une nouvelle action dans leur liste pour attaquer l'arm\xE9e. Cette action leur permet aussi de b\xE9n\xE9ficier d'une division des DM par 2 lorsque l'arm\xE9e les attaque.</li>
                </ol>
                <h4 class="text-secondary">Voie de l'entit\xE9</h4>
                <ol>
                  <li><strong>Invocation d'une entit\xE9</strong> : ajouter la fiche correspondante.</li>
                  <li><strong>Lien magique</strong> : pour l'instant, g\xE9rer \xE0 la main le transfert de d\xE9g\xE2ts.</li>
                  <li><strong>Am\xE9lioration</strong> : ajuster la fiche de l'entit\xE9.</li>
                </ol>
                <h4 class="text-secondary">Voie du familier</h4>
                <ol>
                  <li><strong>Familier</strong> : cr\xE9er un token pour le familier, avec vue et control\xE9 par le joueur. Le partage des PV n'est pas g\xE9r\xE9. Pour le bonus en initiative, ajouter un <a href=#predicats>pr\xE9dicat</a> <code>familier</code>, avec comme valeur le nom du compagnon (doit \xEAtre exactement le m\xEAme que celui du token du compagnon). Cela automatise l'initiative quand le familier est pr\xE9sent.</li>
                  <li><strong>R\xE9sistance</strong> : ajouter la valeur de RD sur la fiche du familier.</li>
                  <li><strong>Sens d\xE9velopp\xE9s</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>perception</code> de valeur 5 (ou augmenter ce pr\xE9dicat, si il existe d\xE9j\xE0), et ajouter un pr\xE9dicat <code>visionDansLeNoir</code> de valeur 20 (40 si le personnage dispose d\xE9j\xE0 de la vision dans le noir).</li>
                </ol>
                <h4 class="text-secondary">Voie des mutations</h4>
                <ol>
                  <li><strong>Mutation offensive</strong> :
                    <ul>
                      <li><code>!cof-effet-temp mutationOffensive [[5+@{selected|CHA}]] --mana 0</code> pour lancer le sort</li>
                      <li>Ajouter une attaque sur la fiche utilisant l'attaque au contact, dommages 1d6+FOR+3, type Naturel, d\xE9g\xE2ts magiques, options <code>--si etat mutationOffensive</code></li>
                      <li>Pour un objet de sort, vous pouvez utiliser une action avec le code <code>#Attaque Mutation offensive --toucher [[@{selected|ATKCAC}]] --dm 1d6+[[3+@{selected|FOR}]] --magique --naturel --si etat mutationOffensive</code></li>
                    </ul>
                  </li>
                  <li><strong>Mutation protectrice</strong> : <code>!cof-effet ?{Mutation protectrice|Cuirasse,mutationCuirasse|\xC9cailles rouges,mutationEcaillesRouges|Fourrure violette,mutationFourrureViolette|Ou\xEFes,mutationOuies|Sang noir,mutationSangNoir} true --classeEffet mutationProtectrice --mana 0</code>. Pour la valeur de protection de la cuirasse, vous pouvez soit utiliser un <a href=#predicats>pr\xE9dicat</a> <code>voieDesMutations</code>, de valeur le rang dans la voie, soit remplacer <code>mutationCuirasse</code> par <code>mutationCuirasse --valeur <i>rang</i></code>. Pour enlever la mutation, le MJ peut ensuite simplement s\xE9lectionner le personnage et utiliser <code>!cof-fin-classe-effet mutationProtectrice</code>.</li>
                  <li><strong>Surpuissance physique</strong> : <code>!cof-effet ?{Surpuissance physique|Muscles hypertrophi\xE9s,mutationMusclesHypertrophies|Silhouette filiforme,mutationSilhouetteFiliforme|Silhouette massive,mutationSilhouetteMassive} true --classeEffet surpuissancePhysique --mana 1</code>. Pour enlever la mutation, le MJ peut ensuite simplement s\xE9lectionner le personnage et utiliser <code>!cof-fin-classe-effet surpuissancePhysique</code>.</li>
                  <li><strong>Adaptation motrice</strong> : pas d'autre support que <code>!cof-lancer-sort --message se fait pousser ?{Adaptation motrice ?|Ailes|des ailes|Pattes demesur\xE9es,des pattes demesur\xE9es|Queue de poisson,une queue de poisson} --mana 2</code></li>
                </ol>
                <h4 class="text-secondary">Voie des portes</h4>
                <ol>
                  <li><strong>Raccourci</strong> : pas de support autre que <code>!cof-lancer-sort lance un sort de Raccourci --mana 0</code></li>
                  <li><strong>Porte artificielle</strong> : pas de support autre que <code>!cof-lancer-sort lance un sort de Porte artificielle --mana 0</code>. Un jour, je compte lui faire cr\xE9er une porte.</li>
                  <li><strong>Manoir d'outre-tombe</strong> : pas d'autre support que <code>!cof-lancer-sort enchante une porte --mana 1</code></li>
                  <li><strong>Enkystement lointain</strong> : <code>!cof-enkystement-lointain @{selected|token_id} @{target|token_id} --portee 20 --mana 2 --limiteParCombat 1 enkystement</code>.</li>
                  <li><strong>Porte dimensionnelle</strong> : pas de support pour l'instant.</li>
                </ol>
              </div>
              <h3 class="text-info" id="Magicien">Magicien</h3>
              <div class="decalage">
                <h4 class="text-secondary">Voie de la magie des arcanes</h4>
                <ol>
                  <li><strong>Agrandissement</strong> : <code>!cof-effet-temp agrandissement [[5+@{selected|INT}]] --target @{target|token_id} --lanceur @{selected|token_id} --portee 0 --mana 0</code>. Si vous souhaitez qu'une arme puisse \xEAtre tenue \xE0 une main quand le personnage est agrandi, ajoutez \xE0 l'arme le <a href=#predicats>pr\xE9dicat</a> <code>armeDeGrand</code>.</li>
                  <li><strong>Forme gazeuse</strong> : <code>!cof-effet-temp formeGazeuse [[1d4 + @{selected|INT}]] --mana 0</code>. Au MJ de faire attention que sous cette forme, toutes les capacit\xE9s sont interdites.</li>
                  <li><strong>H\xE2te</strong> : <code>!cof-effet-temp hate [[1d6+@{selected|INT}]] --mana 1</code>, au MJ de g\xE9rer ensuite les actions possibles chaque tour.</li>
                  <li><strong>T\xE9l\xE9portation</strong> : Pas de support autre que <code>!cof-lancer-sort se t\xE9l\xE9porte (\xE0 [[@{selected|INTELLIGENCE}*10]] m maximum) --mana 2</code>.</li>
                  <li><strong>D\xE9sint\xE9gration</strong> :
                    <ul>
                      <li>Sort : Ajouter une attaque sur la fiche utilisant l'attaque magique, dommages 5D6+INT, port\xE9e 20, type Sortil\xE8ge, d\xE9g\xE2ts magiques, options <code>--mana 3</code>.</li>
                      <li>Objet de sort : <code>#Attaque D\xE9sint\xE9gration --toucher [[@{selected|ATKMAG}]] --dm 5d6+[[@{selected|INT}]] --magique --portee 20 --sortilege</code></li>
                    </ul>
                  </li>
                </ol>
                <h4 class="text-secondary">Voie de la magie destructrice</h4>
                <ol>
                  <li><strong>Projectile magique</strong> :
                    <ul>
                      <li>Sort : Ajouter une attaque sur la fiche utilisant l'attaque magique, dommages 1d4, port\xE9e 50, type Sortil\xE8ge, modificateurs <code>auto</code> d\xE9g\xE2ts magiques, options <code>--mana 0 --fx beam-magic</code>.</li>
                      <li>Objet de sort : <code>#Attaque Projectile Magique --auto --dm 1d4 --magique --portee 50 --sortilege --fx beam-magic</code></li>
                    </ul>
                  </li>
                  <li><strong>Rayon affaiblissant</strong> :
                    <ul>
                      <li>Sort : Ajouter une attaque sur la fiche utilisant l'attaque magique, port\xE9e 10, type Sortil\xE8ge, modificateurs <code>pasDeDmg</code> d\xE9g\xE2ts magiques, options <code>--mana 0 --effet rayonAffaiblissant [[1d6+@{selected|INT}]] --fx splatter-magic</code>.</li>
                      <li>Objet de sort : <code>#Attaque Rayon affaiblissant --toucher [[@{selected|ATKMAG}]] --pasDeDmg --portee 10 --sortilege --effet rayonAffaiblissant [[1d6+@{selected|INT}]] --fx splatter-magic</code></li>
                    </ul>
                  </li>
                  <li><strong>Fl\xE8che enflamm\xE9e</strong> :
                    <ul>
                      <li>Sort : Ajouter une attaque sur la fiche utilisant l'attaque magique, dommages 1d6+INT, port\xE9e 30, type Sortil\xE8ge, d\xE9g\xE2ts feu, options <code>--mana 1 --fx beam-fire --feu --enflamme</code>.</li>
                      <li>Objet de sort : <code>#Attaque Fl\xE8che enflamm\xE9e --toucher [[@{selected|ATKMAG}]] --dm 1d6+[[@{selected|INT}]] --feu --portee 30 --sortilege --fx beam-fire --enflamme</code></li>
                    </ul>
                  </li>
                  <li><strong>Boule de feu</strong> :
                    <ul>
                      <li>Sort : Ajouter une attaque sur la fiche utilisant l'attaque magique, dommages 4d6+INT, port\xE9e 30, type Sortil\xE8ge, d\xE9g\xE2ts feu, options <code>--mana 2 --demiAuto --disque 6 --psave DEX [[10+@{selected|INT}]] --targetFx explode-fire</code>.</li>
                      <li>Objet de sort : <code>#Attaque Boule de feu --toucher [[@{selected|ATKMAG}]] --dm 4d6+[[@{selected|INT}]] --feu --magique --portee 30 --sortilege --demiAuto --disque 6 --psave DEX [[10+@{selected|INT}]] --targetFx explode-fire</code></li>
                    </ul>
                  </li>
                  <li><strong>Rituel de puissance</strong> : faire l'appel aux attaques avec <code>--avecd12crit --plus 2d6</code>. On peut par exemple ajouter ceci dans les options des attaques lorsque le Rituel peut \xEAtre utilis\xE9 :<code>?{Rituel de puissance?|Non,&amp;#32;|Oui,--avecd12crit --plus 2d6}</code></li>
                </ol>
                <h4 class="text-secondary">Voie de la magie \xE9l\xE9mentaire</h4>
                <ol>
                  <li><strong>Asphyxie</strong> :
                    <ul>
                      <li>Sort : Ajouter une attaque sur la fiche utilisant l'attaque magique, port\xE9e 20, type Sortil\xE8ge,modificateurs <code>pasDeDmg</code>, options <code>--mana 0 --effet asphyxie [[1+@{selected|INT}]]</code>.</li>
                      <li>Objet de sort : <code>#Attaque Asphyxie --toucher [[@{selected|ATKMAG}]] --pasDeDmg --portee 20 --sortilege --effet asphyxie [[1+@{selected|INT}]]</code></li>
                    </ul>
                  </li>
                  <li><strong>Protection contre les \xE9l\xE9ments</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>voieDeLaMagieElementaire</code> avec comme valeur le rang dans la voie. Pour lancer le sort, faire <code>!cof-effet-temp protectionContreLesElements [[5+@{selected|INT}]] --mana 0</code>. Notez que si vous utilisez une option <code>--valeur</code> \xE0 la place d'utiliser le pr\xE9dicat, la RD sera cette valeur multipli\xE9e par 2.</li>
                  <li><strong>Arme enflamm\xE9e</strong> : Lancer le sort avec <code>!cof-effet-temp armeEnflammee [[5+@{selected|INT}]] --lanceur @{selected|token_id} --target @{target|token_id} --portee 0 --mana 1</code>. Il faut que la cible tienne une arme en main (voir <code>!cof-degainer</code>). Limitations : si deux attaques utilisent la m\xEAme arme, il faut faire deux fois l'action, une pour chaque attaque. Si vous souhaitez faire le m\xEAme effet mais avec des d\xE9g\xE2ts de froid, vous pouvez utiliser <code>armeGlacee</code> \xE0 la place.</li>
                  <li><strong>Respiration aquatique</strong> : pas de support autre que <code>!cof-lancer-sort lance un sort de respiration aquatique (dur\xE9e 10 minutes, sur soi plus [[@{selected|INT}]] compagnons) --mana 2</code>.</li>
                  <li><strong>Peau de pierre</strong> : <code>!cof-effet-temp peauDePierreMag [[5+@{selected|INT}]] --mana 3</code>. Le script va appliquer une RD de [5+Mod. d'INT] en dernier lieu, et compter le maximum des 40 d\xE9g\xE2ts par d\xE9faut. Il est possible de changer la valeur de la RD et le nombre de points de d\xE9g\xE2ts absorb\xE9s en ajoutant l'option <code>--valeur <i>rd absorbe</i></code>. \xC0 noter que le script rajoute +1 \xE0 la RD et +5 au total de d\xE9g\xE2ts absorb\xE9s en cas de magie puissante, ou par point de mana depens\xE9 en magie intense. </li>
                </ol>
                <h4 class="text-secondary">Voie de la magie protectrice</h4>
                <ol>
                  <li><strong>Armure du mage</strong> : <code>!cof-effet-combat armureDuMage --mana 0</code>.</li>
                  <li><strong>Chute ralentie</strong> : pas de support autre que <code>!cof-lancer-sort lance un sort de Chute ralentie --mana 0</code></li>
                  <li><strong>Flou</strong> : <code>!cof-effet-temp flou [[1d4+@{selected|INT}]] --mana 1</code>.</li>
                  <li><strong>Cercle de protection</strong> : Le script ne g\xE8re pas le cercle en lui-m\xEAme, mais vous pouvez cr\xE9er deux abilities.
                    <ul>
                      <li><code>!cof-effet-temp cercleDeProtection 100 --target @{target|token_id} --lanceur @{selected|token_id} --valeur @{selected|token_id}</code> et cibler un personnage pour lui appliquer l'effet.</li>
                      <li><code>!cof-effet-temp cercleDeProtection fin --target @{target|token_id} --lanceur @{selected|token_id}</code> pour supprimer l'effet sur un personnage.</li>
                    </ul>
                    Le script proposera alors automatiquement \xE0 ces personnages un bouton avec le nom du magicien si une cible prot\xE9g\xE9e est cibl\xE9e par une attaque magique. Le jet d'attaque magique oppos\xE9 sera automatis\xE9. Si vous utilisez les options de mana, rajoutez <code>--mana {Co\xFBt ?}</code> \xE0 la premi\xE8re ability. Indiquer le co\xFBt au lancement, et 0 pour les autres applications.
                  </li>
                  <li><strong>Arr\xEAt du temps</strong> : pas de support autre que <code>!cof-lancer-sort arr\xEAte le temps pour [[1d6+@{selected|INT}]] tours --mana 3</code></li>
                </ol>
                <h4 class="text-secondary">Voie de la magie universelle</h4>
                <ol>
                  <li><strong>Lumi\xE8re</strong> : <code>!cof-lumiere @{target|token_id} 20 --mana 0</code>. On peut utiliser une cible qui ne soit qu'un personnage sans PV, et dans ce cas le token dispara\xEEt, et pour \xE9teindre la lumi\xE8re, le MJ doit supprimer le token dans le layer de l'\xE9clairage dynamique. Si la cible est un personnage avec des PV, alors la lumi\xE8re se d\xE9placera avec lui, et pour \xE9teindre la lumi\xE8re, il faut s\xE9clectionner le ou les tokens et lancer <code>!cof-eteindre-lumiere lumiere</code>.</li>
                  <li><strong>D\xE9tection de la magie</strong> : pas de support autre que <code>!cof-lancer-sort lance un sort de D\xE9tection de la Magie --mana 0</code>.</li>
                  <li><strong>Invisibilit\xE9</strong> : utiliser <code>!cof-set-state invisible true --message se rend invisible --messageMJ l'invisibilit\xE9 va durer [[1d6+@{selected|INT}]] minutes --mana 1</code>. Pour les ennemis, mettre dans le layer gm, pour les joueurs, ne pas les cibler. Reste le probl\xE8me des AOE...</li>
                  <li><strong>Vol</strong> : pas de support autre que <code>!cof-lancer-sort vole --messageMJ le vol va durer [[1d6+@{selected|INT}]] minutes --mana 2</code></li>
                  <li><strong>Intelligence h\xE9ro\xEFque</strong> : reporter sur la fiche</li>
                </ol>
              </div>
              <h3 class="text-info" id="Moine">Moine</h3>
              <div class="decalage">
                <h4 class="text-secondary">Voie de l\x2019\xE9nergie vitale</h4>
                <ol>
                  <li><strong>Main d'\xE9nergie</strong> : utiliser l'attaque \xE0 mains nues avec l'option <code>--mainsDEnergie</code>. D'autre part, ajouter l'option <code>--magique</code> \xE0 toutes les attaques \xE0 mains nues.</li>
                  <li><strong>Pression mortelle</strong> : utiliser l'option <code>--pointsVitaux</code> pour ne pas infliger imm\xE9diatement les d\xE9g\xE2ts, et l'option <code>--pressionMortelle</code> pour lib\xE9rer les d\xE9g\xE2ts.</li>
                  <li><strong>Invuln\xE9rable</strong>: utiliser un <a href=#predicats>pr\xE9dicat</a> <code>invulnerable</code></li>
                  <li><strong>Projection du ki</strong> : ajouter simplement l'attaque sur la fiche, et utiliser le type d'attaque <code>Sortilege</code> et le type de d\xE9g\xE2ts <code>magique</code>.</li>
                  <li><strong>Asc\xE9tisme</strong> : noter la constitution comme une caract\xE9ristique sup\xE9rieure sur la fiche.</li>
                </ol>
                <h4 class="text-secondary">Voie de la ma\xEEtrise</h4>
                <ol>
                  <li><strong>Esquive du singe</strong> : mettre \xE0 jour la d\xE9fense sur la fiche, et ajouter une comp\xE9tence <code>acrobatie</code> avec le bonus donn\xE9 par la capacit\xE9.</li>
                  <li><strong>Morsure du serpent</strong> : pour ne pas avoir \xE0 modifier les chances de critique pour toutes les attaques au contact, utiliser un <a href=#predicats>pr\xE9dicat</a> <code>morsureDuSerpent</code>. Attention \xE0 ne pas faire \xE7a ET modifier les chances de critiques de l'attaque, car \xE7a s'additionne. (En revanche, pas de soucis avec la science du critique).</li>
                  <li><strong>Griffes du tigre</strong> : rajouter l'option <code>--explodeMax</code> aux attaques \xE0 mains nues.</li>
                  <li><strong>Fureur du dragon</strong> : Cr\xE9er une action : <code>!cof-explosion Fureur du dragon --auto --portee 0 --disque 1 --saufAllies --dm 2D6+[[@{selected|FOR}]] --etat renverse --save FOR 10 --limiteParCombat 1 fureurDuDragon</code></li>
                  <li><strong>Moment de perfection</strong> : <code>!cof-effet-temp momentDePerfection 1 --limiteParCombat 1</code></li>
                </ol>
                <h4 class="text-secondary">Voie de la m\xE9ditation</h4>
                <ol>
                  <li><strong>Pacifisme</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>pacifisme</code>. Il est possible d'y associer une valeur pour appliquer un bonus \xE0 la d\xE9fense diff\xE9rent de 5.</li>
                  <li><strong>Transe de gu\xE9rison</strong> : <code>!cof-transe-guerison</code></li>
                  <li><strong>Ma\xEEtrise du ki</strong> : adapter les valeurs de DEF et init</li>
                  <li><strong>Projection mentale</strong> : aucun support</li>
                  <li><strong>Sagesse h\xE9ro\xEFque</strong> : reporter sur la fiche</li>
                </ol>
                <h4 class="text-secondary">Voie du poing</h4>
                <ol>
                  <li><strong>Poings de fer</strong> : simplement enlever le <code>--tempDmg</code> et ajuster les d\xE9g\xE2ts</li>
                  <li><strong>Parade de projectiles</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>paradeDeProjectiles</code>. Le script proposera automatiquement un bouton pour parer l'attaque dans les cas appropri\xE9s.</li>
                  <li><strong>Peau de fer</strong> : ajuster la DEF sur la fiche.</li>
                  <li><strong>D\xE9luge de coups</strong> : le MJ g\xE8re le nombre d'attaques. Pour les attaques au d12, utiliser l'option <code>--avecd12</code>.</li>
                  <li><strong>Puissance du ki</strong> : utiliser les options <code>--avecd12crit --plus 2d6</code>.</li>
                </ol>
                <h4 class="text-secondary">Voie du vent</h4>
                <ol>
                  <li><strong>Pas du vent</strong> : un pr\xE9dicat <code>pasDuVent</code> avec comme valeur le rang dans la voie permet d'augmenter automatiquement l'initiative. Pour le reste, il n'y a pas de support particulier.</li>
                  <li><strong>Course du vent</strong> : g\xE9r\xE9 par le MJ.</li>
                  <li><strong>Course des airs</strong> : pas de support.</li>
                  <li><strong>L\xE9vitation</strong> : pas de support.</li>
                  <li><strong>Passe-muraille</strong> : pas de support.</li>
                </ol>
              </div>
              <h3 class="text-info" id="Necromancien">N\xE9cromancien</h3>
              <div class="decalage">
                <h4 class="text-secondary">Voie du d\xE9mon</h4>
                <ol>
                  <li><strong>Mal\xE9diction</strong> :
                    <ul>
                      <li>Sort : Ajouter une attaque sur la fiche utilisant l'attaque magique, port\xE9e 20, type Sortil\xE8ge, modificateurs <code>pasDeDmg malediction</code>, options <code>--mana 0</code>.</li>
                      <li>Objet de sort : <code>#Attaque Mal\xE9diction --toucher [[@{selected|ATKMAG}]] --pasDeDmg --portee 20 --sortilege --malediction</code></li>
                    </ul>
                  </li>
                  <li>
                    <strong>Aspect de la succube</strong> :
                    <ul>
                      <li><code>!cof-effet-temp aspectDeLaSuccube [[5+@{selected|INT}]] --mana 0</code> pour lancer le sort</li>
                      <li>Ajouter une attaque sur la fiche utilisant l'attaque magique, dommages 1d4+CHA, port\xE9e 0, type Sortil\xE8ge, d\xE9g\xE2ts de drain, options <code>--si etat aspectDeLaSuccube</code>.</li>
                      <li>Pour un objet de sort, le code sera <code>#Attaque Attaque de la succube --toucher [[@{selected|ATKMAG}]] --dm 1d4+[[@{selected|CHA}]] --magique --portee 0 --sortilege --si etat aspectDeLaSuccube --drain</code></li>
                    </ul>
                  </li>
                  <li><strong>Pacte sanglant</strong> : cr\xE9er un <a href=#predicats>pr\xE9dicat</a> <code>pacteSanglant</code> de valeur 3 (rang 3) ou 5 (rang 5). Le script va automatiser l'ajout de boutons sur tous les tests <i>a posteriori</i>, y compris sur les attaques qui ciblent le personnage. Aux joueurs de s'accorder sur la n\xE9cessit\xE9 d'une d\xE9claration <i>a priori</i> n\xE9cessaire pour l'utilisation de la capacit\xE9.</li>
                  <li><strong>Aspect du d\xE9mon</strong> :
                    <ul>
                      <li><code>!cof-effet-temp aspectDuDemon [[5+@{selected|INT}]] --mana 2</code> pour lancer le sort</li>
                      <li>Ajouter une attaque sur la fiche utilisant l'attaque magique, dommages 1d6+4, port\xE9e 0, type Sortil\xE8ge, d\xE9g\xE2ts magiques, options <code>--si etat aspectDuDemon</code></li>
                      <li>Pour un objet de sort, l'attaque pourra avoir le code <code>#Attaque Attaque du d\xE9mon --toucher [[@{selected|ATKMAG}]] --dm 1d6+4 --magique --portee 0 --sortilege --si etat aspectDuDemon</code></li>
                    </ul>
                  </li>
                  <li><strong>Invocation d'un d\xE9mon</strong> : <code>!cof-invoquer-demon @{selected|token_id} --mana 3</code></li>
                </ol>
                <h4 class="text-secondary">Voie de la mort</h4>
                <ol>
                  <li><strong>Siphon des \xE2mes</strong> : ajouter un pr\xE9dicat <code>siphonDesAmes</code>. Par d\xE9faut, si il y a plusieurs personnages avec ce pouvoir, tous vont siphoner les \xE2mes sans interaction. Mais il est possible de d\xE9clarer un ordre de priorit\xE9, telle que si les personnages de plus haute priorit\xE9 ont siphon\xE9 tous les points de vie qu'ils pouvaient, il ne reste rien \xE0 siphoner pour les autre. Pour se faire, utilisez un pr\xE9dicat <code>siphonDesAmesPrioritaire</code> avec la valeur num\xE9rique de la priorit\xE9 (0 par d\xE9faut, plus la valeur est grande, plus le personnage est prioritaire).</li>
                  <li><strong>Masque mortuaire</strong> : <code>!cof-effet-temp masqueMortuaire [[5+@{selected|INT}]] --mana 0</code></li>
                  <li><strong>Baiser du vampire</strong> :
                    <ul>
                      <li>Sort : Ajouter une attaque sur la fiche utilisant l'attaque magique, dommages 1d8+INT, port\xE9e 50, type Sortil\xE8ge, d\xE9g\xE2ts de drain, options <code>--mana 1 --seulementVivant</code>.</li>
                      <li>Objet de sort : <code>#Attaque Baiser du vampire --toucher [[@{selected|ATKMAG}]] --dm 1d8+[[@{selected|INT}]] --portee 50 --sortilege --drain --seulementVivant</code></li>
                    </ul>
                  </li>
                  <li><strong>Briser les coeurs</strong> :
                    <ul>
                      <li>Sort : Ajouter une attaque sur la fiche utilisant l'attaque magique, dommages 5d6+INT, port\xE9e 20, type Sortil\xE8ge, modificateurs <code>seulementVivant necromancie</code>, options <code>--mana 2 --psave CON [[10+@{selected|INT}]] tempete 2</code>.</li>
                      <li>Objet de sort : <code>#Attaque Briser les coeurs --toucher [[@{selected|ATKMAG}]] --dm 5d6+[[@{selected|INT}]] --portee 20 --sortilege --psave CON [[10+@{selected|INT}]] tempete 2 --seulementVivant --necromancie</code></li>
                    </ul>
                    \xC0 noter que la partie <code>tempete 2</code> impl\xE9mente une chose qui n'est pas dans les r\xE8gles, \xE0 savoir augmenter la difficult\xE9 du test de constitution de 2 par point de mana investi en temp\xEAte de mana intense. Je trouvais en effet que sans cet ajout, \xE0 mana \xE9gale, le sort \xE9tait moins int\xE9ressant que le baiser du vampire. Il reste moins fort et plus situationnel que la d\xE9sint\xE9gration du magicien (\xE0 mana \xE9gale), m\xEAme avec ce changement.
                  </li>
                  <li><strong>Mot de mort</strong> :
                    <ul>
                      <li>Sort : Ajouter une attaque sur la fiche utilisant l'attaque magique, port\xE9e 10, type Sortil\xE8ge, modificateurs <code>pasDeDmg necromancie difficultePV</code>, options <code>--mana 3 --etat mort --save CON [[10+@{selected|INT}]] tempete 2</code>.</li>
                      <li>Objet de sort : <code>#Attaque Mot de mort --toucher [[@{selected|ATKMAG}]] --pasDeDmg --portee 20 --sortilege --necromancie --difficultePV --etat mort --save CON [[10+@{selected|INT}]] tempete 2</code></li>
                    </ul>
                    Comme pour <strong>Briser les coeurs</strong>, je pense qu'on peut augmenter la difficult\xE9 du jet de r\xE9sistance avec la puissance de la temp\xEAte de mana.
                  </li>
                </ol>
                <h4 class="text-secondary">Voie de l'outre-tombe</h4>
                <ol>
                  <li><strong>Peur</strong> :
                    <ul>
                      <li>Sort : Ajouter une attaque sur la fiche utilisant l'attaque magique, port\xE9e 20, type Sortil\xE8ge, modificateurs <code>pasDeDmg</code>, options <code>--mana 0 --peur [[10+@{selected|INT}]] [[1d4+<i>r</i>]]</code>o\xF9 <i>r</i> est le rang dans la voie</li>
                      <li>Objet de sort : <code>#Attaque Peur --toucher [[@{selected|ATKMAG}]] --pasDeDmg --portee 20 --sortilege --peur [[10+@{selected|INT}]] [[1d4+<i>r</i>]]</code>o\xF9 <i>r</i> est le niveau de l'objet</li>
                    </ul>
                  </li>
                  <li><strong>Animation d'un mort-vivant</strong> : <code>!cof-animer-mort @{selected|token_id} --mana 0</code>. Cela met directement le n\xE9cromant et le zombie en combat. Les Zombies perdent automatiquement 1 PV tous les 6 rounds. Lorsqu'ils atteignent 0 PV (quelle qu'en soit la raison) ou \xE0 la fin du combat, ils sont automatiquement d\xE9truits et supprim\xE9s. Si le lanceur a un <a href=#predicats>pr\xE9dicat</a> <code>voieOutreTombe</code>, le script g\xE8re le maximum de zombies qu'il peut invoquer. Mana, consommables et limites sont g\xE9r\xE9es, mais pas Temp\xEAte de Mana.</li>
                  <li><strong>Putr\xE9faction</strong> :
                    <ul>
                      <li>Sort : Ajouter une attaque sur la fiche utilisant l'attaque magique, dommages 1d6+INT, port\xE9e 10, type Sortil\xE8ge, modificateurs <code>necromancie</code>, options <code>--mana 1 --effet putrefactionOutreTombe --save CON [[12+@{selected|INT}]]</code></li>
                      <li>Objet de sort : <code>#Attaque Putr\xE9faction --toucher [[@{selected|ATKMAG}]] --dm 1d6+[[@{selected|INT}]] --portee 10 --sortilege --necromancie --effet putrefactionOutreTombe --save CON [[12+@{selected|INT}]]</code></li>
                    </ul>
                  </li>
                  <li><strong>Ensevelissement</strong> :
                    <ul>
                      <li>Sort : Ajouter une attaque sur la fiche utilisant l'attaque magique, port\xE9e 20, type Sortil\xE8ge, modificateurs <code>pasDeDmg necromancie</code>, options <code>--mana 2 --etat enseveli FORDEX [[13+@{selected|INT}]]</code></li>
                      <li>Objet de sort : <code>#Attaque Ensevelissement --toucher [[@{selected|ATKMAG}]] --pasDeDmg --portee 20 --sortilege --necromancie --etat enseveli FORDEX [[13+@{selected|INT}]]</code></li>
                    </ul>
                    Les d\xE9g\xE2ts sont inflig\xE9s au d\xE9but de chaque tour, et la cible recevra \xE0 son initiative un bouton lui permettant d'effectuer le jet pour sortir. Elle pourra \xE9galement ajouter un bonus manuel au jet, en fonction des actions r\xE9alis\xE9es pour l'aider \xE0 sortir.
                  </li>
                  <li><strong>Arm\xE9e des morts</strong> : <code>!cof-effet-temp armeeDesMorts @{selected|niveau} --limiteParJour 1 --mana 3</code>. La zone couverte est symbolis\xE9e par l'activation d'une aura sur le token du lanceur. Le script utilisera pour cela l'aura 2 du token, donc attention si vous l'utilisez d\xE9j\xE0 sur le token du lanceur, elle sera \xE9cras\xE9e. Toute cible (le script ignore les alli\xE9s du lanceur) qui s'active dans une zone couverte par une arm\xE9e recevra dans ses actions un bouton sp\xE9cial pour se d\xE9fendre. Les d\xE9g\xE2ts sont inflig\xE9s automatiquement en d\xE9but de tour. En option, le script support l'argument <code>--puissant</code> des r\xE8gles de Mana de base, qui doublent la surface couverte (rayon 28m). Il est aussi possible d'utiliser l'option de Temp\xEAte de Mana ; la surface couverte sera multipli\xE9e par le nombre de PM investis en Magie Intense. Les adversaires avec un pr\xE9dicat <code>volant</code> ne seront pas affect\xE9s.</li>
                </ol>
                <h4 class="text-secondary">Voie du sang</h4>
                <ol>
                  <li><strong>Saignements</strong> :
                    <ul>
                      <li>Sort : Ajouter une attaque sur la fiche utilisant l'attaque magique, port\xE9e 10, type Sortil\xE8ge, modificateurs <code>pasDeDmg necromancie</code>, options <code>--mana 0 --effet saignementsSang <i>rang</i></code>, o\xF9 <i>rang</i> est le rang dans la Voie</li>
                      <li>Objet de sort : <code>#Attaque Saignements --toucher [[@{selected|ATKMAG}]] --pasDeDmg --portee 10 --sortilege --necromancie --effet saignementsSang <i>rang</i></code>, o\xF9 <i>rang</i> est le niveau de l'objet</li>
                    </ul>
                    Si vous souhaitez que le saignement ne puisse pas \xEAtre appliqu\xE9 \xE0 certains personnages (comme des golems ou des squelettes), vous pouvez leur ajouter un <a href=#predicats>pr\xE9dicat</a> <code>immuniteSaignement</code>.
                  </li>
                  <li><strong>Sang mordant</strong> : <code>!cof-effet-temp sangMordant [[5+@{selected|INT}]] --mana 0</code>.</li>
                  <li><strong>Exsangue</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>exsangue</code>.</li>
                  <li><strong>H\xE9morragie</strong> :
                    <ul>
                      <li>Sort : Ajouter une attaque sur la fiche utilisant l'attaque magique, port\xE9e 10, type Sortil\xE8ge, modificateurs <code>pasDeDmg necromancie</code>, options <code>--mana 2 --effet hemorragie [[5+@{selected|INT}]]</code></li>
                      <li>Objet de sort : <code>#Attaque H\xE9morragie --toucher [[@{selected|ATKMAG}]] --pasDeDmg --portee 10 --sortilege --necromancie --effet hemorragie [[5+@{selected|INT}]]</code></li>
                    </ul>
                  </li>
                  <li><strong>Lien de sang</strong> :
                    <ul>
                      <li>Sort : Ajouter une attaque sur la fiche utilisant l'attaque magique, port\xE9e 20, type Sortil\xE8ge, modificateurs <code>pasDeDmg necromancie</code>, options <code>--mana 3 --effet lienDeSang [[5+@{selected|INT}]]</code></li>
                      <li>Objet de sort : <code>#Attaque Lien de sang --toucher [[@{selected|ATKMAG}]] --pasDeDmg --portee 20 --sortilege --necromancie --effet lienDeSang [[5+@{selected|INT}]]</code></li>
                    </ul>
                    Pas de support pour le lancement de sort sans ligne de vue.
                  </li>
                </ol>
                <h4 class="text-secondary">Voie de la sombre magie</h4>
                <p style="margin-top:0px; margin-bottom:0px">Ajouter sur la fiche une comp\xE9tence <code>Occultisme</code> avec en bonus 2 fois le rang dans cette voie.</p>
                <ol>
                  <li><strong>T\xE9n\xE8bres</strong> : <code>!cof-tenebres @{selected|token_id} @{target|token_id} --mana 0</code>. La commande pose un token transparent avec une aura noire visible par les joueurs pour visualiser la zone, et une petite aura jaune visible uniquement par le MJ (pour s\xE9lectionner le token si n\xE9cessaire). Tous les tokens pr\xE9sents dans la zone au lancement du sort sont automatiquement aveugl\xE9s. Au MJ ensuite d'enlever l'\xE9tat aveugl\xE9 quand les cibles sortent de la zone. A la fin de la dur\xE9e du sort, ou \xE0 la fin du combat, la zone et les \xE9tats aveugl\xE9s restant disparaissent automatiquement. Il est aussi possible de changer les valeurs par d\xE9faut du sort (port\xE9e 20m, rayon 5m) avec les options <code>--portee X</code> et <code>--rayon X</code>. En r\xE8gle custom, l'option <code>puissant</code> permet de doubler la superficie couverte (le script calcule le rayon appropri\xE9 si custom).</li>
                  <li><strong>Pattes d'araign\xE9es</strong> : <code>!cof-lancer-sort peut se d\xE9placer sur les murs pendants [[5+@{selected|INT}]] tours --mana 0</code></li>
                  <li><strong>Strangulation</strong> : Le script va v\xE9rifier que la cible est bien vivante, en se basant sur la race, et sinon sur la pr\xE9sence \xE9ventuelle d'un <a href=#predicats>pr\xE9dicat</a> <code>nonVivant</code>.
                    <ul>
                      <li>Ajouter une attaque sur la fiche utilisant l'attaque magique, dommages 1d6+INT, port\xE9e 20, type Sortil\xE8ge, d\xE9g\xE2ts magiques, modificateurs <code>necromancie</code>, options <code>--mana 1 --effet strangulation <i>rang</i></code></li>
                      <li><code>!cof-strangulation @{selected|token_id} @{target|token_id}</code> pour maintenir la strangulation</li>
                      <li>Pour un objet de sort, le code de l'attaque sera <code>#Attaque Strangulation --toucher [[@{selected|ATKMAG}]] --dm 1d6+[[@{selected|INT}]] --magique --portee 20 --sortilege --effet strangulation <i>rang</i></code></li>
                    </ul>
                  </li>
                  <li><strong>Ombre mortelle</strong> : <code>!cof-ombre-mortelle @{selected|token_id} @{target|token_id} [[3+@{selected|INT}]] --portee 20 --mana 2</code> va cr\xE9er un double de la cible, (\xE0 condition de disposer de 2 points de mana) et ajouter ce double \xE0 l'initiative. Au MJ ensuite de la faire attaquer \xE0 son tour (pas d'aoe, juste attaquer le token dont elle est l'ombre). Le token dispara\xEEt lorsque le nombre de tours est \xE9coul\xE9. Il est possible de choisir l'image utilis\xE9e pour repr\xE9senter l'ombre en passant l'url de l'image avec l'option <code>--image</code>.</li>
                  <li><strong>Intelligence h\xE9ro\xEFque</strong> : utiliser la fiche</li>
                </ol>
              </div>
              <h3 class="text-info" id="Pretre">Pr\xEAtre</h3>
              <div class="decalage">
                <h4 class="text-secondary">Voie de la foi</h4>
                <ol>
                  <li><strong>Parole divine</strong> : ajouter une comp\xE9tence <code>convaincre</code>, de valeur 2 fois le rang dans la voie, et ajouter cette comp\xE9tence dans la liste.</li>
                  <li>
                    <strong>Arme d'argent</strong> :
                    <ul>
                      <li>Pour attaquer avec l'arme d'argent, faire l'attaque avec les DM appropri\xE9s, les modificateurs <code>armeDArgent, magique</code> et l'option <code>--si etat armeDArgent</code>.</li>
                      <li><code>!cof-effet-combat armeDArgent --mana 0</code> pour lancer le sort. Vous pouvez ajouter l'option <code>--degainer <i>L</i></code> (o\xF9 <i>L</i> est le label de l'attaque avec l'arme d'argent) si vous souhaitez que le pr\xEAtre puisse prendre l'arme en main dans le m\xEAme tour.</li>
                    </ul>
                  </li>
                  <li><strong>Ailes c\xE9lestes</strong> : <code>!cof-effet-temp ailesCelestes [[5+@{selected|SAG}]] --mana 1</code>.</li>
                  <li><strong>Foudres divines</strong> :
                    <ul>
                      <li>Sort : Ajouter une attaque sur la fiche utilisant l'attaque magique, dommages 1d6+SAG, port\xE9e 10, type Sortil\xE8ge, d\xE9g\xE2ts \xE9lectrique, modificateur <code>saufAllies</code>, option <code>--mana 2</code>. D\xE9cochez cette attaque, car elle sera appel\xE9e de mani\xE8re sp\xE9ciale : si le label de ce sort est <code><i>L</i></code>, il ne vous reste plus qu'\xE0 faire une action avec <code>!cof-explosion <i>L</i></code>.</li>
                      <li>Objet de sort : <code>!cof-explosion Foudres divines --toucher [[@{selected|ATKMAG}]] --dm 1d6+[[@{selected|SAG}]] --electrique --sortilege --portee 10 --saufAllies</code></li>
                    </ul>
                  </li>
                  <li><strong>Charisme h\xE9ro\xEFque</strong> : reporter les bonus sur la fiche</li>
                </ol>
                <h4 class="text-secondary">Voie de la guerre sainte</h4>
                <ol>
                  <li><strong>Arme b\xE9nie</strong> : utiliser les modificateurs <code>reroll1</code>, <code>beni</code> et <code>magique</code> \xE0 l'attaque</li>
                  <li><strong>Bouclier de la foi</strong> : ajouter un pr\xE9dicat <code>bouclierDeLaFoi</code>, de valeur le bonus en DEF. Ce bonus sera automatiquement ajout\xE9 quand le pr\xEAtre porte son bouclier.</li>
                  <li><strong>Marteau sprirituel</strong> :
                    <ul>
                      <li>Sort : Ajouter une attaque sur la fiche utilisant l'attaque magique, dommages 1d8+SAG, port\xE9e 30, type Sortil\xE8ge, options <code>--mana 1</code></li>
                      <li>Objet de sort : <code>#Attaque Marteau sprirituel --toucher [[@{selected|ATKMAG}]] --dm 1d8+[[@{selected|SAG}]] --portee 30 --sortilege</code></li>
                    </ul>
                  </li>
                  <li><strong>Ch\xE2timent divin</strong> : Ajoutez dans la <a href="#actions_du_tour">actions du tour</a> une action nomm\xE9e <code>Ch\xE2timent divin</code>, de code <code>#Attaque -1 --bonusAttaque [[@{selected|SAG}]] --plus [[@{selected|SAG}]]</code>.</li>
                  <li><strong>Mot de pouvoir</strong> : <code>!cof-effet-temp etourdi 1 --lanceur @{selected|token_id} --enVue --saufAllies --message @{selected|token_name} prononce un mot avec la voix de son dieu --mana 3</code></li>
                </ol>
                <h4 class="text-secondary">Voie de la pri\xE8re</h4>
                <ol>
                  <li><strong>B\xE9n\xE9diction</strong> : <code>!cof-effet-temp benediction [[3+@{selected|SAG}]] --alliesEnVue --self --mana 0</code>. Il faut avoir d\xE9fini une <a href="#allie">\xE9quipe</a> avec le pr\xEAtre.</li>
                  <li><strong>Destruction des morts-vivants</strong> : <code>!cof-destruction-des-morts-vivants 2d6 --mana 0</code>. Au rang 4 dans la voie, ajuster les d\xE9g\xE2ts. Notez que le script consid\xE8re comme mort-vivant tout personnage avec le champ race \xE0 <code>squelette</code>, <code>zombie</code>, <code>momie</code>, <code>goule</code>,<code>vampire</code> ou <code>mort-vivant</code>, ou alors qui poss\xE8de un <a href=#predicats>pr\xE9dicat</a> <code>mortVivant</code>. Pour \xE9viter la r\xE9p\xE9tition abusive du sort, vous pouvez augmenter la difficult\xE9 \xE0 chaque fois que le sort est r\xE9ussi pendant un m\xEAme combat, avec l'option <code>--malusRepetition <i>m</i></code>. Un mort-vivant ayant le pr\xE9dicat <code>immunite_destruction</code> ne sera pas affect\xE9 par ce sort.</li>
                  <li><strong>Sanctuaire</strong> : <code>!cof-effet-temp sanctuaire [[5+@{selected|SAG}]] --mana 1</code>.</li>
                  <li><strong>Intervention Divine</strong> : ajouter au personnage un <a href=#predicats>pr\xE9dicat</a> <code>interventionDivine</code>. Ensuite, utiliser <code>!cof-intervention-divine ?{Type ?|rate|touche}</code> juste apr\xE8s l'attaque en s\xE9lectionnant le token du Pr\xEAtre pour modifier le r\xE9sultat selon le choix. Il est tr\xE8s pratique de mettre cette commande dans une Ability \xE0 afficher en Token Action. Ne supporte que le jet de touche de la derni\xE8re attaque effectu\xE9e.</li>
                  <li><strong>Sagesse h\xE9ro\xEFque</strong> : Reporter les bonus sur la fiche.</li>
                </ol>
                <h4 class="text-secondary">Voie des soins</h4>
                <p style="margin-top:0px; margin-bottom:0px">Ajouter un <a href=#predicats>pr\xE9dicat</a> <code>voieDesSoins</code> avec comme valeur le rang dans la voie.</p>
                <ol>
                  <li><strong>Soins l\xE9gers</strong> : <code>!cof-soin @{selected|token_id} @{target|token_id} leger --mana 0</code>. Vous pouvez rajouter un petit effet visuel, par exemple avec <code>--targetFx bubbling-holy</code>. \xC0 titre personnel, j'ajoute <code>--depasseLimite 1</code> pour permettre de lancer plus de sorts de soins l\xE9ger en une journ\xE9e (mais avec une augmentation cumulative du co\xFBt en mana de 1 \xE0 chaque d\xE9passement).</li>
                  <li><strong>Soins mod\xE9r\xE9s</strong> : <code>!cof-soin @{selected|token_id} @{target|token_id} modere --mana 0</code>.</li>
                  <li><strong>Soins de groupe</strong> : <code>!cof-soin @{selected|token_id} groupe --mana 1</code> (ne pas oublier de d\xE9finir des <a href="#allie">alli\xE9s</a>). Attention, toutefois, le sort ne va pas automatiquement soigner les personnages not\xE9s comme morts, ce qui est le cas g\xE9n\xE9ral si ils sont tomb\xE9s \xE0 0 PV. Si certains alli\xE9s not\xE9s morts ne sont pas vraiment morts, mais juste inconscient, il faudra que le MJ fasse la mise \xE0 jour de l'\xE9tat et des PV lui-m\xEAme.</li>
                  <li><strong>Gu\xE9rison</strong> : <code>!cof-guerison @{selected|token_id} @{target|token_id} --portee 0 --limiteParJour 1 --mana 2</code>. Pour l'instant \xE7a ne fait que remettre les points de vie au maximum.</li>
                  <li><strong>Rappel \xE0 la vie</strong> : pas de suport, simplement faire <code>!cof-lancer-sort Rappel \xE0 la vie --mana 3 --limiteParJour 1 rappelALaVie</code>.</li>
                </ol>
                <h4 class="text-secondary">Voie de la spiritualit\xE9</h4>
                <ol>
                  <li><strong>V\xEAtements sacr\xE9s</strong> : Ajouter un <a href=#predicats>pr\xE9dicat</a> <code>vetementsSacres</code> avec comme valeur le rang dans la voie de la spiritualit\xE9. Cela augmente la DEF, mais seulement lorsque le pr\xEAtre ne porte pas d'armure (ne se voit pas sur le total de DEF de la fiche)</li>
                  <li><strong>Protection contre le mal</strong> : <code>!cof-effet-combat protectionContreLeMal --lanceur @{selected|token_id} --target @{target|token_id} --portee 0 --mana 0</code>. Donne le bonus contre toute cr\xE9ature dont l'attribut <code>race</code> est <code>squelette</code>, <code>zombie</code>, <code>d\xE9mon</code>, <code>\xE9l\xE9mentaire</code>, ou bien qui poss\xE8de un <a href=#predicats>pr\xE9dicat</a> <code>mauvais</code>.</li>
                  <li><strong>D\xE9livrance</strong> : <code>!cof-delivrance @{selected|token_id} @{target|token_id} --portee 0 --mana 1</code></li>
                  <li><strong>Marche des plans</strong> : <code>!cof-lancer-sort marche entre les plans (il peut se d\xE9placer de [[(3+@{selected|SAG})*10]] km) --mana 2</code>.</li>
                  <li><strong>Messie</strong> : pas d'autre support que <code>!cof-lancer-sort entre directement en contact avec son dieu pour r\xE9aliser un miracle --mana 3</code></li>
                </ol>
              </div>
              <h3 class="text-info" id="Psionique">Psionique</h3>
              <div class="decalage">
                <h4 class="text-secondary">Voie de l'attaque mentale</h4>
                <ol>
                  <li><strong>Attaque mentale</strong> : faire 2 attaques, une pour les DMs l\xE9taux, avec les options <code>--sortilege --attaqueMentale --mana 0</code> et l'autre avec l'option suppl\xE9mentaire <code>--tempDmg</code> (et en ajustant les DM).</li>
                  <li><strong>Bouclier psi</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>bouclierPsi</code>.</li>
                  <li><strong>Attaque \xE9tourdissante</strong> : faire une attaque mentale, avec les options <code>--avecd12 --if moins niveau --if etatCible bouclierPsi --effet etourdi 1 --save CHA [[8+@{selected|CHA}]] --else --effet etourdi 1 --endif --endif --mana 1</code>.</li>
                  <li><strong>Vague psionique</strong> : faire les attaques mentales sur toutes les cibles. En cas d'utilisation avec la Mana, le plus simple est de faire deux ability :
                    <ul>
                      <li><code>!cof-lancer-sort lance une vague psychique --mana 2</code> qui lance le sort (pratique pour y mettre votre d\xE9pense de Mana unique)</li>
                      <li>Une ability qui permet de faire une attaque mentale (sans d\xE9pense de Mana)</li>
                    </ul>
                  </li>
                  <li><strong>Ego h\xE9ro\xEFque</strong> : reporter les bonus sur la fiche</li>
                </ol>
                <h4 class="text-secondary">Voie du contr\xF4le corporel</h4>
                <ol>
                  <li><strong>Proprioception</strong> : ajouter les PVs sur la fiche, et ajouter un <a href=#predicats>pr\xE9dicat</a> <code>proprioception</code>. </li>
                  <li><strong>Transe de r\xE9g\xE9n\xE9ration</strong> : ajoutez une ability <code>!cof-soin @{selected|token_id} 1d6+[[@{selected|niveau} + @{selected|CHA}]] --limiteParJour <i>rang</i> --mana 0 --message entre en transe de r\xE9g\xE9n\xE9ration pour [[2d6]] tours</code>.</li>
                  <li><strong>Contr\xF4le du m\xE9tabolisme</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>controleDuMetabolisme</code>. Ne pas modifier l'initiative, le bonus de charisme sera pris en compte par le script.</li>
                  <li><strong>Contr\xF4le sanguin</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>controleSanguin</code>. Le script immunise aux poison, aux effets saignements automatis\xE9s, et divise par deux les dommages des attaques avec <code>--vampirise</code>.</li>
                </ol>
                <h4 class="text-secondary">Voie de l'empathie</h4>
                <ol>
                  <li><strong>Perception extra-sensorielle</strong> : ajuster l'initiative et ajouter le bonus \xE0 une comp\xE9tence <code>perception</code> (pour les jets).</li>
                  <li><strong>D\xE9fense intuitive</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>defenseIntuitive</code>. Ne pas modifier la DEF sur la fiche, la sagesse sera automatiquement prise en compte.</li>
                  <li><strong>Perception du pass\xE9</strong> : <code>!cof-lancer-sort tente de percevoir le pass\xE9 --mana 1</code> pour lancer le sort. On peut faire le jet en utilisant <code>!cof-jet SAG 15</code>.</li>
                  <li><strong>Vision lointaine</strong> : pas de support autre que <code>!cof-lancer-sort projette son esprit \xE0 grande distance --mana 2</code>. Utiliser <code>!cof-jet SAG</code> pour les jets de sagesse.</li>
                  <li><strong>Perception h\xE9ro\xEFque</strong> : reporter les bonus sur la fiche</li>
                </ol>
                <h4 class="text-secondary">Voie de la t\xE9l\xE9kin\xE9sie</h4>
                <ol>
                  <li><strong>Manipulation \xE0 distance</strong> : pour les attaques \xE0 distance, le plus simple est d'utiliser une autre attaque en utilisant le score d'attaque magique et le bon modificateur de DMs.</li>
                  <li><strong>Champ de protection</strong> : pour l'effet de base, si vous suivez les r\xE8gles, ajustez simplement la DEF sur la fiche. Si vous pr\xE9f\xE9rez en faire un sort, vous pouvez utiliser la commande <code>!cof-effet-temp champDeProtection [[5+@{selected|CHA}]]</code>. La valeur par d\xE9faut est celle d'un <a href=#predicats>pr\xE9dicat</a> <code>voieDeLaTelekinesie</code>, et pour utiliser une autre valeur, on peut utiliser l'option <code>--valeur</code>. Pour le champ \xE0 distance, faire <code>!cof-effet-temp champDeProtection 1 --lanceur @{selected|token_id} --portee 10 --valeur <em>n</em> --target @{target|token_id}</code>. </li>
                  <li><strong>Onde de choc</strong> :
                    <ul>
                      <li>Sort : Ajouter une attaque sur la fiche dommages 1d8+CHA, port\xE9e 0, type Sortil\xE8ge, modificateurs <code>auto</code>, options <code>--mana 1 --disque ?{Port\xE9e (max 10) ?|10} --etat renverse --save FOR [[10+@{selected|CHA}]] --targetFx explode-magic</code>. D\xE9cochez cette attaque, et appelez la dans une action qui fait <code>!cof-explosion <i>l</i></code> o\xF9 <i>i</i> est le label de l'attaque.</li>
                      <li>Objet de sort : <code>!cof-explosion Onde de choc --auto --dm 1d8+[[@{selected|SAG}]] --portee 0 --sortilege --disque ?{Port\xE9e (max 10) ?|10} --etat renverse --save FOR [[10+@{selected|CHA}]] --targetFx explode-magic</code></li>
                    </ul>
                  </li>
                  <li><strong>Combat kin\xE9tique</strong> : cr\xE9er un <a href=#predicats>pr\xE9dicat</a> <code>combatKinetique</code>. Cela appliquera automatiquement la RD dans tous les cas o\xF9 le personnage est attaqu\xE9 par un adversaire et qu'il est conscient. Pour l'augmentation des dommages, reporter sur les attaques sur la fiche.</li>
                  <li><strong>Psychoportation</strong> : <code>!cof-lancer-sort s'\xE9l\xE8ve dans les airs pendant [[5+@{selected|INT}]] tours --mana 3</code>. Passer la FOR en caract\xE9ristique sup\xE9rieure via la fiche.</li>
                </ol>
                <h4 class="text-secondary">Voie de la t\xE9l\xE9pathie</h4>
                <ol>
                  <li><strong>T\xE9l\xE9pathie</strong> : pas de support autre que <code>!cof-lancer-sort communique par t\xE9l\xE9pathie pendant [[5+@{selected|SAG}]] tours --mana 0</code></li>
                  <li><strong>Radar mental</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>radarMental</code>, de valeur le bonus procur\xE9 par le radar mental (2 fois le rang dans la voie). En cas de surprise provoqu\xE9e par quelque chose de non-vivant penser \xE0 utiliser l'option <code>--nonVivant</code> dans <code>!cof-surprise</code>.</li>
                  <li><strong>Suggestion</strong> : Ajouter une attaque sur la fiche utilisant l'attaque magique, port\xE9e 20, type Sortil\xE8ge, modificateurs <code>pasDeDmg, difficultePVmax, attaqueMentale</code>, options <code>--si moins niveau --if touche --message la cible doit faire l'action sugg\xE9r\xE9e --endif</code>.</li>
                  <li><strong>Lire les pens\xE9es</strong>: faire une attaque de type sortil\xE8ge, port\xE9e 10 m, avec l'option <code>--difficulteCarac SAG --if touche --message lit les pens\xE9es de @{target|token_name} pendant [[1d6+@{selected|SAG}]] tours --endif</code>.</li>
                  <li><strong>Domination psy</strong> : faire une attaque de type sortil\xE8ge, port\xE9e 20 m, avec les modificateurs <code>dominationPsy</code>, <code>attaqueMentale</code> et <code>pasDeDmg</code>. </li>
                </ol>
              </div>
              <h3 class="text-info" id="R\xF4deur">R\xF4deur</h3>
              <div class="decalage">
                <h4 class="text-secondary">Voie de l'archer</h4>
                <ol>
                  <li><strong>Sens affut\xE9s</strong> : Cr\xE9ez un <a href=#predicats>pr\xE9dicat</a> <code>sensAffutes</code>. Cela va ajuster l'initiative (ne se voit pas sur la fiche), ainsi que les d\xE9g\xE2ts des arcs (attention \xE0 ne pas en plus le rajouter sur la fiche !).  Ajoutez ensuite le bonus aux comp\xE9tences <code>perception</code> et <code>vigilance</code> (ou cr\xE9ez-les).</li>
                  <li><strong>Tir aveugle</strong> : utiliser une attaque avec l'option <code>--tirAveugle</code>.</li>
                  <li><strong>Tir rapide</strong> : faire simplement deux attaques dans le tour</li>
                  <li><strong>Fl\xE8che de mort</strong> : faire l'attaque avec les options <code>--m2d20 --incrDmgCoef</code></li>
                  <li><strong>Dans le mille</strong> : faire l'attaque avec les options <code>--avecd12crit --plus 2d6</code></li>
                </ol>
                <h4 class="text-secondary">Voie du compagnon animal</h4>
                <ol>
                  <li><strong>Odorat</strong> : ajouter une comp\xE9tence <code>pistage</code>, de valeur 5 (ou augment\xE9e de 5)</li>
                  <li><strong>Surveillance</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>surveillance</code>, avec comme valeur le nom du compagnon (doit \xEAtre exactement le m\xEAme que celui du token du compagnon). Cela automatise l'initiative et le bonus aux jets de surprise, le reste se g\xE8re manuellement</li>
                  <li><strong>Combat</strong> : ajouter le loup sous contr\xF4le du joueur. Si vous souhaitez que le loup rentre en combat \xE0 chaque fois que le r\xF4deur entre en combat, ajoutez au r\xF4deur un <a href=#predicats>pr\xE9dicat</a> nomm\xE9 <code>entrerEnCombatAvec</code>, de valeur le nom du token du loup.</li>
                  <li><strong>Empathie animale</strong> : pour soigner, utiliser <code>!cof-soin @{selected|token_id} <i>nom_familier</i> ?{Montant des soins} --transfer</code></li>
                  <li><strong>Animal fabuleux</strong> : ajuster les caract\xE9ristiques du loup</li>
                </ol>
                <h4 class="text-secondary">Voie de l'escarmouche</h4>
                <ol>
                  <li><strong>Chasseur \xE9m\xE9rite</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>chasseurEmerite</code>. Puis, si dans le profil (attribut <code>profil</code>) de la cible, il y a <code>animal</code> (ou si la cible a un pr\xE9dicat <code>animal</code>), le bonus s'applique. Ajouter aussi le bonus \xE0 une comp\xE9tence <code>pistage</code>.</li>
                  <li><strong>Traquenard</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>traquenard</code>, puis option <code>--traquenard</code> pour l'attaque. Pour une utilisation pratique, le mieux est de faire une attaque d'arme en main avec l'option : <code>#Attaque -1 --traquenard</code>.</li>
                  <li><strong>Attaque \xE9clair</strong> : <code>--plus [[@{selected|DEX}]] --bonusAttaque [[@{selected|DEX}]]</code></li>
                  <li><strong>Repli</strong> : simplement faire un jet en utilisant par exemple <code>!cof-jet DEX 10</code>, et d\xE9crire le r\xE9sultat.</li>
                  <li><strong>Dext\xE9rit\xE9 h\xE9ro\xEFque</strong> : reporter sur la fiche.</li>
                </ol>
                <h4 class="text-secondary">Voie de la survie</h4>
                <ol>
                  <li><strong>Endurant</strong> : ajouter une comp\xE9tence <code>survie</code>, de caract\xE9ristique CON, avec le bonus 2xrang dans la Voie.</li>
                  <li><strong>Nature nourrici\xE8re</strong> : pour la recherche d'herbes, ajouter un <a href=#predicats>pr\xE9dicat</a> <code>voieDeLaSurvie</code> avec comme valeur le rang du personnage dans la voie. On peut utiliser <code>!cof-nature-nourriciere</code> pour lancer la recherche. Cela cr\xE9e automatiquement les doses de plantes m\xE9dicinales dans les consommables du personnage. Ces doses sont supprim\xE9es toutes les nuits. Pour les besoins d'un personnage, j'ai aussi donn\xE9 la possibilit\xE9 de trouver des baies magiques \xE0 la place des herbes m\xE9dicinales. Pour cela, il faut un <a href=#predicats>pr\xE9dicat</a> <code>natureNourriciereBaies</code>.</li>
                  <li><strong>Grand pas</strong> : ajouter les comp\xE9tences <code>natation</code> et <code>escalade</code>, de valeur 5.</li>
                  <li><strong>Increvable</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>increvable</code>.</li>
                  <li><strong>Constitution h\xE9ro\xEFque</strong> : reporter les bonus sur la fiche</li>
                </ol>
                <h4 class="text-secondary">Voie du traqueur</h4>
                <ol>
                  <li><strong>Pas de loup</strong> : ajouter le bonus \xE0 une comp\xE9tence <code>discr\xE9tion</code>.</li>
                  <li><strong>Ennemi jur\xE9</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>ennemiJure</code> avec comme valeur la race des ennemis. Cette race doit se retrouver dans le champ race de l'ennemi. Le script reconnait aussi le type <code>mort-vivant</code> (tout en minuscules) et dans ce cas va d\xE9terminer si la cible est un mort-vivant (pr\xE9dicat <code>mortVivant</code> ou race reconnue comme mort-vivant), ainsi que le type <code>g\xE9ant</code> (pour les g\xE9ants, ogres, trolls, etc.) et le type <code>gobelin</code>.</li>
                  <li><strong>Embuscade</strong> : en cas d'attaque sur les ennemis, les mettre tous surpris avec la commande <code>!cof-set-state surpris true</code></li>
                  <li><strong>Second ennemi jur\xE9</strong> : on peut renseigner une seconde race dans un nouveau pr\xE9dicat <code>ennemiJure</code>, ou alors le rajouter au pr\xE9dicat <code>ennemiJure</code> pr\xE9c\xE9dant, en la s\xE9parant de la premi\xE8re par une virgule (exemple : <code>ennemiJure:: orque, araign\xE9e</code>, sans rien ensuite sur la ligne)</li>
                  <li><strong>Perception h\xE9ro\xEFque</strong> : reporter les bonus sur la fiche</li>
                </ol>
              </div>
              <h3 class="text-info" id="Samoura\xEF">Samoura\xEF</h3>
              <div class="decalage">
                <h4 class="text-secondary">Voie de l'arc et du cheval</h4>
                <ol>
                  <li><strong>Monture loyale</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>montureLoyale</code>. Pour la monture, il faut faire un personnage avec un <a href=#predicats>pr\xE9dicat</a> <code>monture</code>. Pour monter sur la monture, utiliser <code>!cof-en-selle @{selected|token_id} nom_de_la_monture</code>, et pour en descendre, il suffit de faire la m\xEAme commande (utiliser une ability "token action" rend cela assez facile \xE0 l'usage).</li>
                  <li><strong>Tir en mouvement</strong> : pas de support particulier.</li>
                  <li><strong>Tir fatal</strong> : ajouter un pr\xE9dicat <code>tirFatal</code>. Pour tenir compte du bonus suppl\xE9mentaire avec le rang dans la voie, ajouter un <a href=#predicats>pr\xE9dicat</a> <code>voieDeLArcEtDuCheval</code> de valeur le rang atteint dans cette voie. Si vous souhaitez que cette capacit\xE9 s'applique \xE0 une autre classe d'arme que les arcs, vous pouvez associer ce nom au pr\xE9dicat <code>tirfatal</code> (attention, sans accent). Par exemple, pour les arbal\xE8tes, <code>tirFatal:arbalete</code>.</li>
                </ol>
                <h4 class="text-secondary">Voie du dirigeant</h4>
                <ol>
                  <li><strong>\xC9duqu\xE9</strong> : simplement noter les bonus et comp\xE9tences sur la fiche.</li>
                  <li><strong>Homme de cour</strong> : ajouter une comp\xE9tence <code>\xE9tiquette</code>, de valeur 5.</li>
                  <li><strong>Lame de lign\xE9e</strong> : pas de support particulier pour l'arme, mais quand le samoura\xEF perd l'arme, vous pouvez utiliser la commande <code>!cof-effet lameDeLigneePerdue true</code> (avec le samoura\xEF s\xE9lectionn\xE9). Quand il la retrouve, utilisez <code>!cof-effet lameDeLigneePerdue false</code>.</li>
                </ol>
                <h4 class="text-secondary">Voie de l'honneur</h4>
                <ol>
                  <li><strong>Chef n\xE9</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>immunite_peur</code>, et des comp\xE9tences pour l'intimidation et commander.</li>
                  <li><strong>D\xE9fi</strong> : <code>!cof-defi-samourai @{selected|token_id} @{target|token_id} <i>bonus</i></code>. Le bonus en argument est optionnel. S'il n'est pas pr\xE9sent, le script utilise la valeur d'un <a href=#predicats>pr\xE9dicat</a> <code>voieDeLHonneur</code>.</li>
                  <li><strong>Honorable</strong> : pas de support particulier. </li>
                </ol>
                <h4 class="text-secondary">Voie du ki</h4>
                <ol>
                  <li><strong>Esprit vide</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>espritVide</code>. Si vous voulez un boonus diff\xE9rent (par exemple \xE0 partir du rang 4 dans la voie), associez les bonus au pr\xE9dicat.</li>
                  <li><strong>Main vide</strong> : faire l'attaque \xE0 mains nues correspondant \xE0 la capacit\xE9.</li>
                  <li><strong>Kiai</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>kiai</code>, de valeur <code>1</code>. Au rang 5, mettre cette valeur \xE0 <code>2</code>, le script se charge d'attendre 1d6 tours avant de proposer le deuxi\xE8me kiai.</li>
                  <li><Strong>Course mortelle</strong> : <code>!cof-attack-line @{selected|token_id} --distanceMax 10</code>. L'attaque va \xEAtre faite avec l'arme en main, mais on peut sp\xE9cifier un label d'attaque (avant les options) et toutes les options support\xE9es par <code>!cof-attack</code>.</li>
                  <li><strong>Puissance du ki</strong> : <code>#Attaque -1 --avecd12crit --plus 2d6 --seulementContact</code>.</li>
                </ol>
                <h4 class="text-secondary">Voie du sabre</h4>
                <ol>
                  <li><strong>Technique du sabre</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>techniqueDuSabre</code>, de valeur le rang dans la Voie.</li>
                  <li><strong>Frappe du vide</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>frappeDuVide</code>.</li>
                  <li><strong>Lames Jumelles</strong> : faire les attaques avec le modificateur <code>lamesJumelles</code> permet de prendre en compte la force courante de l'attaquant pour les malus \xE9ventuels \xE0 l'attaque. Comme le samoura\xEF va par d\xE9faut commencer le combat les mains vides, et qu'avec cette capacit\xE9 il voudra certainement d\xE9gainer \xE0 la fois le katana et le wakizachi, on peut utiliser un pr\xE9dicat pour lui faciliter la t\xE2che : si le label du katana est <code>5</code> et celui du wakizachi par exemple <code>3</code>, ajouter un pr\xE9dicat <code>actionDegainer1:5-3</code> (de cette fa\xE7on, le fait de d\xE9gainer le katana et le wakizachi sera en t\xEAte de liste).</li>
                </ol>
              </div>
              <h3 class="text-info" id="Voleur">Voleur</h3>
              <div class="decalage">
                <h4 class="text-secondary">Voie de l'assassin</h4>
                <ol>
                  <li><strong>Discr\xE9tion</strong> : ajouter une comp\xE9tence discr\xE9tion sur la fiche, avec le bon bonus. </li>
                  <li><strong>Attaque sournoise</strong> : Ajouter un <a href=#predicats>pr\xE9dicat</a> <code>attaqueSournoise</code>, de valeur le nombre de d\xE9s de l'attaque sournoise. Ensuite, faire des versions des attaques avec <code>--sournoise</code>. Au MJ de v\xE9rifier que les conditions de l'attaque sournoise sont remplies. Le plus pratique pour l'utilisation avec diff\xE9rentes armes, est d'ajouter \xE0 la liste des <a href="#actions_du_tour">actions du tour</a> une action de titre <code>Attaque sournoise</code> et de code <code>#Attaque -1 --sournoise</code>.</li>
                  <li><strong>Ombre mouvante</strong> : utiliser la commande <code>!cof-ombre-mouvante --fx burst-smoke</code> (la partie <code>--fx burst-smoke</code> peut \xEAtre omise ou chang\xE9e, bien s\xFBr). Le script ne g\xE8re pas encore l'attaque sournoise qui peut suivre, au MJ de surveiller l'initiative du voleur par rapport \xE0 sa cible.</li>
                  <li><strong>Surprise</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>immunite_surpris</code>. Pour le reste, \xE0 g\xE9rer par le MJ.</li>
                  <li><strong>Ouverture mortelle</strong> : ajouter les options <code>--ouvertureMortelle --limiteParCombat 1 ouvertureMortelle --sournoise</code>. Selon les <a href="https://www.black-book-editions.fr/forums.php?topic_id=4800&tid=477673#msg477673">indications de Kegron</a>, ne mettre la partie <code>--sournoise</code> que si les conditions s'y pr\xEAtent (dans le dos, surprise, acrobatie, etc).</li>
                </ol>
                <h4 class="text-secondary">Voie de l'aventurier</h4>
                <ol>
                  <li><strong>Sprint</strong> : Pour v\xE9rifier que ce n'est bien utilis\xE9 qu'une fois par combat, on pourra utiliser <code>!cof-lancer-sort pousse un sprint --limiteParCombat 1 sprint</code>.</li>
                  <li><strong>Provocation</strong> : <code>!cof-provocation @{selected|token_id} @{target|token_id}</code>. Au joueur ensuite de faire son attaque gratuite si la provocation est r\xE9ussie et que l'adversaire l'attaque.</li>
                  <li><strong>Gr\xE2ce f\xE9line</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>graceFeline</code>. Cela va affecter l'initiative et la DEF, mais sans se voir sur la fiche. Pour les tests de d\xE9placement, ajouter un <a href=#predicats>pr\xE9dicat</a> <code>graceFelineVoleur</code> (penser \xE0 proposer l'utilisation de comp\xE9tences, en ajoutant les comp\xE9tences <code>course</code>, <code>saut</code>, <code>acrobatie</code> et <code>escalade</code> au voleur ou sur le handout de comp\xE9tences).</li>
                </ol>
                <h4 class="text-secondary">Voie du d\xE9placement</h4>
                <ol>
                  <li><strong>Esquive</strong> : Ajouter un <a href=#predicats>pr\xE9dicat</a> <code>esquiveVoleur</code>, de valeur le rang dans la voie. Ne pas modifier la DEF sur la fiche, le script fera les ajustements (et montrera le total avec <code>!cof-statut</code>).</li>
                  <li><strong>Chute</strong> : pas de support particulier.</li>
                  <li><strong>Acrobaties</strong> : faire <code>!cof-jet DEX 15 --nom acrobatie</code> pour le jet de dext\xE9rit\xE9, le reste est g\xE9r\xE9 par le MJ. Il est possible d'automatiser quand le personnage d\xE9cide de faire une attaque quel que soit le r\xE9sultat du jet d'acrobatie grace \xE0 la commande <code>#Attaque -1 --attaqueAcrobatique</code>.</li>
                  <li><strong>Esquive de la magie :</strong> ajouter un <a href=#predicats>pr\xE9dicat</a> <code>esquiveDeLaMagie</code>.</li>
                  <li><strong>Dext\xE9rit\xE9 h\xE9ro\xEFque :</strong> ajouter les bonus sur la fiche</li>
                </ol>
                <h4 class="text-secondary">Voie du roublard</h4>
                <ol>
                  <li><strong>Doigts agiles</strong> : utiliser des comp\xE9tences sur la fiche de personnage</li>
                  <li><strong>D\xE9tecter les pi\xE8ges</strong> : faire le jet avec <code>!cof-jet INT ?{Pi\xE8ge normal?|Oui,10|Magique,15} --secret</code></li>
                  <li><strong>Croc-en-jambe</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>crocEnJambe</code>. Pour distinguer les adversaires quadrup\xE8des qui ne seraient pas connues du script, lui ajouter un <a href=#predicats>pr\xE9dicat</a> <code>quadrupede</code>. Les adversaires avec un pr\xE9dicat <code>volant</code> ne seront pas affect\xE9s.</li>
                  <li><strong>Attaque paralysante</strong> : lancer une des attaques de contact du voleur en rajoutant les options <code>--limiteParCombat 1 attaqueParalysante --pasDeDmg --effet paralysieRoublard [[1d4]]</code>.</li>
                  <li><strong>Attaque en tra\xEEtre</strong> : Ajouter un <a href=#predicats>pr\xE9dicat</a> <code>attaqueEnTraitre</code>. Les actions affich\xE9es en cas d'attaque en tra\xEEtre seront par d\xE9faut une attaque avec l'arme en main et les attaques naturelles de la fiche coch\xE9es. Si cela ne convient pas, vous pouvez cr\xE9er une liste d'actions nomm\xE9e <code>Attaques en traitre</code> contenant les attaques possibles pour l'attaque en tra\xEEtre.</li>
                </ol>
                <h4 class="text-secondary">Voie du spadassin</h4>
                <ol>
                  <li><strong>Attaque en finesse</strong> : faire les modifications sur la fiche</li>
                  <li><strong>Esquive fatale</strong> : Ajouter un <a href=#predicats>pr\xE9dicat</a> <code>esquiveFatale</code> (on peut y associer un nombre pour permettre plus d'une utilisation par combat). En combat, si la situation s'y pr\xEAte, un bouton permettre d'utiliser l'esquive. Ne pas oublier de d\xE9finir les alli\xE9s du voleur pour que la v\xE9rification des cibles soit correcte.</li>
                  <li><strong>Frappe chirurgicale</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>frappeChirurgicale</code>.</li>
                  <li><strong>Ambidextrie</strong> : pas g\xE9r\xE9 par le script.</li>
                  <li><strong>Botte secr\xE8te</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>botteSecrete</code>. Ne pas oublier le pr\xE9dicat <code>attaqueSournoise</code> qui doit \xEAtre associ\xE9 au nombre de d\xE9s des attaques sournoises du voleur.</li>
                </ol>
              </div>
            </div>
            <h2 class="text-primary" id="Autres_capacit\xE9s">4. Autres capacit\xE9s</h2>
            <div class="decalage">
              <h3 class="text-info" id="Capacites_raciales">4.1 Voies et capacit\xE9s raciales</h3>
              <div class="decalage">
                Quelques capacit\xE9s communes \xE0 plusieurs races :
                <ul>
                  <li id="Vision_dans_le_noir"><strong>Vision dans le noir</strong> : ajoutez un <a href=#predicats>pr\xE9dicat</a> <code>visionDansLeNoir</code> de valeur le nombre de metres \xE0 laquelle le personnage peut voir dans le noir. Le script va adapter la vison dans le noir \xE0 l'unit\xE9 de mesure utilis\xE9e sur la page o\xF9 le token du personnage est cr\xE9\xE9.</li>
                </ul>
                <h4 class="text-secondary">\xC2me forg\xE9e</h4>
                <p>Pour les capacit\xE9s raciales, un <a href=#predicats>pr\xE9dicat</a> <code>vieArtificielle</code> permet de diviser tous les soins par 2. Pour la r\xE9sistance aux effets de drains, au feu et au froid, ajouter dans la RD sur la fiche <code>drain:5, feu:5, froid:5</code>. Pour l'immunit\xE9 aux poisons et maladies, utiliser un <a href=#predicats>pr\xE9dicat</a> <code>creatureArtificielle</code>. Enfin pour le saignement, ajouter un <a href=#predicats>pr\xE9dicat</a> <code>immuniteSaignement</code>.</p>
                <ol>
                  <li><strong>Main lourde</strong> : ajuster les DM, et enlever l'option <code>--tempDmg</code> pour l'attaque \xE0 mains nues.</li>
                </ol>
                <h4 class="text-secondary">Demi-ogre</h4>
                <ul>
                  <li><a href="#Vision_dans_le_noir">Vision dans le noir</a>.</li>
                  <li><strong>\xC9norme</strong> : pas de support, ajuster les attaques</li>
                  <li><strong>Grande taille</strong> : quand le demi-ogre rentre dans une construction de taille humaine, utiliser <code>!cof-effet constructionTailleHumaine true</code>. \xC0 la sortie du b\xE2timent, <code>!cof-effet constructionTailleHumaine false</code>. Pour les espaces exigus, de m\xEAme avec l'effet <code>espaceExigu</code>.</li>
                  <li><strong>R\xE9action violente</strong> : en cas de provocation, ex\xE9cuter <code>!cof-effet-temp reactionViolente [[1d6]] --save SAG 10</code>. On peut par exemple mettre ce code en ability li\xE9e au token. Au MJ et au joueur de g\xE9rer les actions qui s'ensuivent. Le script propose une action \xE0 l'ogre pour prendre sur lui \xE0 chaque tour.</li>
                </ul>
                <ol>
                  <li><strong>Sang-froid</strong> : ajouter un pr\xE9dicat <code>sangFroid</code>. Modifier la commande pour les provocations en <code>!cof-effet-temp reactionViolente [[1d4]] --save SAG 5</code>. </li>
                  <li><strong>Violence cibl\xE9e</strong> : ajouter un pr\xE9dicat <code>violenceCiblee</code>.</li>
                </ol>
                <h4 class="text-secondary">Demi-orque</h4>
                <a href="#Vision_dans_le_noir">Vision dans le noir</a>.
                <ol>
                  <li><strong>Force de la nature</strong> : ajouter les bonus sur la fiche</li>
                  <li><strong>Talent pour la violence</strong> : voir les capacit\xE9s choisies</li>
                  <li><strong>Critique brutal</strong> : pour l'instant, ajouter le modificateur <code>incrCritCoef</code> pour toutes les attaques au contact.</li>
                  <li><strong>Attaque sanglante</strong> : faire une attaque (ou liste d'attaques) avec les options <code>--effet blessureQuiSaigne --saveParTour CON [[12 + @{selected|FOR}]]</code></li>
                  <li><strong>Colosse</strong> : augmenter les caract\xE9ristiques sur la fiche.</li>
                </ol>
                <h4 class="text-secondary">Elfe sylvain</h4>
                <ol>
                  <li><strong>Gr\xE2ce elfique</strong> : simplement reporter sur la fiche</li>
                  <li><strong>Enfant de la for\xEAt</strong> : voir les capacit\xE9s choisies</li>
                  <li><strong>Archer \xE9m\xE9rite</strong> : ajuster les chances de critique sur les attaques \xE0 l'arc</li>
                  <li><strong>Fl\xE8che sanglante</strong> : faire une attaque (ou liste d'attaques) avec les options <code>--effet blessureQuiSaigne --saveParTour CON [[12 + @{selected|DEX}]]</code></li>
                  <li><strong>Sup\xE9riorit\xE9 elfique</strong> : augmenter les caract\xE9ristiques sur la fiche.</li>
                </ol>
                <h4 class="text-secondary" id="fee_et_lutin">F\xE9e et lutin</h4>
                <ul>
                  <li><a href="#Vision_dans_le_noir">Vision dans le noir</a>.</li>
                  <li><strong>Tout petit</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>toutPetit</code> qui va automatiquement ajuster la d\xE9fense et les jets de discr\xE9tion.</li>
                  <li><strong>Vol</strong> et <strong>T\xE9l\xE9portation</strong> : pas de support.</li>
                  <li><strong>Trop petit</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>tropPetit</code>. Cela va aussi changer les d\xE9g\xE2ts de base des armes (il vaut mieux laisser les vrais DM pour que la capacit\xE9 Grande taille fonctionne).</li>
                </ul>
                <ol>
                  <li><strong>Langage des animaux</strong> : aucun support</li>
                  <li><strong>Invisibilit\xE9</strong> : <code>!cof-set-state invisible true --message se rend invisible --messageMJ l'invisibilit\xE9 va durer [[1d6+@{selected|INT}]] minutes --limiteParJour <i>r</i></code> o\xF9 <i>r</i> est le rang dans la Voie.</li>
                  <li><strong>Monture f\xE9\xE9rique</strong> : ajouter un ersonnage pour la monture. Ajoutez-lui le <a href=#predicats>pr\xE9dicat</a> <code>monture</code>. Pour monter sur la monture, utiliser <code>!cof-en-selle @{selected|token_id} nom_de_la_monture</code>, et pour en descendre, il suffit de faire la m\xEAme commande (utiliser une ability "token action" rend cela assez facile \xE0 l'usage). Si vous souhaitez que la monture rentre en combat \xE0 chaque fois que l'\xEAtre f\xE9\xE9rique entre en combat, ajoutez \xE0 l'\xEAtre f\xE9\xE9rique un pr\xE9dicat nomm\xE9 <code>entrerEnCombatAvec</code>, de valeur le nom du token de la monture (pensez \xE0 utiliser la syntaxe avec <code>::</code> si ce nom contient des caract\xE8res sp\xE9ciaux).</li>
                  <li><strong>Grande taille</strong> : <code>!cof-effet grandeTaille oui --lanceur @{selected|token_id} --limiteParJour 3 --messageMJ La taille humaine durera [[1d6+@{selected|CHA}]] minutes</code>. Le script ne g\xE8re pas les dur\xE9es en minutes, le MJ devra penser \xE0 supprimer l'effet, par exemple depuis le statut (<code>!cof-statut</code>).</li>
                </ol>
                <h4 class="text-secondary">F\xE9lis</h4>
                <ol>
                  <li><strong>\xC2me f\xE9line :</strong> ajouter un pr\xE9dicat <code>ameFeline</code>, de valeur le rang dans la voie. Pensez \xE0 ajouter des comp\xE9tences pour le mouvement sur la fiche si ils ne sont pas d\xE9j\xE0 pr\xE9sent dans votre handout de comp\xE9tences.</li>
                  <li><strong>Armes naturelles :</strong>
                    <ul>
                      <li>Cr\xE9ez une attaque "Griffes et crocs" naturelle de contact avec en DM 1d6 + Mod de FOR et les options <code>--si etat armesNaturelles --message Attaque de ses griffes et crocs !</code>.</li>
                      <li>Pour faire sortir les griffes, dans l'onglet script, ajouter une action "Sortir/rentrer les griffes" faisant <code>!cof-effet armesNaturelles</code>.</li>
                    </ul>
                  </li>
                </ol>
                <h4 class="text-secondary">Gnome</h4>
                <ol>
                  <li><strong>Petit pote</strong> : ajouter le bonus de CHA sur la fiche</li>
                  <li><strong>Don occulte</strong> : se reporter aux capacit\xE9s choisies.</li>
                  <li><strong>Insignifiant</strong> :  ajouter un <a href=#predicats>pr\xE9dicat</a> <code>insignifiant</code>.
                </ol>
                <h4 class="text-secondary">Halfelin</h4>
                <p>Petite taille : ajouter le bonus de DEF sur la ficher, et ajouter 2 \xE0 une comp\xE9tence <code>discr\xE9tion</code>.</p>
                <ol>
                  <li><strong>Petit veinard</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>petitVeinard</code> (on peut y associer un nombre si on veut plus d'une utilisation par combat). Le script ne va automatiser que les relancer de d\xE9s d'attaque ou de jets de caract\xE9ristiques (et encore, pas tous). Il propose d'utiliser la chance \xE0 chaque attaque, m\xEAme r\xE9ussie, mais dans ce cas, c'est au joueur de relancer le d\xE9 concern\xE9, et au MJ d'en appliquer les cons\xE9quences.</li>
                  <li><strong>R\xE9sistance l\xE9gendaire</strong> : ajouter le bonus en CON sur la fiche, et ajouter un <a href=#predicats>pr\xE9dicat</a> <code>DEF_magie</code> avec comme valeur 5.</li>
                </ol>
                <h4 class="text-secondary">Haut elfe</h4>
                <ol>
                  <li><strong>Gr\xE2ce elfique</strong> : ajouter les bonus sur la fiche</li>
                  <li><strong>Talent pour la magie</strong> : voir les capacit\xE9s choisies</li>
                  <li><strong>Force d'\xE2me</strong> : ajouter des <a href=#predicats>pr\xE9dicat</a> <code>immunite_peur</code> et <code>immunite_endormi</code>. Ajouter aussi des <a href=#predicats>pr\xE9dicats</a> <code>DEF_magie</code> et <code>bonusSagesseMagie</code> de valeur <code>5</code>.</li>
                </ol>
                <h4 class="text-secondary">Humain</h4>
                <p>Instinct de survie : cr\xE9er un <a href=#predicats>pr\xE9dicat</a> <code>instinctDeSurvieHumain</code>.</p>
                <ol>
                  <li><strong>Adaptable</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>adaptable</code>, de valeur le bonus en cas de test rat\xE9. Le script ne va appliquer le bonus que pour les tests avec difficult\xE9 identifi\xE9e. Le MJ devra l'appliquer dans les cas rat\xE9s par le script.</li>
                  <li><strong>Loup parmi les loups</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>loupParmiLesLoups</code> avec comme valeur 1 ou 2 selon le rang dans la voie. Une cr\xE9ature sera consid\xE9r\xE9e comme humano\xEFde si elle a un <a href=#predicats>pr\xE9dicat</a> <code>humanoide</code>, ou si sa race est reconnue comme humano\xEFde.</li>
                  <li><strong>Versatile</strong> : se reporter \xE0 la capacit\xE9 choisie.</li>
                  <li><strong>Increvable</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>increvableHumain</code>.</li>
                </ol>
                <h4 class="text-secondary">Drakonide</h4>
                <ol>
                  <li><strong>Souffle</strong> : ajouter une attaque naturelle coch\xE9e, faisant des d\xE9g\xE2ts du type du drakonide, de port\xE9e 10 m, avec comme option <code>--cone 30 --psave DEX 12 --tempsRecharge rechargeSouffle [[1d4]]</code>.</li>
                  <li><strong>Intimidant</strong> : ajouter la comp\xE9tence <code>intimidation</code> sur la fiche, avec un bonus de +5.</li>
                  <li><strong>\xC9cailles robustes</strong> : ajouter le bonus sur la fiche.</li>
                  <li><strong>Fureur drakonide</strong> : ajouter un pr\xE9dicat <code>fureurDrakonide</code>.</li>
                  <li><strong>H\xE9ritage draconique</strong> : ajuster les caract\xE9ristiques sur la fiche.</li>
                </ol>
                <h4 class="text-secondary">Lutin</h4>
                Voir les <a href="#fee_et_lutin">f\xE9es</a>.
                <h4 class="text-secondary">Minotaure</h4>
                <ul>
                  <li><a href="#Vision_dans_le_noir">Vision dans le noir</a>.</li>
                  <li><strong>Coup de corne :</strong> ajouter simplement l'attaque.</li>
                  <li><strong>Sens de l'orientation :</strong> utiliser une comp\xE9tence/</li>
                  <li><strong>Grande taille</strong> : quand le minotaure rentre dans une construction de taille humaine, utiliser <code>!cof-effet constructionTailleHumaine true</code>. \xC0 la sortie du b\xE2timent, <code>!cof-effet constructionTailleHumaine false</code>. Pour les espaces exigus, de m\xEAme avec l'effet <code>espaceExigu</code>. Si on veut un seul bouton, enlever simplement l'argument <code>true</code>.</li>
                </ul>
                <ol>
                  <li><strong>Charge :</strong> <code>#Attaque -1 --bonusAttaque 2 --plus 1d6</code>. Le d\xE9placement n'est pas encore g\xE9r\xE9. Modifier les bonus si le minotaure poss\xE8de la capacit\xE9 Charge du barbare.</li>
                  <li><strong>Fr\xE9n\xE9sie :</strong> On peut faire passer en fr\xE9n\xE9sie avec la commande <code>!cof-effet-temp frenesieMinotaure [[1d6]]</code>. Quand j'aurai le temps, il devrait \xEAtre possible de faire appara\xEEtre un bouton quand le minotaure est bless\xE9.</li>
                  <li><strong>Orientation infaillible :</strong> pas de support particulier.</li>
                  <li><strong>Encorner :</strong> pas de support particulier.</li>
                  <li><strong>Colosse :</strong> reporter sur la fiche.</li>
                </ol>
                <h4 class="text-secondary">Nain</h4>
                <ul>
                  <li><a href="#Vision_dans_le_noir">Vision dans le noir</a>.</li>
                </ul>
                <ol>
                  <li><strong>R\xE9sistance</strong> : ajouter les bonus sur la fiche</li>
                  <li><strong>Solide comme un roc</strong> : ajouter le texte <code>2/1</code> dans la RD sur la fiche.</li>
                  <li><strong>Haches et marteaux</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>hachesEtMarteaux</code>. Ne pas oublier de mettre le modificateur <code>hache</code> ou <code>marteau</code> pour les attaques qui sont concern\xE9es.</li>
                </ol>
                <h4 class="text-secondary">Tieflin</h4>
                <ul>
                  <li><a href="#Vision_dans_le_noir">Vision dans le noir</a>.</li>
                  <li><strong>R\xE9sistance aux \xE9l\xE9ments</strong> : ajouter dans la RD sur la fiche <code>feu:5, electrique:5, froid:5</code></li>
                </ul>
                <ol>
                  <li><strong>Se faire discret</strong> : ajouter les jets sur la fiche, ou bien des comp\xE9tences <code>mentir</code> et <code>deguisement</code> de valeur 5, \xE0 utiliser avec <code>!cof-jet</code>.</li>
                </ol>
              </div>
              <h3 class="text-info" id="Prestige">4.2 Voies de prestige et capacit\xE9s \xE9piques</h3>
              <div class="decalage">
                <h4 class="text-secondary">Voie d'Arwend\xE9e</h4>
                <ol>
                  <li><strong>Sens affut\xE9s</strong> : Cr\xE9ez un <a href=#predicats>pr\xE9dicat</a> <code>sensAffutes</code>. Cela va ajuster l'initiative (ne se voit pas sur la fiche), ainsi que les d\xE9g\xE2ts des arcs. Ajoutez ensuite le bonus aux comp\xE9tences <code>perception</code> et <code>vigilance</code> (ou cr\xE9ez-les).</li>
                  <li><strong>Arc de ma\xEEtre</strong> : Cr\xE9ez un <a href=#predicats>pr\xE9dicat</a> <code>arcDeMaitre</code> pour automatiquement augmenter la port\xE9e des arcs de 20 m.</li>
                  <li><strong>Carquois magique</strong> : <code>!cof-effet-temp carquoisMagique [[5+@{selected|SAG}]] --valeur ?{Type de DM?|feu|froid|foudre} --mana 1</code>.</li>
                  <li><strong>Protection contre les projectiles</strong> : Cr\xE9ez un <a href=#predicats>pr\xE9dicat</a> <code>protectionContreLesProjectiles</code>  de valeur 10. Puis, pour lancer le sort, utilisez <code>!cof-effet-temp protectionContreLesProjectiles [[6*(5+@{selected|SAG})]] --lanceur @{selected|token_id} --target @{target|token_id} --mana 2</code>.</li>
                  <li><strong>Pluie de fl\xE8ches</strong> : lancer l'attaque avec les options <code>--limiteParCombat 1 pluieDeFleches --disque 5 --toucheDoubleDmg --mana 3</code>.</li>
                </ol>
                <h4 class="text-secondary">Voie de l'archange</h4>
                <ol>
                  <li><strong>Forme d'ange</strong> : <code>!cof-effet-temp formeDAnge [[5+@{selected|SAG}]] --mana 0</code>. Le MJ devra g\xE9rer l'aspect en vol.</li>
                  <li><strong>Soins am\xE9lior\xE9s</strong> : utiliser un pr\xE9dicat <code>voieDeLArchange</code> avec comme valeur le rang dans la voie.</li>
                  <li><strong>\xC9p\xE9e c\xE9leste</strong> : rien \xE0 faire si le pr\xE9dicat <code>voieDeLArchange</code> a la bonne valeur. Si le personnage n'a pas d\xE9j\xE0 la capacit\xE9 Arme d'argent, ajouter une attaque pour cette arme, avec le modificateur <code>armeDArgent</code> et l'option <code>--si etat armeDArgent</code>.</li>
                </ol>
                <h4 class="text-secondary">Voie de l'archer arcanique</h4>
                <ol>
                  <li><strong>Fl\xE8che magique</strong> : vous pouvez ajouter une munition de type fl\xE8che, avec les modificateurs <code>magique, reroll1</code>.</li>
                  <li><strong>Fl\xE8che tueuse</strong> : ajouter une munition d\xE9di\xE9e, avec les modificateurs <code>magique, reroll1</code> et les options <code>--bonusAttaque 3 --plus <i>r</i>d6</code>. Au Mj et au joueur de v\xE9rifier que cette fl\xE8che n'est utilis\xE9e que contre la bonne cible...</li>
                  <li><strong>Fl\xE8che intangible</strong> : ajouter une action avec le code <code>#Attaque -1 --difficulteCarac DEX --ignoreObstacles</code>. Attention, pour l'instant le script ne v\xE9rifie pas que l'arme utilis\xE9e est bien un arc.</li>
                  <li><strong>Fl\xE8ches vivantes</strong> : ajoutez aux munitions du rang 1 et 2 l'option <code> --if deAttaque 15 --plus 2d6 --message la fl\xE8che prend vie au contact du sang --endif</code>.</li>
                  <li><strong>Fl\xE8che chercheuse</strong> : faire une action avec le code <code>#Attaque -1 --plus 2d6 --portee 1000 --limiteParJour 1 flecheChercheuse</code>.</li>
                </ol>
                <h4 class="text-secondary">Voie de l'expert</h4>
                Reporter les bonus sur la fiche et cr\xE9er les comp\xE9tences ad\xE9quates.
                <h4 class="text-secondary">Voie de l'expert du combat</h4>
                <ol>
                  <li><strong>Expertise du combat</strong> : cr\xE9er un pr\xE9dicat <code>expertDuCombat</code> avec comme valeur le rang dans la voie. La commande <code>!cof-statut</code> donne un \xE9tat des lieux des d\xE9s d\xE9pens\xE9s pendant le combat/le tour. Les d\xE9s ne sont actifs qu'en combat et sont r\xE9initialis\xE9s \xE0 l'utilisation de <code>!cof-fin-combat</code>. L'impl\xE9mentation part du principe que l'augmentation de la DEF doit \xEAtre d\xE9cid\xE9e avant le jet de dommages, comme une esquive acrobatique par exemple.</li>
                  <li><strong>Bousculer</strong> : <code>!cof-expert-combat-bousculer @{selected|token_id} @{target|token_id}</code></li>
                  <li><strong>Expertise sup\xE9rieure</strong> : il suffit de mettre \xE0 jour la valeur du pr\xE9dicat <code>expertDuCombat</code> ; le script automatise la mise \xE0 jour des limites et la possibilit\xE9 d'augmenter les DM.</li>
                  <li><strong>D\xE9placement tactique</strong> : pas de support sp\xE9cifique pour le d\xE9placement, mais on peut pr\xE9voir une action <code>!cof-expert-combat</code> pour le personnage, qui ne fera qu'une d\xE9pense simple de d\xE9 d'expertise.</li>
                  <li><strong>Expertise majeure</strong> : les limites de d\xE9s par tour sont automatiques avec la bonne valeur du pr\xE9dicat <code>expertDuCombat</code>. Pour l'instant le cumul de d\xE9s sur le m\xEAme jet n'est pas support\xE9.</li>
                </ol>
                <h4 class="text-secondary">Voie de l'homme du peuple</h4>
                Reporter les bonus sur la fiche et cr\xE9er les comp\xE9tences ad\xE9quates.
                <h4 class="text-secondary">Voie de la fusion lycanthropique</h4>
                <ol>
                  <li><strong>Lycanthropie</strong> : <code>!cof-effet-temp lycanthropie [[5*@{selected|SAG}]]</code>. Si vous souhaitez un changement d'image du token, utilisez un <a href="https://wiki.roll20.net/Multi-sided_Token">token \xE0 plusieurs faces</a>. Dans la liste des faces, en partant de 0, on note <i>n</i> le num\xE9ro de la face qui contient l'image de loup-garou. Ajoutez alors <code>--tokenSide <i>n</i></code> \xE0 la commande. Par exemple, si la premi\xE8re face est l'image normale du personnage, et la seconde face celle d'un loup-garou, on pourra utiliser <code>!cof-effet-temp lycanthropie [[5*@{selected|SAG}]] --tokenSide 1</code>.</li>
                  <li><strong>\xC9ventration</strong> : ajouter un pr\xE9dicat <code>lycanthropeEventre</code>.</li>
                </ol>
                <h4 class="text-secondary">Voie de Morn</h4>
                <ol>
                  <li><strong>Secrets de l'au-del\xE0</strong> : <code>!cof-effet-temp secretsDeLAuDela 1 --mana 0</code></li>
                  <li><strong>Souffle de vie</strong> : <code>!cof-soin @{selected|token_id} @{target|token_id} souffleDeVie --mana 0</code></li>
                  <li><strong>Souffle de mort</strong> : faire une attaque magique, de port\xE9e 20 m (la port\xE9e par d\xE9faut pour les sorts, mais rien n'est sp\xE9cifi\xE9 dans le texte), de d\xE9g\xE2ts 2d8+INT. Ajoutez <code>auto</code> dans les modificateurs. Pour les options, <code>--disque 10 souffleDeMort --effet souffleDeMort 1 --save CON 10 --mana 1</code>.</li>
                </ol>
                <h4 class="text-secondary">Voie de Prestige sp\xE9cialis\xE9e</h4>
                <ol>
                  <li><strong>Expertise</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>expertiseSpecialisee</code>, de valeur soit une caract\xE9ristique, soit une comp\xE9tence, soit un mot-cl\xE9 pour une capacit\xE9. Pour l'instant, ne sont impl\xE9ment\xE9s que la rage du berserk (<code>rageDuBerserk</code>) et la furie du berserk (<code>furieDuBerserk</code>).</li>
                </ol>
                <h4 class="text-secondary">Voie de P\xE9rind\xE9</h4>
                <ol>
                  <li>Soutient</li>
                  <li>Pr\xE9sence r\xE9confortante</li>
                  <li>Prendre sur soit</li>
                  <li>D\xE9fendre les siens</li>
                  <li><strong>Don de soi</strong> : <code>!cof-soin @{selected|token_id} ?{Nombre de d\xE9s?|1|2|3|4|5}d6 --allies 10 --sacrifierPV --mana 3</code></li>
                </ol>
                <h4 class="text-secondary">Voie des armes \xE0 deux mains</h4>
                <ol>
                  <li><strong>Allonge</strong> : reporter le bonus d'attaque sur la fiche. Par facilit\xE9, j'ai consid\xE9r\xE9 que le bonus d'Init \xE9tait permanent et nous l'avons report\xE9 sur la fiche.</li>
                  <li><strong>Gros Monstre, grosse arme</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>grosMonstreGrosseArme</code>.</li>
                  <li><strong>Tenir \xE0 distance (L)</strong> : <code>!cof-effet-temp tenirADistance 1</code>.</li>
                  <li><strong>Attaque \xE0 outrance</strong> : <code>!cof-attaque-a-outrance ?{Attaque \xE0 outrance ?|Non,0|-2 DEF / +1D6 DM,2}</code>. Par facilit\xE9, cette "posture de combat" perdure jusqu'\xE0 la fin du combat ou jusqu'\xE0 ce que le guerrier en change. Au rang 5, on pourra utiliser <code>!cof-attaque-a-outrance ?{Attaque \xE0 outrance ?|Non,0|-2 DEF/+1D6 DM,2|-5 DEF/+2D6 DM,5}</code></li>
                  <li><strong>Critique destructeur</strong> : ajouter <code>--plusCrit 2d6</code> aux attaques d'armes \xE0 2 mains</li>
                </ol>
                <h4 class="text-secondary">Voie des vermines</h4>
                <ol>
                  <li><strong>Nu\xE9e de criquets</strong> : ajouter une attaque magique, de port\xE9e 20 m, type Sortilege, modificateur <code>pasDeDmg</code> et options <code>--effet nueeDeCriquets [[5+@{selected|SAG}]]</code>. Pas de support particulier pour les DM de zone qui d\xE9truisent la nu\xE9e (enlever l'attribut <code>nueeDeCriquets</code> sur la cible dans ce cas).</li>
                </ol>
                <h4 class="text-secondary">Voie du chasseur de corruption</h4>
                <p>Pour savoir si une cible est corrompue, le script va utiliser un <a href=#predicats>pr\xE9dicat</a> <code>corrompu</code> qu'il appartient au MJ d'ajouter pour les cr\xE9atures selon ses crit\xE8res.</p>
                <ol>
                  <li><strong>Sentir la corruption</strong> : <code>!cof-sentir-la-corruption @{selected|token_id} @{target|token_id}</code>.</li>
                  <li><strong>Combattre la corruption</strong> : ajouter un pr\xE9dicat <code>combattreLaCorruption</code>. Y associer la valeur 2 au rang 4 dans la voie.</li>
                  <li><strong>Chasseur de sorci\xE8re</strong> : ajouter un pr\xE9dicat <code>chasseurDeSorciere</code>. Pour reconna\xEEtre les n\xE9cromanciens et autres pr\xEAtres mal\xE9fiques, il faut aussi leur ajouter un pr\xE9dicat <code>necromancien</code>.</li>
                  <li><strong>Frappe pr\xE9ventive</strong> : pas de support du script.</li>
                </ol>
                <h4 class="text-secondary">Voie du chevalier dragon</h4>
                <ol>
                  <li><strong>Ordre du chevalier dragon</strong> : cr\xE9er les comp\xE9tences Persuasion et Intimidation avec les bonus de base de +5. Ajouter un <a href=#predicats>pr\xE9dicat</a> <code>ordreDuChevalierDragon</code>. Quand le personnage est mont\xE9, le script rajoutera automatiquement un bonus de +5 via <code>!cof-jet</code></li>
                  <li><strong>\xC9p\xE9e de feu</strong> : <code>!cof-effet-temp armeEnflammee [[5+@{selected|CHA}]] --lanceur @{selected|token_id} --target @{selected|token_id}</code>. Ne se cumule pas avec l'Arme enflamm\xE9e du Magicien.</li>
                  <li><strong>R\xE9sistance au feu</strong> : rajouter <code>feu:5</code> (ou 10 au rang 5) dans la partie RD de la fiche</li>
                  <li><strong>Monture puissante</strong> : modifier la fiche du Drake</li>
                  <li><strong>Souffle enflamm\xE9</strong> : ajouter une attaque au dragon, m\xEAme jet pour touche, dm 2d6, port\xE9e 40, arme naturelle qui inflige des d\xE9g\xE2ts de feu, avec comme options <code>--disque 3 --dmSiRate 1d6 --dmCible 4d6</code></li>
                </ol>
                <h4 class="text-secondary">Voie du combat \xE0 deux armes</h4>
                <ol>
                  <li><strong>Combat \xE0 deux armes am\xE9lior\xE9 :</strong> mettre une des attaques de type arme gauche, et y ajouter le modificateur <code>avecd12crit</code>. Pas encore de support pour la capacit\xE9 avanc\xE9e : dans ce cas, ajoutez le +1 dans la barre 3 du token ou sur les attaques. </li>
                  <li><strong>Parade crois\xE9e :</strong> <code>!cof-effet-temp paradeCroisee 1 --valeur <i>rang</i> --montreActions</code> o\xF9 <i>rang</i> est le rang dans la Voie. </li>
                </ol>
                <h4 class="text-secondary">Voie du danseur de guerre</h4>
                <ol>
                  <li><strong>Pirouettes</strong> : on peut rajouter les bonus sur la fiche, ou bien ajouter un <a href=#predicats>pr\xE9dicat</a> <code>pirouettes</code>, de valeur le bonus en d\xE9fense (qui ne s'applique que si le malus d'armure est inf\xE9rieur \xE0 4).</li>
                  <li><strong>Vent des lames</strong> : pas de support du script, simplement ajouter les attaques adapt\xE9es sur la fiche</li>
                  <li><strong>Attaque en mouvement</strong> : pas de support du script.</li>
                  <li><strong>Danse des lames</strong> : <code>!cof-effet-combat danseDesLames</code>. Pour l'attaque gratuite suppl\xE9mentaire, on peut faire <code>#Attaque -1 --si etat danseDesLames --avecd12crit</code>.</li>
                </ol>
                <h4 class="text-secondary">Voie du familier fantastique</h4>
                <ol>
                  <li><strong>Familier fantastique</strong> : cr\xE9er un personnage (de type PNJ) pour le familier, control\xE9 par le joueur et avec un token li\xE9 ayant la capacit\xE9 de voir. 
                    <ul>
                      <li>Pour le bonus en initiative, ajouter au personnage un <a href=#predicats>pr\xE9dicat</a> <code>familier</code> de valeur le nom du compagnon (doit \xEAtre exactement le m\xEAme que celui du token du compagnon). Cela automatise l'initiative quand le familier est pr\xE9sent.</li>
                      <li>Pour les points de vie partag\xE9s avec le familier, il faut mettre un <a href=#predicats>pr\xE9dicat</a> <code>PVPartagesAvec</code> de valeur le nom du familier (celui de la fiche, pas forc\xE9ment le m\xEAme que le token) pour le personnage, et un pr\xE9dicat similaire chez le familier, de valeur le nom du personnage. Le partage de PVs ne fonctionne pas avec des mooks, et il ne fait pas le partage de d\xE9g\xE2ts temporaires. En revanche, le script devrait g\xE9rer correctement les d\xE9g\xE2ts de zone.</li>
                      <li>Pour la d\xE9fense du familier, ajouter lui un <a href=#predicats>pr\xE9dicat</a> <code>defDeriveeDe</code>, de valeur le nom du personnage (nom complet sur la fiche, attention \xE0 bien utiliser la syntaxe avec <code>::</code> si ce nom contient des espaces ou d'autres caract\xE8res sp\xE9ciaux).</li>
                      <li>Pour l'initiative, ajoutez un <a href=#predicats>pr\xE9dicat</a> <code>initiativeDeriveeDe</code> de valeur le nom du personnage.</li>
                    </ul>
                  </li>
                  <li><strong>Pouvoir mineur</strong> : 
                    <ul>
                      <li><strong>Minimoi (\xC9gocentrisme)</strong> : T\xE9l\xE9portation, pas de support.</li>
                    </ul>
                  </li>
                  <li><strong>Canalisation</strong> : Lancer l'attaque avec l'option <code>--canaliseParFamilier</code>.</li>
                  <li><strong>Pouvoir sup\xE9rieur</strong> :
                    <ul>
                      <li><strong>Minimoi (Clone)</strong> : \xE0 faire.</li>
                    </ul>
                  </li>
                </ol>
                <h4 class="text-secondary">Voie du gel</h4>
                <ol>
                  <li></li>
                  <li></li>
                  <li><strong>C\xF4ne de froid</strong> : faire une attaque portee 20m, d\xE9g\xE2ts 2d6+INT de froid, avec comme modificateur <code>auto</code> et comme options <code>--cone 30 --fx breath-frost --ifSaveFails CON 13 --effet ralenti 1 --else --diviseDmg 2 --endif</code>. Pour un objet de sort : <code>!cof-attack @{selected|token_id} @{target|token_id} C\xF4ne de froid --sortilege --auto --dm 2d6+[[@{selected|INT}]] --froid --portee 20 --cone 30 --fx breath-frost --ifSaveFails CON 13 --effet ralentiTemp 1 --else --diviseDmg 2 --endif</code></li>
                  <li><strong>Pr\xE9sence glaciale</strong> : <code>!cof-effet presenceGlaciale oui</code>. Utiliser <code>!cof-effet presenceGlaciale non</code> pour mettre fin \xE0 l'effet. On peut pr\xE9ciser un bonus de DEF et des d\xE9g\xE2ts diff\xE9rents avec l'option <code>--valeur</code>. Ainsi, la version grimoire sera <code>!cof-effet presenceGlaciale oui --valeur 3 1d4</code>.</li>
                </ol>
                <h4 class="text-secondary">Voie du gu\xE9risseur</h4>
                <ol>
                  <li><strong>Premiers soins</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>voieDuGuerisseur</code> de valeur le rang dans cette voie pour le bonus aux soins de la Voie des soins. Pour le sort, faire <code>!cof-soin @{selected|token_id} @{target|token_id} premiersSoins --mana 0</code>.</li>
                  <li><strong>Immunit\xE9</strong> : utilisez <code>!cof-immunite-guerisseur [[1d6+@{selected|SAG}]] --mana 0 --target @{target|token_id}</code> dans les actions du tour. Si utilis\xE9 directement dans le chat, ajoutez <code>--lanceur @{selected|token_id}</code>.</li>
                  <li><strong>Soins rapides</strong> : pas de support au niveau du script.</li>
                  <li><strong>Zone de vie</strong> : <code>!cof-zone-de-vie [[1d6+@{selected|SAG}]] --mana 1 --limiteParJour 3 --lanceur @{selected|token_id}</code>. Cela devrait respecter le sort, sauf pour le moment o\xF9 le soin prend effet : c'est au d\xE9but de chaque tour du pr\xEAtre.</li>
                </ol>
                <h4 class="text-secondary">Voie du guerrier-mage</h4>
                <p>Penser \xE0 utiliser l'option <code>--magieEnArmure</code> pour le lancement des sorts affect\xE9s.</p>
                <ol>
                  <li><strong>Magie en armure</strong> : Ajouter un <a href=#predicats>pr\xE9dicat</a> <code>magieEnArmure</code> de valeur la DEF totale \xE0 partir de laquelle le personnage peut lancer des sorts. Comme la fiche ne contient pas l'information de la DEF normale (sans magie) de l'armure port\xE9e, le script utilise la moyenne de la DEF et du malus d'armure. En ajoutant un pr\xE9dicat <code>magieEnArmureFacilitee</code>, le script diminue aussi la difficult\xE9 des jets d'INT pour les armures avec une DEF trop grande de la valeur du pr\xE9dicat de magie en armure.</li>
                  <li><strong>Rituel Assur\xE9</strong> : <code>!cof-effet-temp rituelAssure 2 --mana 0</code>. Le script ne permet pas de pr\xE9ciser le sort, le premier qui sera lanc\xE9 apr\xE8s le rituel assur\xE9 b\xE9n\xE9ficiera de l'effet.</li>
                  <li><strong>MagieDeCombat</strong> :  Ajouter un <a href=#predicats>pr\xE9dicat</a> <code>magieDeCombat</code>.</li> 
                  <li><strong>Frappe des arcanes</strong> : faire une attaque avec l'option <code>--frappeDesArcanes</code>, par exemple dans une action dont le code serait <code>#Attaque -1 --frappeDesArcanes</code>.</li>
                  <li><strong>Expertise du combat</strong> : aucun support du script.</li>
                </ol>
                <h4 class="text-secondary">Voie du h\xE9ro</h4>
                <ol>
                  <li><strong>Destin h\xE9ro\xEFque</strong> : ajouter le bonus au bonus de points de chances sur la fiche (utiliser la roue crant\xE9e \xE0 droite de la section CHANCE de la fiche).</li>
                  <li><strong>T\xE9nacit\xE9</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>tenacite</code>.</li>
                  <li><strong>Homme de la situation</strong> : pas de support.</li>
                  <li><strong>Meneur d'hommes</strong> : Ajouter une action : <code>!cof-set-attribute meneurDHommesCible @{selected|token_id} --target @{target|token_id}</code>. Le personnage peut utiliser cette action pour d\xE9signer sa cible. Tous les alli\xE9s du personnage recevront automatiquement les bonus sur le reste du combat.</li>
                </ol>
                <h4 class="text-secondary">Voie du ma\xEEtre des poisons</h4>
                Rappel : pour appliquer un poison, utiliser <code>!cof-enduire-poison -1 type force save</code>.
                <ol>
                  <li><strong>Connaissance du poison</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>connaissanceDuPoison</code> pour \xE9viter le test d'INT quand le voleur applique du poison.</li>
                  <li><strong>Poison rapide</strong> : faire les applications \xE0 la main (<code>!cof-enduire-poison <i>L</i> rapide 2d6 12</code>).</li>
                  <li><strong>Poison affaiblissant</strong> : faire les applications \xE0 la main (<code>!cof-enduire-poison <i>L</i> affaiblissant 0 15</code>).</li>
                </ol>
                <h4 class="text-secondary">Voie du messager</h4>
                <ol>
                  <li><strong>Muet comme une tombe</strong> : pas de support pour l'instant.</li>
                  <li><strong>Jusqu'\xE0 bon port</strong> : ajouter les comp\xE9tences correspondantes sur la fiche.</li>
                  <li><strong>Conducteur de diligence</strong> : ajouter les comp\xE9tences, et en cas de combat depuis une diligence, utiliser la barre 3 pour le bonus \xE0 l'attaque.</li>
                  <li><strong>Sens du devoir</strong> : Activer avec <code>!cof-effet sensDuDevoir true</code>. On peut enlever cet effet depuis le statut, au changement de jour, ou avec la commande <code>!cof-effet sensDuDevoir false</code>.</li>
                  <li><strong>Attaque en mouvement</strong> : pas de support pour l'instant.</li>
                </ol>
                <h4 class="text-secondary">Voie du pacte vampirique</h4>
                <ol>
                  <li><strong>Blessure sanglante</strong> : ajuter un <a href=#predicats>pr\xE9dicat</a> <code>blessureSanglante</code>.</li>
                  <li><strong>Sang puissant</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>immuniteSaignement</code> et un pr\xE9dicat <code>immuniteAbsorptionVampire</code>.</li>
                  <li><strong>Drain de sang</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>drainDeSang</code>.</li>
                  <li><strong>Flot de sang</strong> : associer la valeur <code>2</code> au pr\xE9dicat <code>blessureSanglante</code>.</li>
                  <li><strong>\xC9nergie impie</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>energieImpie</code>.</li>
                </ol>
                <h4 class="text-secondary">Voie du porteur de bouclier</h4>
                <ol>
                  <li><strong>Expertise du bouclier</strong> : reporter le bonus sur la fiche dans le bonus de DEF conf\xE9r\xE9 par le bouclier.</li>
                  <li><strong>Progresser \xE0 couvert</strong> : <code>!cof-effet-temp progresserACouvert 1 --lanceur @{selected|token_id} --target @{target|token_id} --self --portee 1</code>. A utiliser pour cibler un alli\xE9 \xE0 port\xE9e si n\xE9cessaire. Au MJ de v\xE9rifier qu'elle reste bien pr\xE8s du chevalier pour profiter du bonus.</li>
                  <li><strong>Attaque au bouclier</strong> : Ajouter une arme avec son Bouclier en "Arme gauche" sur la fiche du personnage. Dans les modificateurs de l'arme, ajoutez <code>avecd12crit</code>. Pour que cette attaque soit propos\xE9e dans les listes d'action seulement quand le personnage porte son bouclier, ajouter un pr\xE9dicat <code>attaqueAuBouclier</code> de valeur le label de l'attaque.</li>
                  <li><strong>D\xE9vier les coups</strong> : Ajouter un pr\xE9dicat <code>devierLesCoups</code> (on peut y associer un nombre, si on souhaite plus d'une utlisation par tour). Le script ajoute automatiquement un bouton sur les attaques sur lesquelles cette capacit\xE9 peut-\xEAtre utilis\xE9e.</li>
                  <li><strong>Parade au bouclier</strong> : Ajouter un <a href=#predicats>pr\xE9dicat</a> <code>paradeAuBouclier</code>. Sur l'ability Coup de bouclier cr\xE9\xE9 pour le rang 3, ajouter <code>--attaqueBouclierRenverse --decrLimitePredicatParTour paradeAuBouclier</code>. Le script ajoute automatiquement un bouton sur les attaques sur lesquelles cette capacit\xE9 peut-\xEAtre utilis\xE9e. Si le personnage poss\xE8de un bouclier en arme gauche, le script utilisera le bonus \xE9ventuel de l'arme en question sur le jet oppos\xE9.</li>
                </ol>
                <h4 class="text-secondary">Voie du tueur de g\xE9ant</h4>
                <ol>
                  <li><strong>R\xE9duire la distance</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>reduireLaDistance</code>.</li>
                  <li><strong>Ventre mou</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>ventreMou</code>. Cela va diminuer la RD fixe de 3 maximum pour une cr\xE9ature grande, 6 maximum pour une cr\xE9ature \xE9norme et 10 maximum pour une cr\xE9ature colossale.</li>
                  <li><strong>B\xFBcheron</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>bucheron</code>.</li>
                </ol>
                <h4 class="text-secondary">Capacit\xE9s \xE9piques</h4>
                <ul>
                  <li><strong>Lib\xE9rateur de Dorn</strong> : ajouter un pr\xE9dicat <code>liberateurDeDorn</code>.</li>
                  <li><strong>Lib\xE9rateur de Kerserac</strong> : ajouter un pr\xE9dicat <code>liberateurDeKerserac</code>.</li>
                  <li><strong>Lib\xE9rateur d'Anathazer\xEFn</strong> : ajouter un pr\xE9dicat <code>liberateurDAnathazerin</code>. La capacit\xE9 donne le bonus de +2 quel que soit le poison.</li>
                  <li><strong>Lien \xE9pique</strong>: ajouter pour chaque personnage un <a href=#predicats>pr\xE9dicat</a> <code>lienEpique</code>, qui contiennent la m\xEAme chose dans le champ courant (pensez \xE0 un nom d'\xE9quipe, par exemple).</li>
                  <li><strong>Vitalit\xE9 \xE9pique</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>vitaliteEpique</code>. Pas de support pour le coup mortel ou la r\xE9g\xE9n\xE9ration horaire. Attention, si vous utlisez <code>!cof-soin</code> pour cette r\xE9g\xE9n\xE9ration, les soins seront aussi doubl\xE9s.</li>
                </ul>
              </div>
              <h3 class="text-info" id="Cr\xE9atures">4.3 Voies de cr\xE9atures</h3>
              <div class="decalage">
                <h4 class="text-secondary">Voie du champion</h4>
                <ol>
                  <li>
                    <strong>Imparable</strong>:
                    <ul>
                      <li>Utiliser l'option <code>--m2d20</code> pour l'action limit\xE9e.</li>
                      <li>Pour l'effet permanent, utiliser un <a href=#predicats>pr\xE9dicat</a> <code>champion</code></li>
                    </ul>
                  </li>
                  <li><strong>Riposte</strong> : Ajouter un <a href=#predicats>pr\xE9dicat</a> <code>riposte</code>. Les actions affich\xE9es en cas de riposte seront normalement une attaque avec l'arme en main si il y en a, plus les attaques naturelles coch\xE9es sur la liste d'attaque. Si \xE7a ne convient pas, vous pouvez \xE9crire une liste d'actions nomm\xE9e<code>Ripostes</code> (voir les <a href="#actions_du_tour">actions du tour</a>).</li>
                  <li><strong>Hausser le ton</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>hausserLeTon</code>.</li>
                </ol>
                <h4 class="text-secondary">Voie du chef d'arm\xE9e</h4>
                <ol>
                  <li><strong>Sergent</strong> : ne pas oublier l'action de plus donn\xE9e \xE0 un alli\xE9 par tour. Utiliser un <a href=#predicats>pr\xE9dicat</a> <code>sergent</code> (pour l'attaque ignor\xE9e par combat)</li>
                  <li><strong>Capitaine</strong> : pour d\xE9signer le capitaine d'un ensemble de tokens s\xE9lectionn\xE9 (quelle que soit <a href="#methode_selection_groupes">la m\xE9thode</a>), on peut utiliser <code>!cof-capitaine @{selected|token_id} 2</code>, en ajoutant les options de s\xE9lection (comme <code>--target @{target|token_id}</code>). Au lieu de s\xE9lectionner une cible, on peut utiliser le nom d'un token. Si le capitaine fait parti de la s\xE9lection, il sera automatiquement exclu (on ne peut \xEAtre son propre capitaine). Si \xE0 la place de <code>2</code>, le deuxi\xE8me argument est <code>0</code>, cela enl\xE8ve le capitaine. L'attribut g\xE9n\xE9r\xE9 est li\xE9 \xE0 un personnage, pas un token sp\xE9cifique, il suffit donc de cibler un token repr\xE9sentant un personnage pour affecter tous les tokens qui repr\xE9sentent ce personnage. Pas de support particulier pour l'attaque suppl\xE9mentaire en cas d'action limit\xE9e.</li>
                  <li><strong>Commandant</strong> : il faut ajouter un <a href=#predicats>pr\xE9dicat</a> <code>commandant</code>. La m\xE9thode pour d\xE9signer les personnages sous les ordres du commandant est la m\xEAme que pour le capitaine : <code>!cof-capitaine @{selected|token_id} 3</code> (notez que la valeur est <code>3</code> pour le commandant, et <code>2</code> pour le capitaine).</li>
                </ol>
                <h4 class="text-secondary">Voie du cogneur</h4>
                <ol>
                  <li><strong>Charge</strong> : Faire l'attaque avec les arguments <code>--m2d20 --pietine</code>.</li>
                  <li><strong>Enrager</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>peutEnrager</code>.</li>
                  <li><strong>Percuter</strong> : Remplacer <code>--pietine</code> par <code>--percute</code> dans l'attaque de Charge.</li>
                </ol>
                <h4 class="text-secondary">Voie du colosse</h4>
                <ol>
                  <li><strong>Fauchage</strong> : ajouter la RD, et ajouter un <a href=#predicats>pr\xE9dicat</a> <code>fauchage</code>, qui va faire automatiquement le renversement si le d\xE9 d'attaque est entre 15 et 20. Il est possible de changer ce seuil associant au pr\xE9dicat la valeur \xE0 laquelle le d\xE9 d'attaque provoque le renversement (15 par d\xE9faut). Par d\xE9faut, le fauchage est impossible si la taille du d\xE9fenseur est sup\xE9rieure ou \xE9gale \xE0 celle de l'attaquant. Vous pouvez sp\xE9cifier un seuil de taille maximale dans un pr\xE9dicat <code>tailleFauchage</code> (5 = grand, 6 \xE9norme et 7 colossal).</li>
                  <li><strong>Balayage</strong> : faire une version de l'attaque avec <code>--target @{target|Cible 2|token_id}</code></li>
                  <li><strong>Projection</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>projection</code>.</li>
                </ol>
                <h4 class="text-secondary">Voie des cr\xE9atures \xE9l\xE9mentaires</h4>
                <p style="margin-top:0px; margin-bottom:0px">Ajouter un <a href=#predicats>pr\xE9dicat</a> <code>immunite_<i>type</i></code>, o\xF9 <i>type</i> est le type de la cr\xE9ature \xE9l\xE9mentaire (feu, acide, froid, ...)</p>
                <ol>
                  <li><strong>Souffle</strong> : faire une attaque avec le bon nombre de d6 en DM, du type voulu, de port\xE9e la port\xE9e du souffle, \xE0 utiliser avec les modificateurs <code>auto cone</code> et les options  <code>--tempsRecharge rechargeSouffle [[1d4]] --psave DEX 13</code>. Ne pas oublier la possibilit\xE9 d'utiliser un token cible temporaire pour le cone.</li>
                  <li><strong>Corps \xE9l\xE9mentaire</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>corpsElementaire</code>, de valeur l'\xE9l\xE9ment (<code>feu</code>, <code>froid</code>,...). Cela va automatiquement ajouter les d\xE9g\xE2ts aux attaques de contact, et faire des d\xE9g\xE2ts \xE0 ceux qui l'attaquent au contact. Cela va aussi faire appara\xEEtre dans les actions du tour une action de r\xE9g\xE9neration, que le MJ peut utiliser chaque tour, \xE0 lui de voir si les conditions s'y pr\xEAtent (source \xE9l\xE9mentaire proche). Pas de support g\xE9n\xE9rique pour les victimes saisies ou agripp\xE9es, \xE0 g\xE9rer au cas par cas.</li>
                  <li><strong>Explosion finale</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>explosionFinale</code> de valeur le label de l'attaque d'explosion. Cette attaque ne doit contenir aucune demande de valeur (de type <code>?{Munitions}</code>). Par exemple, pour une explosion finale qui fait 3d6 DM \xE0 tout le monde dans les 10 m et qui permettrait de diviser les d\xE9g\xE2ts par 2 par un test de DEX difficulte 13 (18 si au contact)&nbsp;: on cr\xE9e une attaque Explosion, de d\xE9g\xE2ts 3d6 du type voulu, de port\xE9e 10, de modificateur <code>auto</code> et avec l'option <code>--psave DEX 13 contact 18</code>. Pour changer les d\xE9g\xE2ts du corps \xE9l\xE9mentaire, on peut utiliser un pr\xE9dicat <code>nbCorpsElementaire</code> de valeur le nombre de d6 \xE0 utiliser (2 normalement pour cette capacit\xE9).</li> 
                </ol>
                <h4 class="text-secondary">Voie des cr\xE9atures magique</h4>
                <ol>
                  <li><strong>R\xE9duction des DM</strong> : Ajouter la RD sur la fiche <code>5/<i>genre</i></code>, o\xF9 <i>genre</i> peut \xEAtre <code>magique</code> ou un des types d'attaque (feu, acide, poison, etc...).</li>
                  <li><strong>Vitalit\xE9 surnaturelle</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>vitaliteSurnaturelle</code>, de valeur le nombre de PV r\xE9g\xE9n\xE9r\xE9 par tour. Si la r\xE9g\xE9n\xE9ration doit continuer m\xEAme \xE0 la mort du personnage, ajoutez un <code>+</code> \xE0 la fin de la valeur. Si un type de d\xE9g\xE2t emp\xEAche la r\xE9g\xE9n\xE9ration, faites suivre la valeur de r\xE9g\xE9n\xE9ration d'un <code>/</code> suivi du type (attention, \xE7a ne peut pas \xEAtre le type drain). Si plusieurs types de d\xE9g\xE2ts, les s\xE9parer par une virgule (et dans ce cas, penser \xE0 utiliser la syntaxe avec <code>::</code>. Par exemple, un troll aura un pr\xE9dicat <code>vitaliteSurnaturelle:: 5+ / feu, acide</code>, en faisant attention \xE0 ne rien mettre ensuite sur la m\xEAme ligne. Si vous voulez r\xE9initialiser les d\xE9g\xE2ts qui ne peuvent pas se r\xE9g\xE9n\xE9rer sur un personnage, vous pouvez utiliser des soins normaux (<code>!cof-soin</code>), et si vous avez augment\xE9 \xE0 la main les PVs, vous pouvez effacer les attributs <code>DMSuivis<em>type</em></code> qui ont \xE9t\xE9 cr\xE9\xE9s par le script. Pour emp\xEAcher la r\xE9g\xE9n\xE9ration m\xEAme mort, le mieux est d'enlever le token de la page (ou de le mettre en token g\xE9n\xE9rique).</li>
                </ol>
                <h4 class="text-secondary">Voie des cr\xE9atures volantes</h4>
                <p>On peut mettre un pr\xE9dicat <code>volant</code> pour immuniser la cr\xE9ature \xE0 certains effets qui ne peuvent affecter que des cr\xE9atures terrestres, comme l'arm\xE9e des morts ou le croc-en-jambe.</p>
                <ol>
                  <li><strong>Vol rapide</strong> : simplement faire une variante de l'attaque avec les options <code>--bonusAttaque 5 --plus 1d6</code> \xE0 utiliser le premier tour de combat si a cr\xE9ature est en vol et attaque une cr\xE9ature au sol. Ne pas oublier l'action de mouvement suppl\xE9mentaire en vol.</li>
                  <li><strong>Agripper</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>agripper</code> (ne fera agripper que sur les attaques de contact).</li>
                </ol>
                <h4 class="text-secondary">Voie de la magie de combat</h4>
                <ol>
                  <li><strong>Attaque magique</strong> : simplement une attaque, avec les options <code>--sortilege --magique --fx beam-magic</code>. Pour la version de zone, utiliser les options <code>--disque 5 --auto --psave DEX 10</code>.</li>
                  <li><strong>Armure magique</strong> : utiliser <code>!cof-effet-combat armureMagique</code></li>
                </ol>
                <h4 class="text-secondary">Voie de la magie de gu\xE9rison</h4>
                <ol>
                  <li><strong>Soigner</strong> : <code>!cof-soin @{selected|token_id} @{target|target1|token_id} [[ceil(@{target|target1|PV|max}/2)]] --limiteCibleParJour 1</code></li>
                  <li><strong>Gu\xE9rir</strong> : <code>!cof-guerir @{selected|token_id} @{target|token_id} --portee 0</code></li>
                </ol>
                <h4 class="text-secondary">Voie de la magie mal\xE9fique</h4>
                <ol>
                  <li><strong>Vampirisation</strong> :
                    <ul>
                      <li> Ajouter une attaque magique avec les DMs de vampirisation, faisant des d\xE9g\xE2ts de type drain. (En objet, on utilisera les options <code>--sortilege</code> et <code>--drain</code>).</li>
                      <li> Ajouter un pr\xE9dicat <code>siphonDesAmes</code>, de valeur de NC de la cr\xE9ature (ou sans valeur, si le NC est 0). Si vous voulez que ce siphon emp\xEAche un autre siphon des \xE2mes, rajoutez un pr\xE9dicat <code>siphonDesAmesPrioritaire</code> de valeur un nombre positif et sup\xE9rieur \xE0 ceux sur lequel il est prioritaire.</li>
                    </ul>
                  </li>
                  <li><strong>Animer un cadavre</strong> : <code>!cof-animer-cadavre @{selected|token_id} @{target|token_id}</code>. Au cas o\xF9 vous auriez besoin d'enlever l'\xE9tat de cadavre, il suffit d'enlever l'attribut nomm\xE9 <code>cadavreAnime</code>.</li>
                  <li><strong>Injonction Mortelle</strong> : <code>!cof-injonction-mortelle @{selected|token_id} @{target|token_id}</code></li>
                </ol>
                <h4 class="text-secondary">Voie de la meute</h4>
                <ol>
                  <li><strong>Intergeanchables</strong> : Utiliser un <a href=#predicats>pr\xE9dicat</a> <code>interchangeable</code>, avec comme valeur le nombre d'opposants \xE0 partir duquel les cibles peuvent \xEAtre interverties. Par d\xE9faut, cela va donner un bonus de +2 en DEF et +3 an attaque. Pour retrouver la valeur normale de +5 en DEF, utilisez <code>!cof-options</code>.</li>
                  <li><strong>Attaque en tra\xEEtre</strong> : Au MJ de d\xE9cider si une attaque est en tra\xEEtre ou pas. Pour une attaque en tra\xEEtre, rajouter les arguments <code>--sournoise 2 --bonusAttaque 5</code>.</li>
                </ol>
                <h4 class="text-secondary">Voie du PNJ r\xE9current</h4>
                <ol>
                  <li><strong>Instinct de survie</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>instinctDeSurvie</code> avec comme valeur le nombre de PV en-dessous duquel le PNJ gagne un bonus de DEF. les autres effets sont \xE0 faire par le MJ.</li>
                  <li><strong>Chair \xE0 canon</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>chairACanon</code>. Ajouter ensuite \xE0 tous ses sous-fifres un pr\xE9dicat <code>chairACanonDe</code> de valeur le nom exact du token du PNJ. On peut y mettre plusieurs noms s\xE9par\xE9s par des virgules. Attention, dans ce cas (et aussi si le nom de token contient des espaces ou virgules, etc) pensez \xE0 utiliser <code>::</code> au lieu de <code>:</code> pour le pr\xE9dicat.</li>
                </ol>
                <h4 class="text-secondary">Voie du pr\xE9dateur</h4>
                <ol>
                  <li><strong>Embuscade</strong> : S\xE9lectionner les ennemis du pr\xE9dateurs, et utiliser <code>!cof-surprise</code>. Par exemple, contre une \xE9quipe de joueurs dans le <i>handout</i> <code>Equipe joueurs</code> (cf la <a href="#methode_selection_groupes">m\xE9thode de s\xE9lection de groupes</a>), on pourra utiliser l'ability <code>!cof-surprise [[15 + @{selected|DEX}]] --equipe joueurs</code>. Pour les bonus en discr\xE9tion et init, reporter sur la fiche (et \xE0 un pr\xE9dicat <code>discr\xE9tion</code>), pour l'attaque en embuscade sur une cible surprise, rajouter \xE0 une attaque les options <code>--sournoise 1 --if moins FOR --etat renverse --endif</code>.</li>
                  <li><strong>D\xE9vorer</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>devorer</code>.</li>
                  <li><strong>Gober</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>gober</code>. Le script ne v\xE9rifie pas que le personnage fait son jet de force avant d'attaquer (mais il propose un bouton pour le faire), ni que l'arme utilis\xE9e n'est pas plus grande qu'une dague.</li>
                </ol>
                <h4 class="text-secondary">Voie du tueur</h4>
                <ol>
                  <li><strong>Attaque mortelle</strong> : donner la possibilit\xE9 de faire une attaque avec les options <code>--bonusAttaque 5 --sournoise <i>rang*2</i></code>. Rajouter un pr\xE9dicat <code>discr\xE9tion</code> avec comme valeur 5.</li>
                  <li><strong>Disparition</strong> : donner la possibilit\xE9 de faire une attaque avec les options <code>--disparition <i>rang*2</i></code>.</li>
                  <li><strong>Assassinat</strong> : rajouter <code>--if etatCible surpris --etat mort --save CON 15 --endif</code> \xE0 l'Attaque mortelle.</li>
                </ol>
              </div>
              <h3 class="text-info" id="Sorts">4.4 Autres sorts</h3>
              <div class="decalage">
                Sorts qui ne sont pas dans des voies, mais peuvent venir du grimoire (dans le compagnon) ou d'effets de parchemins.
                <ul>
                  <li><strong>Animation des objets</strong> : <code>!cof-animation-des-objets @{selected|token_id} ?{Taille d'objet|tabouret ou coffret,1|chaise ou coffre,2|meuble bas ou table,4|grande table,7|grosse armoire,10}</code> On peut ajouter un troisi\xE8me argument, <code>@{target|token_id}</code> pour animer un token d'objet sur la carte.</li>
                  <li><strong>Armure d'eau</strong> : <code>!cof-effet-combat armureDEau</code>. Le script automatise l'immunit\xE9 aux \xE9treintes (pas aux enveloppements) et \xE0 la capacit\xE9 Agripper des cr\xE9atures volantes.</li>
                  <li><strong>Choc</strong> : Faire une attaque de port\xE9e 20 m, de type Sortil\xE8ge, DM contondants, port\xE9e 20 m, et avec les options <code>--etat renverse --save FOR 10</code>.</li>
                  <li><strong>Coup au but</strong> : <code>!cof-effet-temp bonusAttaqueTemp 1 --valeur 10 --lanceur @{selected|token_id} --portee 10 --mana 0 --target @{target|token_id}</code>.</li>
                  <li><strong>Force de g\xE9ant</strong> : <code>!cof-effet-temp forceDeGeant 10</code>. Le bonus est de 2 par d\xE9faut, mais peut \xEAtre modifi\xE9 en utilisant l'option <code>--valeur</code>.</li>
                  <li><strong>Mur de vent</strong> : <code>!cof-mur-de-force vent</code>. Par d\xE9faut, la dur\xE9e sera de 5+mod. d'INT, mais on peut donner une autre valeur en argument, apr\xE8s <code>vent</code>. On peut aussi changer le rayon du mur en utilisant <code>--portee</code>. Cela ne g\xE8re ni les immunit\xE9s, ni le jet de force pour passer le mur.</li>
                  <li><strong>Nu\xE9e de scorpions</strong> : ajouter une attaque magique, de port\xE9e 20 m, type Sortil\xE8ge, modificateur <code>--pasDeDmg</code> et option  <code>--effet nueeDeScorpions 10</code>. Pas de support particulier pour les DM de zone qui d\xE9truisent la nu\xE9e (enlever l'attribut <code>nueeDeScorpions</code> sur la cible dans ce cas).</li>
                  <li><strong>R\xE9sistance \xE0 la magie</strong> : pour l'augmentation de la DEF contre la magie, utiliser un <a href=#predicats>pr\xE9dicat</a> <code>DEF_magie</code> et pour le bonus aux tests, <code>resistanceALaMagie</code></li>
                  <li><strong>Simulacre de vie</strong> : <code>!cof-set-attribute PVTemporaires [[1d10 + @{selected|niveau}]] --message simulacre de vie</code></li>
                  <li><strong>Sixi\xE8me sens</strong> : <code>!cof-effet sixiemeSens true</code>. Pour mettre fin \xE0 l'effet du sort (qui a une dur\xE9e en heures), on peut effacer l'attribut <code>sixiemeSens</code>, ou mieux encore, s\xE9lectionner le token et faire <code>!cof-effet sixiemeSens false</code>.</li>
                  <li><strong>Toiles</strong> : <code>!cof-effet-temp toiles [[5+@{selected|SAG}]] --saveActifParTour FOR [[10+@{selected|SAG}]] --lanceur @{selected|token_id} --disque @{target|token_id} 5 20 --saufAllies --mana 0</code>.</li>
                </ul>
              </div>
              <h3 class="text-info" id="Capacites_diverses">4.5 Capacit\xE9s diverses</h3>
              <div class="decalage">
                <ul>
                  <li><strong>Absorption d'\xE9nergie</strong> (spectres et vampires) : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>absorptionEnergie</code> de valeur la valeur du soin accord\xE9 \xE0 l'attaquant \xE0 chaque fois qu'il endommage une cible (5 par d\xE9faut, si vous ne mettez aucune valeur). Pour l'absorption des vampires, ajouter un pr\xE9dicat <code>vampire</code>.</li>
                  <li><strong>Action libre</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>actionLibre</code>.</li>
                  <li><strong>Agripper</strong> (d\xE9mon dans Noirbois) : <code>!cof-agripper-de-demon @{selected|token_id} @{target|token_id}</code></li>
                  <li><strong>Apparition</strong> : un pr\xE9dicat <code>apparition</code> immunise \xE0 tous les DMs, sauf ceux de canalisation (voir plus bas), ou les attaques avec l'option <code>energiePositive</code>.</li>
                  <li><strong>Armes de l'\xE9t\xE9</strong> (Les seigneurs de l'hiver) : pour le bonus d\xE9fensif contre le seigneur de l'hivers, ajoutez sur les arme un <a href=#predicats>pr\xE9dicat</a> <code>armeDeLEte</code> et sur la cr\xE9ature qui attaque (a priori seulement le seigneur de l'hiver) le pr\xE9dicat <code>creatureDeLHiver</code>. Pour la Flamme de l'\xE9t\xE9, on peut rajouter dans les options <code>--if predicatCible CreatureDeLHiver --incrDmgCoef 3 --incrCritCoef 3 --else --plus 1d6 --feu --enflamme --endif</code>, et pour la Lance de l'aubre, <code>--if predicatCible CreatureDeLHiver --incrDmgCoef 1 --incrCritCoef 1 --else --plus 1d6 --feu --enflamme --endif</code></li>
                  <li><strong>Attaque en meute</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>attaqueEnMeute</code> de valeur le bonus d'attaque (2 pour un gobelin). Cela conf\xE8re le bonus pour toutes les attaques de personnages avec ce pr\xE9dicat suivant une effectu\xE9e par un autre personnage avec ce pr\xE9dicat, jusqu'au prochain tour de ce personnage. Ainsi, si 2 cr\xE9atures continuent d'attaquer la m\xEAme cible, elles b\xE9n\xE9ficieront du bonus tout le temps, sauf la toute premi\xE8re attaque.</li>
                  <li><strong>Attaque violente</strong> (Invicible) : ajouter un pr\xE9dicat <code>attaqueViolente</code>.</li>
                  <li><strong>Auras</strong> : pour les capacit\xE9s qui font un effet permanent \xE0 une certaine port\xE9e, comme l'aura glaciale des spectres, utiliser un attribut nomm\xE9 <code>aura</code>, de valeur courante la port\xE9e en m\xE8tres de l'aura, et de valeur maximale l'effet \xE0 appliquer. Si cet effet contient la cha\xEEne de caract\xE8re <code>$TOKEN</code>, cette cha\xEEne sera remplac\xE9e par le nom du token \xE0 l'origine de l'aura. Pour un exemple d'utilisation, voyez la ligne <code>Aura glaciale</code> en dessous.</li>
                  <li><strong>Aura glaciale</strong> : ajouter un attribut <code>aura</code>, de valeur courante <code>5</code>, et de valeur maximale <code>!cof-effet-temp ralenti [[1d6]] --save CON 12 --magique --seulementVivant --message une aura de froid intense \xE9mane de $TOKEN</code>.</li>
                  <li><strong>Aura de profanation</strong> : ajouter un pr\xE9dicat <code>auraDeProfanation</code>.</li>
                  <li><strong>Baroud d'honneur</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>baroudHonneur</code> (Quand le personnage arrive \xE0 0 PV, il ne meurt pas jusqu'\xE0 sa prochaine attaque, qui se fait avec un bonus de +5)</li>
                  <li><strong>B\xE2ton des runes mortes</strong> (Invincible) : ajoutez dans les pr\xE9dicats de l'arme le pr\xE9dicat <code>batonDesRunesMortes</code>. Dans la fiche de Swarathnak, ajoutez le pr\xE9dicat <code>ennemiDuBatonDesRunesMortes</code>.</li>
                  <li><strong>Bonus \xE0 l'attaque magique</strong> : utiliser un  <a href=#predicats>pr\xE9dicat</a> <code>bonusAttaqueMagique</code> de valeur le bonus permet d'ajouter ce bonus aux attaques magiques. Utile en particulier en pr\xE9dicat d'arme.</li>
                  <li><strong>Boutefeu</strong> (Invincible) : utilisez un <a href=#predicats>pr\xE9dicat</a> <code>boutefeu</code>.
                  <li><strong>Canalisation</strong> : <code>!cof-canaliser <i>type</i></code> o\xF9 <i>type</i> peut \xEAtre <code>positif</code> ou <code>n\xE9gatif</code>, selon le type d'\xE9nergie canalis\xE9e. Il faut au moins soit une option <code>--soin <i>expr</i></code> ou  <code>--dm <i>expr</i></code> (il est possible d'avoir les deux), pour exprimer le montant des soins ou des d\xE9g\xE2ts. Si vous souhaitez avoir un certain nombre de d\xE9g\xE2ts par point de mana d\xE9pens\xE9, vous pouvez utiliser un pr\xE9dicat <code>deCanalisation</code> contenant l'expression des d\xE9g\xE2ts (ou soins) par point de mana, et utiliser la syntaxe <code>--soin <i>n</i> pm</code>.</li>
                  <li><strong>Ch\xE2timent du m\xE2le</strong> : utiliser un <a href=#predicats>pr\xE9dicat</a> <code>chatimentDuMale</code>.</li>
                  <li><strong>Cibles multiples</strong> (nu\xE9es) : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>ciblesMultiples</code>.</li>
                  <li><strong>Clignotement</strong> : <code>!cof-effet-temp clignotement [[1d6+2]]</code>.</li>
                  <li><strong>Cr\xE9ature non-vivante</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>nonVivant</code>.</li>
                  <li><strong>Cr\xE9ature v\xE9g\xE9tative</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>vegetatif</code>.</li>
                  <li><strong>Cyclone</strong> (pour les \xE9lementaires) : <code>!cof-effet-temp cyclone [[1d4+1]] --limiteParCombat 1</code>. Cela va proposer une attaque <code>Traverser</code> dans les actions de l'\xE9l\xE9mentaire, qui ne peut fonctionner que si le personnage a au moins une attaque sur sa fiche. Par d\xE9faut, l'attaque utilis\xE9e en traversant est l'attaque de label <code>1</code>, mais on peut pr\xE9ciser un autre label en utilisant l'option <code>--valeur</code>.</li>
                  <li><strong>D\xE9g\xE2ts si touch\xE9 au contact</strong> (\xE9l\xE9mentaire de feu,...) : ajouter un <a href=#predicats>pr\xE9dicat</a> nomm\xE9 <code>dmSiToucheContact</code>, de valeur les d\xE9g\xE2ts, suivis de <code> --</code> et du type si besoin. Par exemple, pour un \xE9l\xE9mentaire de feu, le pr\xE9dicat <code>dmSiToucheContact:: 1d6 --feu</code>, en fin de ligne (rien ne doit suivre sur cette ligne).</li>
                  <li><strong>Drain de force</strong> (pour la campagne Invincible) : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>auraDrainDeForce</code></li>
                  <li><strong>\xC9craser</strong> (pour la campagne Invincible) : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>ecraser</code> de valeur le label de l'attaque utilis\xE9e pour \xE9craser.</li>
                  <li><strong>Effroi</strong> (dragons) : <code>!cof-peur [[10+@{selected|FOR}]] 1d4 --effroi --ralenti --disque @{selected|token_id} 50</code> \xE0 utiliser au premier tour de jeu.</li>
                  <li><strong>\xC9nergie de la mort</strong> (pour la campagne Vengeance) : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>energieDeLaMort</code>. Le MJ devra \xEAtre attentif au message indiquant le retour \xE0 la vie, car c'est lui qui devra enlever l'\xE9tat mort et ajuster les PVs.</li>
                  <li><strong>Enveloppement</strong> (cube g\xE9latineux) : ajouter l'option <code>--enveloppe</code>, puis quand le bouton appara\xEEt si l'attaque r\xE9ussit, cliquer dessus. En cas d'enveloppement, la cible ne peut plus bouger et se d\xE9place avec le cube (d\xE9placer le cube met la cible dans le cube), et au tour du cube, il faut presser les boutons de d\xE9g\xE2ts pour les infliger aux cibles envelopp\xE9es.</li>
                  <li><strong>\xC9treinte</strong> (serpents) : ajouter l'option <code>--etreinte <i>difficulte</i></code>, puis quand le bouton appara\xEEt si l'attaque r\xE9ussit, cliquer dessus. En cas d'\xE9treinte r\xE9ussie, la cible ne peut plus bouger et se d\xE9place avec le serpent, et au tour du serpent, il faut presser les boutons de d\xE9g\xE2ts pour les infliger aux cibles \xE9treintes.</li>
                  <li><strong>\xC9treinte</strong> (scorpions) : ajouter l'option <code>--etreinteScorpion</i></code>. Le script prend le parti de ne pas \xE9tourdir la cible, mais le -5 en DEF, le jet de FOR et les d\xE9g\xE2ts sont automatis\xE9s. La cible est lib\xE9r\xE9e automatiquement \xE0 la mort du scorpion.</li>
                  <li><strong>\xC9treinte avec immolation</strong> (d\xE9mon gardien) : pour l'attaque limit\xE9e qui immole, ajouter l'option <code>--etreinteImmole</code>. Cette attaque r\xE9ussira automatiquement contre une cible qui est d\xE9j\xE0 \xE9treinte.</li>
                  <li><strong>Faucheuse de g\xE9ants</strong>: ajouter le modifcateur <code>tueurDeGrands</code> aux attaques.</li>
                  <li><strong>Fi\xE8vre du ch\xEAne</strong> : pour ajouter encore une RD de 5 contre le feu, ajouter un <a href=#predicats>pr\xE9dicat</a> <code>fievreChene</code>.</li>
                  <li><strong>Fi\xE9vreux</strong> : <code>!cof-effet fievreux</code> donne -2 en attaque, au d\xE9g\xE2ts et aux tests.</li>
                  <li><strong>Foudres du temps</strong> : <code>!cof-effet-chaque-d20 foudresDuTemps</code> permet d'activer les foudres du temps. On peut donner un argument pour remplacer la valeur par d\xE9faut (13) par un autre jet de d\xE9s. Un deuxi\xE8me argument permet de faire sortir la foudre pour tout jet entre les deux valeurs. Par exemple <code>!cof-effet-chaque-d20 foudresDuTemps 13 14</code> fait venir la foudre pour tout jet de 13 ou 14. Si votre jeu contient un son (ou playlist) nomm\xE9 <code>Foudre</code> (avec la majuscule), le son sera jou\xE9 \xE0 chaque fois que la foudre frappera. Finalement, <code>!cof-effet-chaque-d20 foudresDuTemps fin</code> met fin aux foudres du temps.</li>
                  <li><strong>Fr\xE9n\xE9sie</strong> : Ajouter un <a href=#predicats>pr\xE9dicat</a> <code>frenesie</code> avec comme valeur le nombre de PV en-dessous duquel la cr\xE9ature devient fr\xE9n\xE9tique (+2 aus jets d'attaque).</li>
                  <li><strong>Hors de port\xE9e</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>horsDePortee</code></li>
                  <li><strong>Huile de fort assaut</strong> : <code>!cof-effet-temp dmgArme(<i>L</i>) 10 --valeur 1d6</code> o\xF9 <i>L</i> est le label de l'arme qu'on veut enduire d'huile de fort assaut.</li>
                  <li><strong>Hurlement</strong> : Pour les chiens infernaux, <code>!cof-peur [[10+?{Nombre de chiens?}]] 2d4 --titre Hurlement --immuniseSiResiste hurlement --disque 50 --saufAllies</code>, et pour les fant\xF4mes, <code>!cof-peur 12 1d6 --titre Hurlement terrible --immuniseSiResiste hurlement --disque 10 --saufAllies</code>.</li>
                  <li><strong>Illusion</strong> : Pour les illusions qui disparaissent et r\xE9apparaissent un peu plus loin quand on essaie de les toucher, ajouter un <a href=#predicats>pr\xE9dicat</a> <code>estUneIllusion</code>.</li>
                  <li><strong>Immunit\xE9 aux armes</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>immuniteAuxArmes</code>. \xC0 noter qu'il est possible de sp\xE9cifier le niveau de magie d'une attaque en donnant un argument \xE0 l'option <code>--magique</code>. Ainsi une arme de niveau magique 3 aura en argument <code>--magique 3</code>.</li>
                  <li><strong>Immunit\xE9 aux attaques non magiques</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>immunite_nonMagique</code></li>
                  <li><strong>Immunit\xE9 aux critiques</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>immuniteAuxCritiques</code>.</li>
                  <li><strong>Ind\xE9racinable</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>inderacinable</code>.</li>
                  <li><strong>Insensible</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>insensibleAffaibli</code>.</li>
                  <li><strong>Intangible</strong> (\xE0 la Pathfinder 1) : ajouter un  un <a href=#predicats>pr\xE9dicat</a> <code>creatureIntangible</code> pour l'immunit\xE9 aux armes non-magiques et la division des autres d\xE9g\xE2ts.</li>
                  <li><strong>Invisible</strong> : passer le personnage invisible (<code>!cof-set-state invisible true</code>, ou mettre directment le statut sur le token). Si il peut rester invisible en combat, lui ajouter un <a href=#predicats>pr\xE9dicat</a> <code>invisibleEnCombat</code>. Si il est attaqu\xE9 autrement qu'avec tir en aveugle par quelqu'un qui ne voit pas l'invisble (\xE0 vous de montrer au moins temporairement le token), un malus de +5 en DEF au contact et +10 \xE0 distance sera appliqu\xE9, de m\xEAme que le bonus de +5 en attaque contre ceux qui ne voient pas l'invisible. Le script suppose toujours qu'un personnage qui dispose de tir aveugle utilise sa capacit\xE9 contre les cibles invisibles: \xE0 vous de v\xE9rifier qu'il ne cumule pas \xE7a avec une capacit\xE9 limit\xE9e.</li>
                  <li><strong>Langage sombre</strong> : en plus de comprendre les elfes noirs, j'ai d\xE9cid\xE9 d'octroyer un bonus de +1 en DEF et +1 aux DM contre les elfes noirs, bonus justifi\xE9 par la meilleure compr\xE9hension de leur culture et de leurs tactiques. Pour cela, j'utiliser un <a href=#predicats>pr\xE9dicat</a> <code>langageSombreHetre</code>.</li>
                  <li><strong>Message en cas de coup critique re\xE7u</strong> : on peut utiliser un <a href=#predicats>pr\xE9dicat</a> <code>messageSiCritique</code> avec en valeur un message \xE0 afficher en cas d'echec critique subit. Pensez \xE0 bien utiliser la syntaxe avec <code>::</code>.</li>
                  <li><strong>Mot de pouvoir</strong> qui immobilise : <code>!cof-mot-de-pouvoir-immobilise --lanceur @{selected|token_id} --enVue --saufAllies</code> </li>
                  <li><strong>N'abandonne jamais</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>nAbandonnejamais</code>.</li>
                  <li><strong>Noirbois</strong> : \xC0 l'entr\xE9e dans des t\xE9n\xE8bres magiques, utiliser la commande <code>!cof-tenebres-magiques</code>. \xC0 la sortie ou la fin de ces t\xE9n\xE8bres, faire <code>!cof-tenebres-magiques fin</code>. Pour allumer la fiole de lumi\xE8re, s\xE9lectionner un token est faire <code>!cof-fiole-de-lumiere <i>d</i></code> o\xF9 <i>d</i> est la distance \xE0 laquelle la fiole \xE9claire. On peut ajouter un troisi\xE8me argument, qui est la distance \xE0 laquelle la lumi\xE8re devient moins brillante (pas d'effet sur la m\xE9canique de jeu). Pour \xE9teindre la lumi\xE8re, il faut mettre utiliser <code>!cof-fiole-de-lumiere fin</code>.</li>
                  <li><strong>Noyade (plante carnivore)</strong> : il existe un effet de combat nomm\xE9 <code>noyade</code> (pas de dur\xE9e, il dure par d\xE9faut tout le combat) qui fait perdre 1d6 PV par tour, sauf \xE0 r\xE9ussir un test de CON difficult\xE9 15, et qui impose un malus de -3 aux attaques et aux DMs.</li>
                  <li><strong>Ondes corruptrices</strong> (Anathazer\xEFn) : Pour simplement le premier effet, faire <code>!cof-effet ondesCorruptrices 2</code>, puis pour augmeter l'effet <code>!cof-effet ondesCorruptrices +2</code>. L'effet peut \xEAtre annul\xE9 avec <code>!cof-effet ondesCorruptrices 0</code>. Pour le porteur du bouclier de Grabuge, on peut mettre un <a href=#predicats>pr\xE9dicat</a> <code>porteurDuBouclierDeGrabuge</code>.</li>
                  <li><strong>Paralysie des goules</strong> : ajouter \xE0 l'attaque de morsure <code>--effet paralyseGoule [[1d6]] --save CON 10</code>.</li>
                  <li><strong>Perte de substance</strong> (Invincible) : Ajouter pour tous les personnages concern\xE9s un <a href=#predicats>pr\xE9dicat</a> <code>perteDeSubstance</code>. Le changement de jour va augmenter un compteur, \xE0 condition que les tokens des joueurs soient sur la page, et soit on ne s\xE9lectionne aucun token quand on lance la commande de changement de jour, soit on s\xE9lectionne au moins tous les tokens des joueurs. Le test de CHA n'est pas automatis\xE9, mais le script en rappelle la difficult\xE9. Pour les ancres, ajouter un pr\xE9dicat <code>ancreInvincible</code> (par exemple dans les pr\xE9dicats de l'arme). Pour la r\xE9duction des d\xE9g\xE2ts, ajouter au dragon un pr\xE9dicat <code>dragonInvincible</code>. Pour les DM indirects, il faudra g\xE9rer \xE0 la main la r\xE9duction de DM.</li>
                  <li><strong>Phylact\xE8re de canalisation</strong> : ajouter un pr\xE9dicat <code>phylacterePositif</code> pour un phylact\xE8re de canalisation positive, ou <code>phylactereNegatif</code> pour un phylact\xE8re de canalisation n\xE9gative. Associez \xE0 ce pr\xE9dicat la valeur ajout\xE9e pour chaque PM d\xE9pens\xE9 (n\xE9cessite l'utilisation du pr\xE9dicat <code>deCanalisation</code>). Une valeur de <code>1d4</code> semble adapt\xE9e pour le phylact\xE8re de canalisation de Pathfinder 1.</li>
                  <li><strong>Piq\xFBres d'insectes</strong> : Rajouter un <a href=#predicats>pr\xE9dicat</a> <code>piquresDInsectes</code> avec comme valeur la r\xE9sistance aux d\xE9g\xE2ts \xE0 distance appropri\xE9e</li>
                  <li>
                    <strong>Poison</strong> : pour enduire une arme de label <i>L</i> de poison, utiliser <code>!cof-enduire-poison <i>L type force save</i></code>. Pour l'instant, <i>type</i> ne peut \xEAtre que <code>rapide</code> ou <code>affaiblissant</code>. Pour un poison rapide, <i>force</i> est une expression pour les d\xE9g\xE2ts (typiquement, <code>2d6</code>), pour un poison affaiblissant c'est une expression indiquant au bout de combien de tours le poison fait effet (si c'est 0, alors l'affaiblissement ne dure que pendant un combat, sinon c'est une dur\xE9e en heures, \xE0 g\xE9rer par le MJ). <i>save</i> est la difficult\xE9 du jet de CON pour r\xE9sister au poison. On peut rajouter deux arguments optionnels :
                    <ul>
                      <li><code>--testINT</code> <i>n</i>: fixe la difficult\xE9 du jet d'INT pour r\xE9ussir \xE0 poser le poison. La difficult\xE9 par d\xE9faut est 14.</li>
                      <li><code>--dose</code> <i>nom</i>: indique une ressource dans laquelle on puise pour enduire de poison. Il faudra que le personnage ait un attribut de nom <code>dose_<i>nom</i></code> avec comme valeur le nombre de doses poss\xE9d\xE9es.</li>
                    </ul>
                    Il est aussi possible d'enduire de poison des munitions. Pour ce faire, remplacer le label de l'attaque par <code>munition_<i>L</i></code> o\xF9 <i>L</i> est le label de la munition. Le script suppose que toute munition lanc\xE9e perd son poison.
                    <p>Il existe les effets suivants pour simuler directement des poisons affaiblissants&nbsp;:
                    <ul>
                      <li><strong>poisonAffaiblissant</strong> est un effet qui rend affaibli pendant tout un combat.</li>
                      <li><strong>poisonAffaiblissantLong</strong>, le m\xEAme effet mais sans limite de dur\xE9e (\xE0 g\xE9rer par le MJ).</li>
                      <li><strong>poisonAffaiblissantLatent</strong> est un effet \xE0 dur\xE9e en tours. Quand l'effet prend fin, le personnage devient empoisonn\xE9 et affaibli.</li>
                    </ul>
                  </li>
                  <li><strong>Potion de sang de l'Arbre-Coeur</strong> : <code>!cof-effet sangDeLArbreCoeur true</code>, \xE0 enlever quand les 24h sont pass\xE9es.</li>
                  <li><strong>Protection contre les souffles</strong> et d\xE9g\xE2ts de zone : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>protectionDMZone</code>. Pour une protection contre un seul \xE9l\xE9ment (feu, froid, etc), ajouter <code>_</code> et le nom de l'\xE9l\xE9ment. Par exemple, contre le feu, on aura un pr\xE9dicat <code>protectionDMZone_feu</code>. On peut aussi avoir une protection contre les souffles de dragons uniquement, mais qui annule les DM en cas de succ\xE8s au test de DEX, avec le pr\xE9dicat <code>protectionSouffleDeDragon</code>. On peut aussi donner une RD contre les souffles de dragons avec un pr\xE9dicat num\xE9rique <code>rdSouffleDeDragon</code>.</li>
                  <li><strong>Putr\xE9faction</strong> : ajouter \xE0 l'attaque <code>--effet putrefaction 5 --save CON 14</code> (pour les donn\xE9es des momies)</li>
                  <li><strong>Rage</strong> (pour la campagne Invincible) : pour entrer en rage, faire <code>!cof-effet-combat rage</code>. On peut par exemple mettre cette commande dans une ability.</li>
                  <li><strong>R\xE9action allergique</strong> : il existe un effet <code>reactionAllergique</code> qui fait le malus en DEX et CHA et dispara\xEEt en cas de soin magique. Pour une attaque, on peut par exemple mettre <code>--effet reactionAllergique --save CON 11</code>.</li>
                  <li><strong>R\xE9sistant (insectes)</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>durACuire</code>.</li>
                  <li><strong>Regard p\xE9trifiant</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>regardPetrifiant</code>. Comme il est difficile de savoir qui est affect\xE9 et quand, le pr\xE9dicat g\xE9n\xE8re juste une action pour la cr\xE9ature et le MJ doit d\xE9cider \xE0 qui l'appliquer et quand. \xC0 noter qu'on peut associer une valeur au pr\xE9dicat pour changer la difficult\xE9 de 16 par d\xE9faut (-4 quand un adversaire est conscient du pouvoir et \xE9vite de croiser le regard). Pour d\xE9tourner le regard d'une cible, utiliser <code>!cof-effet-combat detournerLeRegard</code>. Pour fermer les yeux, <code>!cof-effet-combat detournerLeRegard --valeur 5</code>. Pour arr\xEAter de d\xE9tourner le regard <code>!cof-effet-combat detournerLeRegard fin</code>. Si vous souhaitez enlever un effet de p\xE9trification, vous pouvez utiliser la commande <code>!cof-effet petrifie false</code>.</li>
                  <li><strong>Saisir et broyer</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>saisirEtBroyer</code></li>
                  <li><strong>Sang de fer</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>sangDeFerIf</code>.</li>
                  <li><strong>Sans esprit</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>sansEsprit</code> permet la r\xE9ussite automatique des jets de r\xE9sistance bas\xE9s sur INT, SAG ou CHA.</li>
                  <li><strong>Sph\xE8re de feu</strong> : <code>!cof-sphere-de-feu</code>.</li>
                  <li><strong>Tremblements de terre</strong> : <code>!cof-effet-chaque-d20 tremblementsDeTerre</code> permet d'activer les tremblements de terre. On peut donner un argument pour remplacer la valeur par d\xE9faut (13) par un autre jet de d\xE9s. Un deuxi\xE8me argument permet de faire trembler la terre pour tout jet entre les deux valeurs. Si votre jeu contient un son (ou playlist) nomm\xE9 <code>TremblementTerre</code> (avec la majuscule), le son sera jou\xE9 \xE0 chaque fois que la terre tremblera. Finalement, <code>!cof-effet-chaque-d20 tremblementsDeTerre fin</code> met fin aux tremblements de terre.</li>
                  <li><strong>Vision nocturne</strong> : on peut utiliser <code>!cof-vision-nocturne 18</code> pour un effet de potion de vision nocturne. Attention, pour remettre la vision habituelle, il faut encore effacer le token et remettre le token du personnage depuis la fiche.</li> 
                  <li><strong>Vuln\xE9rabilit\xE9 aux coups critiques</strong> : si la cr\xE9ature poss\xE8de un <a href=#predicats>pr\xE9dicat</a> <code>vulnerableCritique</code>, le script interpr\xE8te la valeur de ce pr\xE9dicat comme les chances (sur 100) qu'un coup critique tue directment la cr\xE9ature. Par exemple, la valeur sera de 25 pour un esprit du givre.</li>
                  <li><strong>Vuln\xE9rabilit\xE9 \xE0 un type de d\xE9g\xE2ts</strong> : ajouter un <a href=#predicats>pr\xE9dicat</a> <code>vulnerableA_<i>type</i></code>, pour augmenter de 50% les d\xE9g\xE2ts re\xE7us de ce type.</li>
                </ul>
              </div>
            </div>
            <h2 class="text-primary" id="Terres_d_Arran">5. Terres d'Arran</h2>
            <p>Le script determine s'il doit utiliser les r\xE8gles par d\xE9faut des Terres d'Arran ou celles de COF g\xE9n\xE9rique en fonction des fiches de personnages pr\xE9sentes sur la partie. Pour que toutes vox fiches soient bien adapt\xE9es au setting des Terres d'Arran, assurez-vous de bien s\xE9lectionner ce setting dans les r\xE9glages du jeu (accessibles avant de lancer la partie "Options de jeu" ou "Game Settings".</p>
            <p><img class="img-fluid" width="80%" src="images/Settings_arran.jpg"></p>
            <p>Le fait d'\xEAtre dans ce mode de r\xE8gles change le calcul de l'initiative et des mods d'attaque.</p>
            <h3 class="text-info" id="Peuples_d_Arran">5.1 Les peuples d'Arran</h3>
            <h4 class="text-info">5.1.1 Elfes</h4>
            <div class="decalage">
              <h5 class=text-secondary>Voie du peuple des Elfes</h5>
              <ol>
                <li><strong>Gr\xE2ce Elfique :</strong> Ajouter le bonus au jets de charisme sur la fiche, et une comp\xE9tence <code>discr\xE9tion</code> pour les d\xE9placements silencieux.</li>
                <li><strong>Essence magique :</strong> ajouter un <a href=#predicats>pr\xE9dicat</a> <code>DEF_magie</code> de valeur 2, et un <a href=#predicats>pr\xE9dicat</a> <code>resistanceALaMagie</code> de valeur 2 aussi. Passer ces valeurs \xE0 4 au rang 4 dans la voie.</li>
                <li><strong>Ma\xEEtrise des armes elfiques :</strong> Pas de support pour l'instant</li>
                <li><strong>Empathie elfique :</strong> Pas de support</li>
                <li><strong>Immortalit\xE9 :</strong>TODO</li>
              </ol>
              <h5 class=text-secondary>Voie culturelle des elfes blancs</h5>
              <ol>
                <li><strong>M\xE9moire du monde :</strong> En Attente </li>
                <li><strong>Pr\xE9dispositions magiques :</strong> En Attente </li>
                <li><strong>Lancier d\x2019\xE9lite :</strong> En Attente </li>
                <li><strong>Blancheur immacul\xE9e :</strong> En Attente </li>
                <li><strong>Parangon elfe blanc :</strong> En Attente </li>
              </ol>
              <h5 class=text-secondary>Voie culturelle des elfes bleus</h5>
              <ol>
                <li><strong>\xC9quilibre parfait :</strong> Ajouter une comp\xE9tence \xE9quilibre avec le bonus. </li>
                <li><strong>Natif d\x2019Els\xE9mur :</strong> voir la capacit\xE9 choisie. </li>
                <li><strong>Imperturbable :</strong> En Attente </li>
                <li><strong>Les enseignements de l\x2019eau  :</strong> En Attente </li>
                <li><strong>Parangon elfe bleu :</strong> En Attente </li>
              </ol>
              <h5 class=text-secondary>Voie culturelle des elfes noirs</h5>
              <ol>
                <li><strong>Artiste de l\x2019ombre :</strong> En Attente </li>
                <li><strong>Apprenti de Slurce :</strong> En Attente </li>
                <li><strong>Armes secr\xE8tes :</strong> En Attente </li>
                <li><strong>Noir comme le sang :</strong> En Attente </li>
                <li><strong>Parangon elfe noir :</strong> En Attente </li>
              </ol>
              <h5 class=text-secondary>Voie culturelle des elfes sylvains</h5>
              <ol>
                <li><strong>Le chant de la Terre :</strong> En Attente </li>
                <li><strong>Enfant de la for\xEAt :</strong> voir la capacit\xE9 choisie </li>
                <li><strong>Archer \xE9m\xE9rite :</strong> ajuster les chances de critique pour les attaques utilisant les arcs. </li>
                <li><strong>Compagnon animal sup\xE9rieur :</strong> En Attente </li>
                <li><strong>Parangon elfe vert :</strong> En Attente </li>
              </ol>
            </div>
            <h4 class="text-info">5.1.2 Nains</h4>
            <div class="decalage">
              <h5 class=text-secondary>Voie du peuple des Nains</h5>
              <ol>
                <li><strong>R\xE9sistance :</strong> En Attente </li>
                <li><strong>Solide comme un roc :</strong> En Attente </li>
                <li><strong>Ma\xEEtrise des armes runiques :</strong> En Attente </li>
                <li><strong>R\xE9sistance \xE0 la magie :</strong> En Attente </li>
                <li><strong>T\xE9nacit\xE9 naine :</strong> En Attente </li>
              </ol>
              <h5 class=text-secondary>Voie culturelle de l\x2019ordre de la Forge  </h5>
              <ol>
                <li><strong>Artisan de la forge :</strong> En Attente </li>
                <li><strong>Forgeron runique :</strong> En Attente </li>
                <li><strong>Marteler le m\xE9tal :</strong> En Attente </li>
                <li><strong>Runes de d\xE9fense :</strong> En Attente </li>
                <li><strong>Ma\xEEtre artisan :</strong> En Attente </li>
              </ol>
              <h5 class=text-secondary>Voie culturelle de l\x2019ordre du Talion  </h5>
              <ol>
                <li><strong>Plein aux as :</strong> En Attente </li>
                <li><strong>Le sens des affaires :</strong> En Attente </li>
                <li><strong>Pot-de-vin :</strong> En Attente </li>
                <li><strong>La Loge noire  :</strong> En Attente </li>
                <li><strong>Seigneur du Talion :</strong> En Attente </li>
              </ol>
              <h5 class=text-secondary>Voie culturelle de l\x2019ordre du Temple </h5>
              <ol>
                <li><strong>Grosse t\xEAte :</strong> En Attente </li>
                <li><strong>Enseigne du Temple :</strong> En Attente </li>
                <li><strong>Invention \xE9trange :</strong> En Attente </li>
                <li><strong>Rites fun\xE9raires (L) :</strong> En Attente </li>
                <li><strong>Ma\xEEtre du temple :</strong> En Attente </li>
              </ol>
              <h5 class=text-secondary>Voie culturelle de l\x2019ordre du Bouclier</h5>
              <ol>
                <li><strong>Combat en phalange :</strong> En Attente </li>
                <li><strong>Formation militaire :</strong> En Attente </li>
                <li><strong>Capitaine du Bouclier :</strong> En Attente </li>
                <li><strong>Fuite interdite :</strong> En Attente </li>
                <li><strong>Veilleur du roi :</strong> En Attente </li>
              </ol>
              <h5 class=text-secondary>Voie culturelle de l\x2019ordre des Errants</h5>
              <ol>
                <li><strong>Moins que rien :</strong> En Attente </li>
                <li><strong>Pass\xE9 r\xE9volu :</strong> En Attente </li>
                <li><strong>Paysan aguerri :</strong> En Attente </li>
                <li><strong>Solidarit\xE9 des Errants :</strong> En Attente </li>
                <li><strong>Volont\xE9 h\xE9ro\xEFque :</strong> En Attente </li>
              </ol>

            </div>
            <h4 class="text-info">5.1.3 Humain</h4>
            <div class="decalage">
              <h5 class=text-secondary>Voie du peuple des Humains</h5>
              <ol>
                <li><strong>Adaptable :</strong> En Attente </li>
                <li><strong>Loup parmi les loups :</strong> En Attente </li>
                <li><strong>Enseignement exotique :</strong> En Attente </li>
                <li><strong>Versatile :</strong> En Attente </li>
                <li><strong>D\xE9passement :</strong> En Attente </li>
              </ol>
              <h5 class=text-secondary>Voie culturelle des ruines nordiques</h5>
              <ol>
                <li><strong>Pied marin :</strong> En Attente </li>
                <li><strong>Barbare :</strong> En Attente </li>
                <li><strong>Expertise des haches :</strong> En Attente </li>
                <li><strong>Homme des clans :</strong> En Attente </li>
                <li><strong>Conqu\xE9ran:</strong> En Attente </li>
              </ol>
              <h5 class=text-secondary>Voie culturelle du Mitan</h5>
              <ol>
                <li><strong>Homme des cit\xE9s :</strong> En Attente </li>
                <li><strong>Entre tradition et progr\xE8s :</strong> En Attente </li>
                <li><strong>Modernisme :</strong> En Attente </li>
                <li><strong>Conspirateur :</strong> En Attente </li>
                <li><strong>Ma\xEEtre marchand :</strong> En Attente </li>
              </ol>
              <h5 class=text-secondary>Voie culturelle des empires austraux</h5>
              <ol>
                <li><strong>\xC9rudition :</strong> En Attente </li>
                <li><strong>\xC9tudes arcaniques :</strong> En Attente </li>
                <li><strong>Autorit\xE9 culturelle :</strong> En Attente </li>
                <li><strong>Pr\xE9dispositions arcaniques :</strong> En Attente </li>
                <li><strong>Mage :</strong> En Attente </li>
              </ol>
              <h5 class=text-secondary>Voie culturelle des Terres orientales</h5>
              <ol>
                <li><strong>Connaissances cosmopolites :</strong> En Attente </li>
                <li><strong>Rejeton de la cit\xE9 des Sang-m\xEAl\xE9s :</strong> En Attente </li>
                <li><strong>Sentir la magie :</strong> En Attente </li>
                <li><strong>Chevaucheur de dragons :</strong> En Attente </li>
                <li><strong>Expert en filouterie :</strong> En Attente </li>
              </ol>
            </div>
            <h4 class="text-info">5.1.3 Peaux Vertes</h4>
            <div class="decalage">
              <h5 class=text-secondary>Voie du peuple des Peaux Vertes </h5>
              <ol>
                <li><strong>Pour l\x2019honneur :</strong> En Attente </li>
                <li><strong>Frappe d\xE9loyale :</strong> En Attente </li>
                <li><strong>Ma\xEEtrise des armes sauvages :</strong> En Attente </li>
                <li><strong>Croyances pa\xEFennes :</strong> En Attente </li>
                <li><strong>H\xE9ros tribal :</strong> En Attente </li>
              </ol>
              <h5 class=text-secondary>Voie culturelle des Ogres
              </h5>
              <ol>
                <li><strong>\xC9norme :</strong> En Attente </li>
                <li><strong>Brute :</strong> En Attente </li>
                <li><strong>Attaque massive (L) :</strong> En Attente </li>
                <li><strong>Intuable :</strong> En Attente </li>
                <li><strong>Monstre :</strong> En Attente </li>
              </ol>
              <h5 class=text-secondary>Voie culturelle des Orcs</h5>
              <ol>
                <li><strong>Force de la nature :</strong> En Attente </li>
                <li><strong>Talent pour la violence :</strong> En Attente </li>
                <li><strong>Critique brutal :</strong> En Attente </li>
                <li><strong>Attaque sanglante (L) :</strong> En Attente </li>
                <li><strong>Colosse :</strong> En Attente </li>
              </ol>
              <h5 class=text-secondary>Voie culturelle des Gobelins</h5>
              <ol>
                <li><strong>Insignifiant :</strong> En Attente </li>
                <li><strong>Agile et sournois :</strong> En Attente </li>
                <li><strong>Ombre mouvante (L) :</strong> En Attente </li>
                <li><strong>Rochassier :</strong> En Attente </li>
                <li><strong>Teigneux :</strong> En Attente </li>
              </ol>

              <div class="decalage">
              </div>
              <h3 class="text-info" id="Voies_de_la_famille_des_combattants">5.2 Voies de la famille des combattants</h3>
              <div class="decalage">
                <h4 class="text-secondary">Voie du bastion</h4>
                <ol>
                  <li><strong>Prot\xE9ger un alli\xE9</strong> : <code>!cof-proteger-un-allie @{selected|token_id} @{target|token_id}</code>. Fonctionne aussi si on remplace le target par un nom de token. Le script ne v\xE9rifie pas que le combattant ne change pas d'alli\xE9 plus d'une fois par tour. Pour la capacit\xE9 avanc\xE9e, ajouter un pr\xE9dicat <code>protegerUnAllieAvance</code>.</li>
                  <li><strong>Absorber un coup (L) :</strong>
                    <ul>
                      <li>utiliser <code>!cof-effet-temp absorberUnCoup 1</code> pour se mettre en position. Attention, \xE7a ne v\xE9rifie pas si le combattant porte son bouclier.</li>
                      <li>le script propose un bouton \xE0 activer en cas d'attaque r\xE9ussie alors que le combattant est en position.</li>
                    </ul>
                  </li>
                  <li><strong>Coup de bouclier</strong> : faire une attaque de bouclier, de type <code>Arme gauche</code>, avec le modificateur <code>avecd12crit</code>. Pour que cette attaque soit propos\xE9e dans les listes d'action seulement quand le personnage porte son bouclier, ajouter un pr\xE9dicat <code>attaqueAuBouclier</code> de valeur le label de l'attaque.</li>
                  <li><strong>Absorber un sort (L) :</strong>
                    <ul>
                      <li>utiliser <code>!cof-effet-temp absorberUnSort 1</code> pour se mettre en position. Attention, \xE7a ne v\xE9rifie pas si le combattant porte son bouclier.</li>
                      <li>le script propose un bouton \xE0 activer en cas d'attaque r\xE9ussie alors que le combattant est en position.</li>
                    </ul>
                  </li>
                  <li><strong>Armure lourde :</strong> Noter l'armure sur la feuille du personnage, et ajouter un <a href=#predicats>pr\xE9dicat</a> <code>armureLourdeGuerrier</code> au personnage. L'annulation du critique ne se produira que si l'armure est port\xE9e et que la valeur totale du bonus de d\xE9fense sup\xE9rieure ou \xE9gale \xE0 7 (le bonus de DEF d'une armure de plaques compl\xE8te).</li>
                </ol>
                <h4 class="text-secondary">Voie de la bravoure</h4>
                <ol>
                  <li><strong>Robustesse :</strong> rajouter les PVs sur la fiche. </li>
                  <li><strong>Armure naturelle :</strong> rajouter la DEF sur la fiche </li>
                  <li><strong>Prouesse :</strong> ajouter un <a href=#predicats>pr\xE9dicat</a> <code>prouesse</code> (on peut y associer un nombre, si on souhaite plus d'une utilisation par tour). Le script g\xE9n\xE9rera automatiquement les boutons Prouesse sur les test appropri\xE9s.</li>
                  <li><strong>Dernier rempart (L) :</strong> pas de support particulier, le MJ doit g\xE9rer les attaques suppl\xE9mentaires. </li>
                  <li><strong>Constitution h\xE9ro\xEFque :</strong> reporter les bonus sur la fiche. </li>
                </ol>
                <h4 class="text-secondary">Voie du combat \xE0 deux armes</h4>
                <ol>
                  <li><strong>Combat \xE0 deux armes (L) :</strong> mettre une des attaques de type arme gauche, et y ajouter le modificateur <code>avecd12crit</code>. Pas encore de support pour la capacit\xE9 avanc\xE9e : dans ce cas, ajoutez le +1 dans la barre 3 du token ou sur les attaques. </li>
                  <li><strong>Parade crois\xE9e (L) :</strong> <code>!cof-effet-temp paradeCroisee 1 --valeur 2 --montreActions</code>. Pour la capacit\xE9 avanc\xE9e, <code>!cof-effet-temp paradeCroisee 1 --valeur 4 --montreActions</code>.</li>
                  <li><strong>Sym\xE9trie :</strong> En Attente </li>
                  <li><strong>Double peine :</strong> En Attente </li>
                  <li><strong>Combat \xE0 deux armes parfait :</strong> En Attente </li>
                </ol>
                <h4 class="text-secondary">Voie du combat mont\xE9  </h4>
                <ol>
                  <li><strong>Fid\xE8le monture :</strong> Faire un personnage pour la monture, avec un <a href=#predicats>pr\xE9dicat</a> <code>monture</code>. Pour monter sur la monture, on peut utiliser une ability de type token action, avec <code>!cof-en-selle @{selected|token_id} <i>nom_de_la_monture</i></code>. Pour en descendre, il suffit de cliquer \xE0 nouveau sur le bouton de l'ability. Si vous souhaitez \xE9viter que la monture apparaisse dans le turn tracker, vous pouvez ajouter un <a href=#predicats>pr\xE9dicat</a> <code>aucuneActionCombat</code> \xE0 la monture. </li>
                  <li><strong>Cavalier \xE9m\xE9rite</strong> : Ajouter au combattant un <a href=#predicats>pr\xE9dicat</a> <code>cavalierEmerite:2</code>. Pour la d\xE9fense de la monture, ajouter \xE0 cellle-ci un pr\xE9dicat <code>defDeriveeDe</code> de valeur le nom du combattant (exactement tel qu'il appara\xEEt sur la fiche, il est possible que cela demande d'utiliser la syntaxe avec <code>::</code>). Attention, cela suppose que le combattant a une meilleure DEF que sa monture. Si ce n'est pas le cas, faire les ajustements sur la fiche du combattant.</li>
                  <li><strong>Massacrer la pi\xE9taille :</strong> En Attente </li>
                  <li> <strong>Charge :</strong> pas de support pour le d\xE9placement, mais
                    <ul>
                      <li>Pour l'attaque : utiliser <code>--m2d20 --plus 1d6</code></li>
                      <li>Pour les cr\xE9atures sur la trajectoire, utiliser <code>!cof-jet FOR 18</code>, et en cas de succ\xE8s, infliger les DM (<code>!cof-dmg 1d6</code>)</li>
                    </ul>
                  </li>
                  <li><strong>Monture fantastique :</strong> faire un personnage pour la monture, avec un <a href=#predicats>pr\xE9dicat</a> <code>monture</code>.</li>
                </ol>
                <h4 class="text-secondary">Voie du commandement</h4>
                <ol>
                  <li><strong>Action concert\xE9e :</strong> utiliser <code>!cof-echange-init @{selected|token_id} @{target|token_id} <i>n</i></code> o\xF9 <i>n</i> peut valoir 0, 1, 2 ou 3 selon le rang dans la voie et si la capacit\xE9 est avanc\xE9e.</li>
                  <li><strong>\xC0 couvert (L) :</strong> <code>!cof-a-couvert @{selected|token_id} @{target|token_id}</code> le target est l'alli\xE9 qui se d\xE9place avec l'arquebusier. Se s\xE9lectionner soi-m\xEAme si pas d'alli\xE9. Pas encore de support pour la capacit\xE9 avanc\xE9e.</li>
                  <li><strong>Exemplaire :</strong> faire <code>!cof-exemplaire</code>, juste apr\xE8s l'attaque rat\xE9e.</li>
                  <li><strong>Ordre de bataille :</strong> pas de support </li>
                  <li><strong>Charge fantastique (L) :</strong> <code>!cof-charge-fantastique @{selected|token_id} --alliesEnVue --self --limiteParCombat 1</code></li>
                </ol>
                <h4 class="text-secondary">Voie de la f\xE9rocit\xE9</h4>
                <ol>
                  <li><strong>Cri de guerre :</strong> <code>!cof-effet-combat criDeGuerre</code></li>
                  <li><strong>Charge (L) :</strong> <code>#Attaque -1 --bonusAttaque 2 --plus 1d6</code>. Le d\xE9placement n'est pas encore g\xE9r\xE9.</li>
                  <li><strong>Rage du berserk (L) :</strong> utiliser <code>!cof-rage-du-berserk</code>, \xE0 la fois pour entrer en rage et pour tenter d'en sortir avant la fin du combat. Si le MJ souhaite mettre fin \xE0 la rage \xE0 cause d'un effet ext\xE9rieur, il peut utiliser la commande <code>!cof-effet-combat rageDuBerserk fin</code>.</li>
                  <li><strong>M\xEAme pas mal :</strong> ajouter un <a href=#predicats>pr\xE9dicat</a> <code>memePasMal</code>. Le joueur doit lui-m\xEAme activer la rage ou le furie si il souhaite en profiter.</li>
                  <li><strong>Attaque tourbillon (L) :</strong> <code>!cof-explosion -1 --auto --disque 5 --saufAllies --limiteParCombat 1 tourbillon</code>.</li>
                </ol>
                <h4 class="text-secondary">Voie de la guerre</h4>
                <ol>
                  <li><strong>Posture de combat :</strong> <code>!cof-posture-de-combat <i>bonus attr1 attr2</i></code>, o\xF9 les deux <i>attr</i> peuvent \xEAtre soit <code>DEF</code> soit <code>ATT</code> soit <code>DM</code>, et le <i>bonus</i> est retir\xE9 au premier attribut pour \xEAtre ajout\xE9 au second. Le bonus peut \xEAtre limit\xE9 si le combattant a un <a href=#predicats>pr\xE9dicat</a> <code>voieDuSoldat</code> qui indique son rang dans la voie. Exemple d'utilisation&nbsp;: <code>!cof-posture-de-combat ?{Bonus|1|2|3|4|5} ?{Baisser|D\xE9fense,DEF|Attaque,ATT|D\xE9g\xE2ts,DM} ?{Augmenter|D\xE9fense,DEF|Attaque,ATT|D\xE9g\xE2ts,DM}</code>. Normalement, la r\xE8gle fait d\xE9cider de sa posture au combattant \xE0 chaque tour, mais en pratique, il en change assez rarement. Une posture de combat reste donc active jusqu'\xE0 la fin du combat ou jusqu'\xE0 ce qu'on en change (elle est neutre si on a le m\xEAme attribut \xE0 buffer et d\xE9buffer).</li>
                  <li><strong>D\xE9sarmer (L) :</strong> <code>!cof-desarmer @{selected|token_id} @{target|token_id}</code>.</li>
                  <li><strong>Double attaque (L) :</strong> faire deux attaques, avec l'option suppl\xE9mentaire <code>--bonusAttaque -2</code>.</li>
                  <li><strong>Attaque circulaire (L) :</strong> faire les attaques normalement, ce n'est pas consid\xE9r\xE9 comme une aoe.</li>
                  <li><strong>Attaque puissante :</strong> <code>#Attaque -1 --avecd12crit --plus 2d6 --seulementContact</code>.</li>
                </ol>
                <h4 class="text-secondary">Voie de la ma\xEEtrise des armes</h4>
                <ol>
                  <li><strong>Arme de pr\xE9dilection :</strong> il est possible de pr\xE9ciser une famille d'armes de pr\xE9dilection (un peu plus large que dans les r\xE8gles), parmis <code>arc</code>, <code>arbalete</code>, <code>fronde</code>, <code>hache</code>, <code>epee</code>, <code>marteau</code>, <code>masse</code>, <code>sabre</code>, <code>epieu</code>, <code>poudre</code>, <code>baton</code> et <code>rapiere</code>. Si cela vous convient, ajoutez un pr\xE9dicat <code>armeDePredilection</code> de valeur une de ces familles. Sinon, simplement ajouter le bonus sur les attaques dans la fiche.</li>
                  <li><strong>Science du critique :</strong> En Attente </li>
                  <li><strong>Sp\xE9cialisation :</strong> En Attente </li>
                  <li><strong>Attaque parfaite (L) :</strong> En Attente </li>
                  <li><strong>Riposte :</strong> En Attente </li>
                </ol>
                <h4 class="text-secondary">Voie du pugilat</h4>
                <ol>
                  <li><strong>Poings de fer :</strong> En Attente </li>
                  <li><strong>Peau de pierre :</strong> En Attente </li>
                  <li><strong>Peau d\x2019acier :</strong> En Attente </li>
                  <li><strong>D\xE9luge de coups (L) :</strong> En Attente </li>
                  <li><strong>Force h\xE9ro\xEFque :</strong> En Attente </li>
                </ol>
                <h4 class="text-secondary">Voie de la puissance</h4>
                <ol>
                  <li><strong>Argument de taille :</strong> En Attente </li>
                  <li><strong>Tour de force :</strong> En Attente </li>
                  <li><strong>Attaque brutale (L) :</strong> En Attente </li>
                  <li><strong>Briseur d\x2019os :</strong> En Attente </li>
                  <li><strong>Vitalit\xE9 d\xE9bordante :</strong> En Attente </li>
                </ol>

              </div>
              <h3 class="text-info" id="Voies_de_la_famille_des_aventuriers">5.3 Voies de la famille des aventuriers</h3>
              <div class="decalage">
                <h4 class="text-secondary">Voie de l\x2019acrobatie</h4>
                <ol>
                  <li><strong>Acrobate :</strong> En Attente </li>
                  <li><strong>Gr\xE2ce f\xE9line :</strong> En Attente </li>
                  <li><strong>Lanceur de couteau :</strong> En Attente </li>
                  <li><strong>Esquive acrobatique :</strong> En Attente </li>
                  <li><strong>Dext\xE9rit\xE9 h\xE9ro\xEFque :</strong> En Attente </li>
                </ol>
                <h4 class="text-secondary">Voie de l\x2019arbal\xE8trie</h4>
                <ol>
                  <li><strong>Joli coup! :</strong> En Attente </li>
                  <li><strong>Cadence de tir :</strong> En Attente </li>
                  <li><strong>Tir double (L) :</strong> En Attente </li>
                  <li><strong>As de la g\xE2chette :</strong> En Attente </li>
                  <li><strong>Tir mortel :</strong> En Attente </li>
                </ol>
                <h4 class="text-secondary">Voie de l\x2019archerie</h4>
                <ol>
                  <li><strong>Sens aff\xFBt\xE9s :</strong> En Attente </li>
                  <li><strong>Tir aveugle (L) :</strong> En Attente </li>
                  <li><strong>Tir rapide (L) :</strong> En Attente </li>
                  <li><strong>Fl\xE8che de mort (L) :</strong> En Attente </li>
                  <li><strong>Dans le mille :</strong> En Attente </li>
                </ol>
                <h4 class="text-secondary">Voie de l\x2019assassinat</h4>
                <ol>
                  <li><strong>Discr\xE9tion :</strong> En Attente </li>
                  <li><strong>Attaque sournoise (L) :</strong> En Attente </li>
                  <li><strong>Frappe chirurgicale :</strong> En Attente </li>
                  <li><strong>Surprise :</strong> En Attente </li>
                  <li><strong>Botte secr\xE8te :</strong> En Attente </li>
                </ol>
                <h4 class="text-secondary">Voie du boh\xE8me</h4>
                <ol>
                  <li><strong>Rumeurs et l\xE9gendes :</strong> En Attente </li>
                  <li><strong>Argumenter :</strong> En Attente </li>
                  <li><strong>D\xE9brouillard :</strong> En Attente </li>
                  <li><strong>D\xE9guisement :</strong> En Attente </li>
                  <li><strong>Touche-\xE0-tout :</strong> En Attente </li>
                </ol>
                <h4 class="text-secondary">Voie du charme</h4>
                <ol>
                  <li><strong>Charmant :</strong> En Attente </li>
                  <li><strong>Provocation (L) :</strong> En Attente </li>
                  <li><strong>Attaque flamboyante (L) :</strong> En Attente </li>
                  <li><strong>Suggestion (L) :</strong> En Attente </li>
                  <li><strong>Charisme h\xE9ro\xEFque  :</strong> En Attente </li>
                </ol>
                <h4 class="text-secondary">Voie de la chasse</h4>
                <ol>
                  <li><strong>Proche de la nature :</strong> En Attente </li>
                  <li><strong>Nature nourrici\xE8re :</strong> En Attente </li>
                  <li><strong>Attaque \xE9clair (L) :</strong> En Attente </li>
                  <li><strong>Ennemis jur\xE9s :</strong> En Attente </li>
                  <li><strong>Perception h\xE9ro\xEFque :</strong> En Attente </li>
                </ol>
                <h4 class="text-secondary">Voie du compagnon animal</h4>
                <ol>
                  <li><strong>Odorat :</strong> En Attente </li>
                  <li><strong>Surveillance :</strong> En Attente </li>
                  <li><strong>Combat :</strong> En Attente </li>
                  <li><strong>Empathie animale :</strong> En Attente </li>
                  <li><strong>Animal fabuleux :</strong> En Attente </li>
                </ol>
                <h4 class="text-secondary">Voie de l\x2019escrime</h4>
                <ol>
                  <li><strong>Attaque en finesse :</strong> En Attente </li>
                  <li><strong>Intelligence du combat :</strong> En Attente </li>
                  <li><strong>Feinte (L) :</strong> En Attente </li>
                  <li><strong>Ambidextrie :</strong> En Attente </li>
                  <li><strong>Botte mortelle :</strong> En Attente </li>
                </ol>
                <h4 class="text-secondary">Voie de la fourberie</h4>
                <ol>
                  <li><strong>Doigts agiles :</strong> En Attente </li>
                  <li><strong>D\xE9tecter les pi\xE8ges :</strong> En Attente </li>
                  <li><strong>Croc-en-jambe :</strong> En Attente </li>
                  <li><strong>Attaque paralysante (L) :</strong> En Attente </li>
                  <li><strong>Attaque en tra\xEEtre :</strong> En Attente </li>
                </ol>

              </div>
              <h3 class="text-info" id="Voies_de_la_famille_des_mystiques">5.4 Voies de la famille des mystiques</h3>
              <div class="decalage">
                <h4 class="text-secondary">Talents magiques</h4>
                <ul>
                  <li><strong>D\xE9tection de la magie :</strong> pas de support.</li>
                  <li><strong>Flamme :</strong> Faire une attaque magique de type feu pour l'attaque au contact. Pour l'illumination, <code>!cof-lumiere @{selected|token_id} 5 1 --mana 0</code>.</li>
                  <li><strong>Inspiration :</strong> <code>!cof-effet-temp inspiration [[2+@{selected|SAG}]] --target @{target|token_id} --lanceur @{selected|token_id} --portee 10</code>. Pour l'instant le script ne v\xE9rifie pas que le sort n'est pas actif sur trop de cibles \xE0 la fois.</li>
                  <li><strong>Lumi\xE8res dansantes :</strong> <code>!cof-lumiere @{selected|token_id} 20 15 --mana 0</code>. Le script ne g\xE8re pas encore l'annulation de l'effet au moindre choc.</li>
                  <li><strong>Projectile de force : </strong>
                      Ajouter une attaque sur la fiche utilisant l'attaque magique, dommages 1d4, port\xE9e 50, type Sortil\xE8ge, modificateur <code>auto</code> d\xE9g\xE2ts contondants, option <code>--mana 0</code>.
                  </li>
                </ul>
                <h4 class="text-secondary">Voie de l\x2019alchimie</h4>
                <p style="margin-top:0px; margin-bottom:0px">Pour cr\xE9er ou juste voir ses \xE9lixirs, utiliser la commande <code>!cof-elixirs</code>. Pour cela, il faut aussi un <a href=#predicats>pr\xE9dicat</a> <code>voieDeLAlchimie</code> avec comme valeur le rang dans la voie. Noter que la commande <code>!cof-elixirs</code> affiche une liste d'\xE9lixirs, et que pour effectivement cr\xE9er un \xE9lixir, il faut cliquer sur le bouton correspondant dans cette liste.</p>
                <ol>
                  <li><strong>Fortifiant :</strong> cr\xE9ation \xE0 l'aide de <code>!cof-elixirs</code>, et utilisation avec la m\xEAme commande, ou bien en utilisant <code>!cof-consommables</code>. Pour la version avanc\xE9e, ajouter un pr\xE9dicat <code>fortiviantAvance</code></li>
                  <li><strong>Feu gr\xE9geois :</strong> cr\xE9ation \xE0 l'aide de <code>!cof-elixirs</code>, et utilisation avec la m\xEAme commande, ou bien en utilisant <code>!cof-consommables</code>. Pas de support pour la version avanc\xE9e pour l'instant : utiliser <code>!cof-dmg <i>rang</i> --feu</code> pour les personnages qui auraient rat\xE9 leur jet de DEX.</li>
                  <li><strong>Huile instable :</strong> cr\xE9ation \xE0 l'aide de <code>!cof-elixirs</code>, et utilisation avec la m\xEAme commande, ou bien en utilisant <code>!cof-consommables</code>.</li>
                  <li><strong>\xC9lixir de gu\xE9rison :</strong> cr\xE9ation \xE0 l'aide de <code>!cof-elixirs</code>, et utilisation avec la m\xEAme commande, ou bien en utilisant <code>!cof-consommables</code>.</li>
                  <li><strong>\xC9lixirs de Protection :</strong> cr\xE9ation \xE0 l'aide de <code>!cof-elixirs</code>, et utilisation avec la m\xEAme commande, ou bien en utilisant <code>!cof-consommables</code>.</li>
                </ol>
                <h4 class="text-secondary">Voie des arts druidiques</h4>
                <ol>
                  <li><strong>Langage des animaux :</strong> En Attente </li>
                  <li><strong>Nu\xE9e d\x2019insectes* :</strong> En Attente </li>
                  <li><strong>Le guetteur :</strong> En Attente </li>
                  <li><strong>Masque du pr\xE9dateur* :</strong> En Attente </li>
                  <li><strong>Sagesse h\xE9ro\xEFque :</strong> En Attente </li>
                </ol>
                <h4 class="text-secondary">Voie de la divination</h4>
                <ol>
                  <li><strong>Sixi\xE8me sens :</strong> ajouter le bonus en DEF divers et initiative divers, ajouter une comp\xE9tence <code>vigilance</code>, de valeur 5 (le bonus aux jet de surprise).</li>
                  <li><strong>D\xE9tection de l\x2019invisible* :</strong> En Attente </li>
                  <li><strong>Clairvoyance* :</strong> En Attente </li>
                  <li><strong>Prescience* :</strong> En Attente </li>
                  <li><strong>Hyperconscience :</strong> En Attente </li>
                </ol>
                <h4 class="text-secondary">Voie de l\x2019envo\xFBtement</h4>
                <ol>
                  <li><strong>Injonction* :</strong> En Attente </li>
                  <li><strong>Sommeil* :</strong> En Attente </li>
                  <li><strong>Confusion* :</strong> En Attente </li>
                  <li><strong>Amiti\xE9* :</strong> En Attente </li>
                  <li><strong>Domination* :</strong> En Attente </li>
                </ol>
                <h4 class="text-secondary">Voie des for\xEAts</h4>
                <ol>
                  <li><strong>Peau d\x2019\xE9corce* :</strong>
                    <code>!cof-effet-temp peauDEcorce [[5+@{selected|SAG}]] ?{Magie|Normale,--mana 1|\xC9conome (L),--mana 0|\xC9tendue (L),--puissant duree --mana 1}</code>. Si le personnage a un <a href=#predicats>pr\xE9dicat</a> <code>voieDesForets</code> de valeur 4 ou plus, le bonus sera de +4 en DEF. Ajouter un pr\xE9dicat <code>peauDEcorceAvancee</code> pour la version en capacit\xE9 avanc\xE9e.</li>
                  <li><strong>Prison v\xE9g\xE9tale* :</strong> En Attente </li>
                  <li><strong>Baies magiques* :</strong> En Attente </li>
                  <li><strong>Animation d\x2019un arbre* :</strong> En Attente </li>
                  <li><strong>R\xE9g\xE9n\xE9ration* :</strong> En Attente </li>
                </ol>
                <h4 class="text-secondary">Voie des illusions</h4>
                <ol>
                  <li><strong>Image d\xE9cal\xE9e* :</strong> <code>!cof-effet-temp imageDecalee [[5+@{selected|SAG}]] ?{Magie|Normale,--mana 1|\xC9conome (L),--mana 0|\xC9tendue (L),--puissant duree --mana 1}</code>. Pour la version avanc\xE9e de la capacit\xE9, ajouter un pr\xE9dicat <code>imageDecaleeAvancee</code>.</li>
                  <li><strong>Mirage* :</strong> En Attente </li>
                  <li><strong>Imitation* :</strong> En Attente </li>
                  <li><strong>D\xE9doublement* :</strong> En Attente </li>
                  <li><strong>Tueur fantasmagorique* :</strong> En Attente </li>
                </ol>
                <h4 class="text-secondary">Voie de la magie \xE9l\xE9mentaliste</h4>
                <ol>
                  <li><strong>Brumes* :</strong>
                  <code>!cof-tenebres @{selected|token_id} @{target|token_id} --brumes --mana 1</code>. La commande pose un token de brouillard pour visualiser la zone. Tous les tokens pr\xE9sents dans la zone au lancement du sort sont automatiquement dans l'\xE9tat p\xE9nombre. Au MJ ensuite d'enlever l'\xE9tat p\xE9nombre quand les cibles sortent de la zone. A la fin de la dur\xE9e du sort, ou \xE0 la fin du combat, la zone et les \xE9tats p\xE9nombre restant disparaissent automatiquement. Il est aussi possible de changer les valeurs par d\xE9faut du sort (port\xE9e 20m, rayon 20m) avec les options <code>--portee X</code> et <code>--rayon X</code>. En r\xE8gle custom, l'option <code>puissant</code> permet de doubler la superficie couverte (le script calcule le rayon appropri\xE9 si custom).</li>
                  <li><strong>Sous tension* :</strong>
                    <ul>
                      <li><code>!cof-effet-temp sousTension [[5+@{selected|SAG}]] ?{Magie|Normale,--mana 2|\xC9conome (L),--mana 0|\xC9tendue (L),--puissant duree --mana 2|Puissante (L),--puissant --mana 2}</code> pour lancer le sort et mettre le personnage sous tension</li>
                      <li>Ajouter une attaque sur la fiche utilisant l'attaque magique, dommages 1d6+INT, port\xE9e 10, type Sortil\xE8ge, d\xE9g\xE2ts \xE9lectriques, options <code>--si etat sousTension --fx beam-holy</code>.</li>
                      <li>Utiliser un pr\xE9dicat <code>voieDeLaMagieElementaliste</code> de valeur le rang dans la voie pour le passage des d\xE9g\xE2ts \xE0 2d6 quand le personnage est touch\xE9.</li>
                      <li>Pas de support particulier pour la version avanc\xE9e.</li>
                    </ul>
                  </li>
                  <li><strong>Armure de terre* :</strong>
                  bien utiliser un <a href=#predicats>pr\xE9dicat</a> <code>voieDeLaMagieElementaliste</code> avec comme valeur le rang dans la voie. Pour lancer le sort, faire <code>!cof-effet-temp protectionContreLesElements [[5+@{selected|SAG}]] ?{Magie|Normale,--mana 3|\xC9conome (L),--mana 1|\xC9tendue (L),--puissant duree --mana 3}</code>.</li>
                  <li><strong>Boule de feu* :</strong> En Attente </li>
                  <li><strong>Intelligence h\xE9ro\xEFque :</strong> En Attente </li>
                </ol>
                <h4 class="text-secondary">Voie de la magie runique</h4>
                <ol>
                  <li><strong>Forgeron* :</strong> Il faut un <a href=#predicats>pr\xE9dicat</a> <code>voieDuMetal</code> pour conna\xEEtre le rang (ou utiliser l'option <code>--valeur</code>). Lancer le sort avec <code>!cof-effet-temp forgeron(<i>L</i>) [[5+@{selected|SAG}]]</code> o\xF9 <i>L</i> est le label d'une attaque. Ensuite, chaque fois que cette attaque sera utilis\xE9e, les d\xE9g\xE2ts seront ajout\xE9s. Limitations : si deux attaques utilisent la m\xEAme arme, il faut faire deux fois l'action, une pour chaque attaque.</li>
                  <li><strong>Rune d\x2019\xE9nergie* :</strong> En Attente </li>
                  <li><strong>Rune de puissance* :</strong> En Attente </li>
                  <li><strong>Rune de garde* :</strong> En Attente </li>
                  <li><strong>Rune de tradition :</strong> En Attente </li>
                </ol>
                <h4 class="text-secondary">Voie du mysticisme</h4>
                <ol>
                  <li><strong>B\xE9n\xE9diction* :</strong> En Attente </li>
                  <li><strong>Protection contre le mal* :</strong> En Attente </li>
                  <li><strong>D\xE9livrance* :</strong> En Attente </li>
                  <li><strong>Sanctuaire* :</strong> En Attente </li>
                  <li><strong>Rituel de puissance :</strong> En Attente </li>
                </ol>
                <h4 class="text-secondary">Voie des sombres savoirs</h4>
                <ol>
                  <li><strong>Saignements* :</strong> En Attente </li>
                  <li><strong>Mal\xE9diction* :</strong> En Attente </li>
                  <li><strong>Pacte sanglant* :</strong> En Attente </li>
                  <li><strong>H\xE9morragie* :</strong> En Attente </li>
                  <li><strong>Invocation d\x2019un d\xE9mon* :</strong> En Attente </li>
                </ol>

              </div>
              <h3 class="text-info" id="Voies_de_prestige_Arran">5.4 Voies de prestige</h3>
              <h2 class="text-primary" id="Markers_personnalis\xE9s">6. Markers Personnalis\xE9s</h2>
              <h3 class="text-info" id="Markers_presentation">6.1 Pr\xE9sentation</h3>
              <div class="decalage">
                <p>Roll20 peut \xEAtre d\xE9routant lors des premi\xE8res utilisations pour des joueurs plus habitu\xE9s au Jeu de R\xF4le sur table. Il introduit des notions peu courantes du fait que les combats vont se d\xE9rouler sur des "battlemaps" quadrill\xE9es ou non. Aussi on va prendre quelques minutes pour expliquer deux notions importantes : <strong>les tokens</strong> et <strong>les tokens markers</strong> (plus simplement appel\xE9s <strong>markers</strong> par la suite).</p>
                <p>Le token : Un token est la repr\xE9sentation graphique d'un personnage (PJ ou PNJ) sur la battlemap. Gr\xE2ce au token on sait \xE0 tout moment o\xF9 se trouve le personnage, s'il subit un sort \xE0 effet de zone ou si sa ligne de tir est d\xE9gag\xE9e par exemple.</p>
                <p>Le marker : Un marker est forc\xE9ment attach\xE9 \xE0 un token. Il repr\xE9sente un "\xE9tat" qui affecte le personnage (<a href="#etats">liste des \xE9tats</a>). Il se mat\xE9rialise par une ic\xF4ne dans le coin en haut \xE0 doite du token. Un token peut afficher plusieurs markers au m\xEAme moment. Ils repr\xE9sentent plusieurs \xE9tats qui se cumulent pour ce personnage.
                <p><img class="img-fluid" src="https://imgur.com/7aLlEL3.png" data-href="https://imgur.com/7aLlEL3.png"></p>
                <p>Dans l'image ci-dessus le token c'est le personnage \xE0 la cape bleue qui repr\xE9sente un PJ et le marker c'est le petit escargot qui signifie que ce m\xEAme PJ est "ralenti". Le script g\xE8re les \xE9tats des PJ et PNJ et il mat\xE9rialisera leurs \xE9tats gr\xE2ce aux markers. Par exemple le MJ va demande un jet de surprise, le script effectue les jets de d\xE9s n\xE9cessaire et mat\xE9rialise l'\xE9tat "surpris" gr\xE2ce \xE0 un marker pour les personnages qui ont rat\xE9 leur jet de d\xE9. Le script applique automatiquement le malus -5 \xE0 la DEF. Au bout d'un tour l'\xE9tat "surpris" et le marker seront retir\xE9s automatiquement par le script. Le MJ peut aussi mettre directement un \xE9tat \xE0 un personnage. Par exemple s'il consid\xE8re que ses PJs voyagent trop charg\xE9s il peut ajouter le marker "encombr\xE9" qui lui rappelera que dor\xE9navant les jets de DEX se font sur un d12 et plus sur un d20.</p>
                <p>Il existe des markers qui ne repr\xE9sentent pas un \xE9tat mais ils sont rares. On peut souligner les ronds de couleurs qui permmettent au joueur de retrouver son token plus facilement. De la m\xEAme mani\xE8re dans les markers cof il y existent deux marqueurs <code>cof-init...</code> qui permettent de rep\xE9rer le prochain joueur pendant les combats. Ce n'est pas un \xE9tat.</p>
              </div>
              <h3 class="text-info" id="Markers_COF">6.2 R\xE9cup\xE9ration des markers d\xE9di\xE9s COF</h3>
              <div class="decalage">
                <p>Roll20 poss\xE8de des markers par d\xE9faut mais ils ne sont pas toujours adapt\xE9s pour Chroniques Oubli\xE9es Fantasy. La communaut\xE9 a vot\xE9 pour choisir les tokens les plus pertinents dans le contexte COF. Voici le <a href="https://www.black-book-editions.fr/forums.php?topic_id=16514">lien vers le post dans le forum BBE</a>. N'h\xE9sitez pas \xE0 venir poser vos questions ou proposer vos talents de graphiste \xE0 la communaut\xE9.</p>
                <p>Avant de pouvoir cr\xE9er votre propre jeu de markers sur Roll20, vous devez pr\xE9alablement t\xE9l\xE9charger ceux mis \xE0 disposition par la communaut\xE9 depuis <a href="https://github.com/Ulty/COFantasy">le repository GitHub du projet</a>. Proc\xE9dez comme suit :</p>
                <p><img class="img-fluid" src="https://imgur.com/xEUDHaC.png" data-href="https://imgur.com/xEUDHaC.png"></p>
                <p>Une fois le fichier t\xE9l\xE9charg\xE9 sur votre PC d\xE9zippez le r\xE9pertoire <code>cof-marker-set</code> et son sous-r\xE9pertoire</p>
              </div>
              <h3 class="text-info" id="Markers_Import">6.3 Importation des markers dans Roll20</h3>
              <div class="decalage">
                <p>Dans le r\xE9pertoire <code>cof-marker-set</code> vous trouverez tous les markers qui ont \xE9t\xE9 choisis par la communaut\xE9. Dans le r\xE9pertoire <code>markers-alternatifs</code> vous trouverez les glorieux seconds au vote que vous pouvez utiliser en lieu et place du marker choisi s'il vous pla\xEEt plus. Il vous suffit alors de glisser-d\xE9poser le fichier dans le r\xE9pertoire principal et de confirmer l'\xE9crasement de l'autre marker. Vous pouvez aussi choisir vos propres markers dans  <a href="https://game-icons.net/">cette g\xE9niale biblioth\xE9que d'ic\xF4nes</a>. Vous pouvez aussi d\xE9ssiner vos propre marker. Les limites sont que la taille de l'image doit \xEAtre exactement de 512x512 px. Un fichier PNG est pr\xE9f\xE9rable pour g\xE9rer la transparence. Enfin votre fichier doit porter exactement le m\xEAme nom qu'indiqu\xE9 <a href="#etats">dans cette documentation</a>.</p>
                <p>Dans Roll20 rendez-vous dans le menu "Outils" puis "Token Marker Library". Appuyez sur "Create Set". Puis renseignez le nom du marker set. "cof markers" par exemple. Appuyez sur "Create Set".</p>
                <p><img class="img-fluid" src="https://imgur.com/NrHZ5Q6.png" data-href="https://imgur.com/NrHZ5Q6.png"></p>
                <p>Vous arrivez alors sur la fen\xEAtre suivante o\xF9 il suffit de d\xE9poser les fichiers pour qu'ils soient upload\xE9s sur Roll20</p>
                <p><img class="img-fluid" src="https://imgur.com/5TUTgWb.png" data-href="https://imgur.com/5TUTgWb.png"></p>
                <p>A ce moment il y a deux \xE9coles de vie : ceux qui l\xE2chent tous leurs markers en m\xEAme temps et qui laisse le soin aux serveurs de Roll20 de d\xE9cider dans quel ordre ils verront appara\xEEtre les markers dans leur interface pour le restant de leur jour. Et ceux qui posent les fichiers un par un pour que l'ordre qu'ils souhaitent soit respect\xE9 par Roll20. Quand tout est pr\xEAt cliquez sur "Upload". Vous avez un message "Fichiers en cours de traitement" pendant 1 \xE0 2 minutes. Ensuite Roll20 vous propose de renommer vos tokens. Ne changez rien et fa\xEEtes "Save". Ca y est, vos markers personnalis\xE9s sont enfin pr\xEAts !</p>
              </div>
              <h3 class="text-info" id="Markers_Check">6.4 Activation et V\xE9rification</h3>
              <div class="decalage">
                <p>Mais ce n'est pas fini il vous faut encore affecter vos markers \xE0 votre campagne. Cela se passe sur la page d'acceuil de votre campagne:</p>
                <p><img class="img-fluid" src="https://imgur.com/cE5OAga.png" data-href="https://imgur.com/cE5OAga.png"></p>
                <p>Lancez votre campagne et v\xE9rifiez que les nouveaux markers apparaissent bien. Lancez ensuite la commande <code>!cof-options</code> pour cocher "Markers Personnalises". Enfin comme dernier contr\xF4le allez dans la console des API, fa\xEEtes "restart API sandbox" et v\xE9rifiez que le message "Markers personnalis\xE9s activ\xE9s" est bien pr\xE9sent. Si ce n'est pas le cas vous avez probablement oubli\xE9 des markers "obligatoires" et le script n'a pas pu activer les markers cof pour cette raison. La liste des markers manquants devrait appara\xEEtre dans la console.</p>
              </div>
              <h2 class="text-primary" id="Console">7. Console API</h2>
              <h3 class="text-info" id="Generalites_Console">7.1 G\xE9n\xE9ralit\xE9s sur la Console </h3>
              <div class="decalage">
                <p>Il est recommand\xE9 quand vous jouez de garder un onglet de votre navigateur ouvert sur la Console API de votre campagne (Param\xE8tres -> Scripts API). En cas d'absence de r\xE9ponse du jeu il vous permet de facilement prendre connaissance d'une \xE9ventuelle erreur et de prendre rapidement les actions correctives n\xE9cessaires.</p>
                <p>Un message bloquant est \xE9crit dans un bloc rouge en dehors de la fen\xEAtre API Output Console et ressemble \xE0 l'image suivante :</p>
                <p><img class="img-fluid" src="https://imgur.com/ydMKYLl.png" data-href="https://imgur.com/ydMKYLl.png"></p>
                <p>Lorsqu'un message rouge comme celui-ci interrompt votre partie v\xE9rifiez s'il poss\xE8de une solution identifi\xE9e dans le paragraphe ci-dessous. "Restart API sandbox" permet de relancer le script mais les m\xEAmes causes provoqueront la m\xEAme erreur. Si le message d'erreur n'est pas encore r\xE9f\xE9renc\xE9 ou ne propose pas de solution, essayez de comprendre quelle est votre derni\xE8re action ou quel bouton provoque cette erreur et terminez votre s\xE9ance en \xE9vitant de l'utiliser. Retestez plus tard et si l'erreur se reproduit expliquez-nous votre probl\xE8me <a href="https://www.black-book-editions.fr/forums.php?topic_id=7842">sur ce post dans le forum BBE</a>. Essayez d'\xEAtre le plus exhaustif possible dans vos explications car malheureusement les messages de Roll20 ne sont pas pr\xE9cis du tout quant au contexte de l'erreur. Par exemple le num\xE9ro de la ligne de code incrimin\xE9e ne nous est pas connue et l'on a donc besoin de toutes les pr\xE9cisions possibles pour comprendre le probl\xE8me et \xEAtre en capacit\xE9 de le reproduire afin de le corriger.</p>
                <p>Les messages qui sont \xE0 l'interieur de la fen\xEAtre API Output Console sont des messages d'information ou d'alerte comme sur l'image suivante :</p>
                <p><img class="img-fluid" src="https://imgur.com/5N5xrXI.png" data-href="https://imgur.com/5N5xrXI.png"></p>
                <p>Malgr\xE9 la gravit\xE9 apparente de certains de ces messages (SyntaxError) ils n'emp\xEAchent jamais le bon fonctionnement du script. Seuls les messages bloquants apparaissants en rouge emp\xEAche le bon fonctionnement du script. Nous n'avons pas compl\xE9tement la main sur l'apparition de ces messages d'alerte et nous travaillons activement avec Roll20 pour les \xE9liminer. Des messages d'informations sont aussi pr\xE9sents comme par exemple le num\xE9ro de version du script que vous utilisez actuellement.</p>
              </div>
              <h3 class="text-info" id="Messages_Console">7.2 Principaux messages bloquants</h3>
              <div class="decalage">
                <ul>
                  <li><code>There was an error communicating with the QuantumRoll server</code> Erreur Roll20 courante. "Restart API Sandbox" r\xE8gle normalement ce probl\xE8me.</li>
                  <li><code>docker: Cannot connect to the Docker daemon. Is the docker daemon running on this host?</code> Erreur Roll20. "Restart API Sandbox" r\xE8gle normalement ce probl\xE8me.</li>
                  <li><code>SyntaxError: Invalid or unexpected token ... </code> Erreur dans le code. Pas de solution \xE9vidente. Le signaler uniquement si c'est un message bloquant (rouge).</li>
                  <li><code>SyntaxError: Unexpected token ... </code> Erreur dans le code. Pas de solution \xE9vidente. Le signaler uniquement si c'est un message bloquant (rouge).</li>
                  <li><code>TypeError: Cannot read property '...' of undefined </code> Erreur dans le code. Pas de solution \xE9vidente. Le signaler uniquement si c'est un message bloquant (rouge).</li>
                </ul>
              </div>
              <h3 class="text-info" id="Infos_Console">7.3 Principaux messages d'information et d'alerte</h3>
              <div class="decalage">
                <ul>
                  <li><code>COFantasy X.XX loaded</code> Information : Le script a correctement d\xE9marr\xE9. Vous indique le num\xE9ro de version utilis\xE9.</li>
                  <li><code>Markers personnalis\xE9s activ\xE9s</code> Information : Succ\xE8s de l'activation des <a href="#Markers_personnalis\xE9s">Markers Personnalis\xE9s</a>.</li>
                  <li><code>API sandbox shutdown due to campaign inactivity</code> Information : "Restart API Sandbox" ou l'utilisation de la campagne remet en route la sandbox.</li>
                  <li><code>XXX dans l'\xE9quipe XXX est inconnu </code> Alerte : Erreur dans le <a href="#allie">handout servant de s\xE9lection d'\xE9quipe</a>. V\xE9rifiez l'orthographe de vos personnages.</li>
                  <li><code>Markers personnalis\xE9s manquants -> Retour aux markers standards Roll20. Voir erreur(s) ci-dessus.</code> Alerte : Impossibilit\xE9 d'activer les <a href="#Markers_personnalis\xE9s">Markers Personnalis\xE9s</a> pour cause d'un marker obligatoire absent.</li>
                  <li><code>Marker cof-XXX introuvable</code> Alerte : Erreur dans le nom d'un marker. Voir <a href="#Markers_personnalis\xE9s">Markers Personnalis\xE9s</a> ou <a href="#etats">liste des \xE9tats</a>.</li>
                  <li><code>Comp\xE9tences sans caract\xE9ristique associ\xE9e</code>Alerte : Erreur de d\xE9claration dans le <a href="#jet_caracteristiques">handout de jets de caract\xE9ristique</a>.</li>
                </ul>
              </div>
              <h3 class="text-info" id="Reset_state">7.4 Purger les variables d'\xE9tat du jeu</h3>
              <div class="decalage">
                <p>Pour son bon fonctionnement, le script stoque des donn\xE9es, parfois complexes, et il peut arriver que ces donn\xE9es soient corrompues. Dans ce cas, le script peut planter de mani\xE8re syst\xE9matique, m\xEAme sur des actions simples. Si vous soup\xE7onnez une corruption des donn\xE9es, vous pouvez tenter de lancer la commande <code>!cof-clean-global-state</code>.
                </p>
              </div>
              <h2 class="text-primary" id="pathfinder">8. Utiliser des personnages Pathfinder</h2>
              <div class="decalage">
                <p>Il existe un support basique des fiches Roll20 venant du syst\xE8me Pathfinder 1. La fonction <code>!cof-pathfinder1</code> se lance en s\xE9lectionnant un ou plusieurs tokens li\xE9s \xE0 des fiches Pathfinder (par exemple obtenues en achetant des aventures Pathfinder sur le marketplace de Roll20). L'effet est d'une part de transformer une partie des attributs de la fiche en attributs compris par la fiche COF et le script COFantasy, de changer un peu le token associ\xE9 \xE0 la fiche, mais surtout d'effacer les attributs inutiles pour COF. En effet, le script est relativement sensible au nombre total d'attributs en jeu, et les fiches Pathfinder ont tendence \xE0 en avoir vraiment beaucoup. Tout ce qui n'est pas compris par le script se retrouve dans un attribut <code>Attributs Pathfinder</code>. Mais le mieux est de compl\xE9ter la fiche COF en se basant sur la fiche Pathfinder ouverte dans une autre partie.</p>
              </div>
              <h2 class="text-primary" id="statistiques">9. Statistiques</h2>
              <div class="decalage">
                <p>Il est possible d'activer la collecte de statistiques en utilisant la commande <code>!cof-demarrer-statistiques</code>.</p>
                <p>On peut arr\xEAter la collecte avec <code>!cof-arreter-statistiques</code>, et la mettre en pause avec <code>!cof-pause-statistiques</code>.<br />
                Si on red\xE9marre apr\xE8s une mise en pause, on reprend les statistiques comme elles \xE9taient au moment de la pause. Si on red\xE9marre des statistiques en court, cela remet les statistiques \xE0 z\xE9ro.
                </p>
              </div>
            </div>
          </div>
        </div>
          <p><i>Ce site utilise des marques d\xE9pos\xE9es et des droits d\x2019auteurs qui sont la propri\xE9t\xE9 de Black Book Editions comme l\x2019y autorisent les conditions d\x2019utilisation de Black Book Editions. Ce site n\x2019est pas publi\xE9 par Black Book Editions et n\x2019a pas re\xE7u son aval ni une quelconque approbation de sa part. Pour de plus amples informations sur Black Book Editions, consultez <a href="www.black-book-editions.fr">www.black-book-editions.fr</a>.</i></p>
        
  </body>
</html>
